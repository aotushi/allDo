
## é˜…è¯»èµ„æ–™
## [Recommended Readings](https://github.com/type-challenges/type-challenges#recommended-readings)
- [The TypeScript Handbook](https://www.typescriptlang.org/docs/handbook/intro.html)
    - [Unions and Intersection Types](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types)
    - [Literal Types](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#literal-types)
    - [Utility Types](https://www.typescriptlang.org/docs/handbook/utility-types.html)
    - [Advanced Types](https://www.typescriptlang.org/docs/handbook/2/types-from-types.html)
- [The New Handbook](https://github.com/microsoft/TypeScript-Website/tree/v2/packages/documentation/copy/en/handbook-v2)
### Articles
- [Learn Advanced TypeScript Types](https://medium.com/free-code-camp/typescript-curry-ramda-types-f747e99744ab)
- [The Art of Type Programming](https://mistlog.medium.com/the-art-of-type-programming-cfd933bdfff7)
- [Type Query: jQuery Style Type Manipulation](https://mistlog.medium.com/type-query-jquery-style-type-manipulation-497ce26d93f)
- [TypeScript Deep Dive](https://basarat.gitbook.io/typescript/)

### Talks
- [Type Level Programming in Typescript](https://www.youtube.com/watch?reload=9&v=vGVvJuazs84)

### Projects / Solutions
- [ğŸ¥ Video Explanations and Solutions for every challenge!](https://www.youtube.com/playlist?list=PLOlZuxYbPik180vcJfsAM6xHYLVxrEgHC)
- [Type Challenges Solutions](https://github.com/ghaiklor/type-challenges-solutions)
- [Type Gymnastics](https://github.com/g-plane/type-gymnastics)
- [TypeType Examples](https://github.com/mistlog/typetype-examples)

### Books
- [Effective TypeScript](https://effectivetypescript.com/)
- [Learning TypeScript](https://www.learningtypescript.com/)
- [TypeScript in 50 Lessons](https://typescript-book.com/)
- [TypeScript Cookbook](https://typescript-cookbook.com/)


## TSå¼€å‘ç¯å¢ƒæ­å»º

> ä¸»è¦æ˜¯VSCodeä¸­é…ç½®

### æ‰“å¼€VSCodeä¸­TSçš„æ‰€æœ‰é…ç½®
1. é€šè¿‡ Ctrl(Command) + Shift + P æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œæ‰¾åˆ°ã€Œæ‰“å¼€å·¥ä½œåŒºè®¾ç½®ã€è¿™ä¸€é¡¹
2. è¾“å…¥'typescript',ä¼šç­›é€‰å‡ºæ‰€æœ‰ TypeScript æœ‰å…³çš„é…ç½®.ç‚¹å‡»å·¦ä¾§çš„"TypeScript"ï¼Œä¼šåœ¨å³ä¾§å±•ç¤ºå†…ç½®çš„é…ç½®.
3. è¡¥å…¨æœç´¢æ¡†ä¸­çš„æœç´¢è¯ï¼Œä½¿ç”¨â€œtypescript inlay hintsâ€, æ›´æ–°å³ä¾§çš„é…ç½®é€‰é¡¹.

### æ¨èå¼€å¯çš„é…ç½®
- Function Like Return Typesï¼Œæ˜¾ç¤ºæ¨å¯¼å¾—åˆ°çš„å‡½æ•°è¿”å›å€¼ç±»å‹ï¼›
  
- Parameter Namesï¼Œæ˜¾ç¤ºå‡½æ•°å…¥å‚çš„åç§°ï¼›
  
- Parameter Typesï¼Œæ˜¾ç¤ºå‡½æ•°å…¥å‚çš„ç±»å‹ï¼›
  
- Variable Typesï¼Œæ˜¾ç¤ºå˜é‡çš„ç±»å‹ã€‚

> è¿™äº›é…ç½®çš„ä¸»è¦èƒ½åŠ›å°±æ˜¯æŠŠå‚æ•°åï¼Œå‚æ•°ç±»å‹ï¼Œä»¥åŠæ¨å¯¼å¾—åˆ°çš„ç±»å‹ç­‰ç­‰ä¿¡æ¯ç›´æ¥å±•ç¤ºåœ¨å±å¹•ä¸Šï¼Œå¦åˆ™ä½ å°±éœ€è¦æ‚¬æµ®é¼ æ ‡åœ¨ä»£ç ä¸Šæ¥æŸ¥çœ‹è¿™äº›ä¿¡æ¯äº†ã€‚å¯¹äºå…¥é—¨é˜¶æ®µçš„å¼€å‘è€…æ¥è¯´ï¼Œå¯ä»¥å¼€å¯è¿™äº›é…ç½®é¡¹æ¥è·å¾—æ›´æ¸…æ™°çš„ç±»å‹ä¿¡æ¯ã€‚



### å¦‚ä½•åˆ†äº«TSä»£ç ç»™ä»–äºº
æ¨èçš„æ–¹å¼
* ä½¿ç”¨ Web IDEï¼Œæ¯”å¦‚ CodeSandbox
* TSå®˜æ–¹çš„Â [TypeScript Playground](https://link.juejin.cn/?target=https%3A%2F%2Fwww.typescriptlang.org%2Fplay "https://www.typescriptlang.org/play")



## TSä¸­çš„ç±»å‹

### ç±»å‹ç»“æ„

![image-20241126194855331](./assets/image-20241126194855331.png)


### ç±»å‹æ³¨è§£
> åœ¨TypeScriptä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»å‹æ³¨è§£æ¥æ˜ç¡®æ ‡è¯†ç±»å‹ã€‚ç±»å‹æ³¨è§£çš„è¯­æ³•ç”±ä¸€ä¸ªå†’å·â€œ:â€å’ŒæŸç§å…·ä½“ç±»å‹â€œTypeâ€ç»„æˆï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```ts
:Type
```

æ³¨æ„,åœ¨TSä¸­ç±»å‹æ³¨è§£æ˜¯å¯é€‰çš„,ç¼–è¯‘å™¨åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹å¯ä»¥æ¨æ–­å‡ºè¡¨è¾¾å¼çš„ç±»å‹.


### ç±»å‹æ£€æŸ¥
> ç±»å‹æ£€æŸ¥æ˜¯éªŒè¯ç¨‹åºä¸­ç±»å‹çº¦æŸæ˜¯å¦æ­£ç¡®çš„è¿‡ç¨‹ã€‚
> ç±»å‹æ£€æŸ¥æ—¢å¯ä»¥åœ¨ç¨‹åºç¼–è¯‘æ—¶è¿›è¡Œï¼Œå³é™æ€ç±»å‹æ£€æŸ¥ï¼›ä¹Ÿå¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶è¿›è¡Œï¼Œå³åŠ¨æ€ç±»å‹æ£€æŸ¥ã€‚
> TypeScriptæ”¯æŒé™æ€ç±»å‹æ£€æŸ¥ï¼ŒJavaScriptæ”¯æŒåŠ¨æ€ç±»å‹æ£€æŸ¥ã€‚

TSæä¾›ä¸¤ç§é™æ€ç±»å‹æ£€æŸ¥æ¨¡å¼:
* éä¸¥æ ¼ç±»å‹æ£€æŸ¥(é»˜è®¤)
* ä¸¥æ ¼ç±»å‹æ£€æŸ¥

**å¦‚ä½•å¼€å¯?**

```ts
//tsconfig.json
{
	"compilerOptions": {
		"stric": true,
	}
}
```




## åŸå§‹ç±»å‹

### æ–‡æ¡£
> [TypeScript: Documentation - Everyday Types](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#the-primitives-string-number-and-boolean)


### TSä¸­çš„åŸå§‹ç±»å‹æœ‰å“ªäº›?
æœ‰: `boolean`, `string`, `number`, `biginit`, `symbol`, `undefined`, `null`, `void`, `æšä¸¾ç±»å‹`, `å­—é¢é‡ç±»å‹`.

### å®ä¾‹

```ts
//string
const foo: string = 'foo'

//number
const bin: number = 0b1010

//boolean
const yes:boolean = true
const no: boolean = false

//biginit
const bin: biginit = 0b1010n;
```


#### å­—ç¬¦ä¸²ç±»å‹è½¬æ•°ç»„ç±»å‹
```ts
type StringToArr<S extends string, T extends any[] = []> = S extends `${infer F}${infer Rest}`
	? [F, ...StringToArr<Rest>]
	: T;


type StringToArr2<S extends string, T extends any[] = []> = S extends `${infer F}${infer Rest}`
	? StringToArr2<Rest, [...T, F]>
	: T;
```

#### æ•°ç»„è½¬å­—ç¬¦ä¸²
```ts


type ArrToStr<T extends string[], S extends string = ''> = T extends [infer F extends string, ...infer Rest extends string[]]
Â  ? `${F}${ArrToStr<Rest>}`
Â  : S;

  
type ArrToStr2<T extends any[], S extends string = ''> = T extends [ infer F extends string , ...infer Rest extends string[]]
Â  ? ArrToStr2<Rest, `S${F}`>
Â  : S;

```







### symbolç±»å‹å’Œunique symbolç±»å‹

#### symbolç±»å‹
* symbolç±»å‹ä¸å­˜åœ¨å­—é¢é‡ç±»å‹. ä¾‹å¦‚æ•°å­—å­—é¢é‡'3'å°±æ˜¯è¡¨ç¤ºå›ºå®šæ•°å€¼'3'.
* symbolç±»å‹åªèƒ½é€šè¿‡`Symbol()`å’Œ`Symbol.for()`å‡½æ•°æ¥åˆ›å»ºæˆ–ç›´æ¥å¼•ç”¨æŸä¸ªSymbolå€¼

```ts
const s0: symbol = Symbol();
const s1: symbol = Symbol.for('foo');
const s2: symbol = Symbol.hasInstance;
const s3: symbol = s0;
```


#### unique symbolç±»å‹
* å°†ä¸€ä¸ªSymbolå€¼è§†ä½œè¡¨ç¤ºå›ºå®šå€¼çš„å­—é¢é‡ï¼ŒTypeScriptå¼•å…¥äº†â€œunique symbolâ€ç±»å‹
* â€œunique symbolâ€ç±»å‹çš„ä¸»è¦ç”¨é€”æ˜¯ç”¨ä½œæ¥å£ã€ç±»ç­‰ç±»å‹ä¸­çš„å¯è®¡ç®—å±æ€§å
```ts

const s0: unique symbol = Symbol()
const s1: unique symbol = Symbol.for('s1')
```

```ts
// ä½¿ç”¨å¯è®¡ç®—å±æ€§ååœ¨æ¥å£ä¸­æ·»åŠ äº†ä¸€ä¸ªç±»å‹æˆå‘˜ï¼Œé‚£ä¹ˆå¿…é¡»ä¿è¯è¯¥ç±»å‹æˆå‘˜çš„åå­—æ˜¯å›ºå®šçš„ï¼Œå¦åˆ™æ¥å£å®šä¹‰å°†å¤±å»æ„ä¹‰


const x: unique symbol = Symbol()
const y: symbol = Symbol()


interface Foo {
	[x]: string; //æ­£ç¡®

	[y]: string; // é”™è¯¯, æ¥å£ä¸­çš„è®¡ç®—å±æ€§åå¿…é¡»å¼•ç”¨ç±»å‹ä¸ºå­—é¢é‡ç±»å‹æˆ–`unique symbol`çš„è¡¨è¾¾å¼
}

```


##### æ³¨æ„äº‹é¡¹
* **'unique symbol'çš„å€¼åªå…è®¸ä½¿ç”¨constæ¥å£°æ˜
* **'unique symbol'ç±»å‹çš„å€¼å€¼å…è®¸ä½¿ç”¨`Symbol()`å‡½æ•°æˆ–`Symbol.for()`æ–¹æ³•çš„è¿”å›å€¼è¿›è¡Œåˆå§‹åŒ–
* TSæ— æ³•è¯†åˆ«Symbol.for(xxx)ç›¸åŒå‚æ•°çš„è¿”å‚ç›¸åŒçš„æƒ…å†µ,ä¹Ÿä¸ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯.éœ€è¦æ³¨æ„.
* ç”±äºâ€œunique symbolâ€ç±»å‹æ˜¯ symbolç±»å‹çš„å­ç±»å‹ï¼Œå› æ­¤å¯ä»¥å°†â€œunique symbolâ€ç±»å‹çš„å€¼èµ‹å€¼ç»™symbolç±»å‹
* å¦‚æœç¨‹åºä¸­æœªä½¿ç”¨ç±»å‹æ³¨è§£æ¥æ˜ç¡®å®šä¹‰æ˜¯symbolç±»å‹è¿˜æ˜¯â€œunique symbolâ€ç±»å‹ï¼Œé‚£ä¹ˆTypeScriptä¼šè‡ªåŠ¨åœ°æ¨æ–­ç±»å‹

```ts


//ä¸ä¼šæŠ¥é”™ éœ€è¦ç‰¹åˆ«æ³¨æ„
const a: unique symbol = Symbol.for('same')
const b: unique symbol = Symbol.for('same')


//çˆ¶å­å…³ç³»
const a: unique symbol = Symbol();
const b: symbol = a;


//è‡ªåŠ¨æ¨æ–­ç±»å‹
// aå’Œbå‡ä¸º'symbol'ç±»å‹ï¼Œå› ä¸ºæ²¡æœ‰ä½¿ç”¨constå£°æ˜
let a = Symbol();
let b = Symbol.for('');

// cå’Œdå‡ä¸º'unique symbol'ç±»å‹
const c = Symbol();
const d = Symbol.for('');

// eå’Œfå‡ä¸º'symbol'ç±»å‹ï¼Œæ²¡æœ‰ä½¿ç”¨Symbol()æˆ–Symbol.for()åˆå§‹åŒ–
const e = a;
const f = a;
```



### Nullable

#### æ˜¯ä»€ä¹ˆ
> TypeScriptä¸­çš„Nullableç±»å‹æŒ‡çš„æ˜¯å€¼å¯ä»¥ä¸ºundefinedæˆ–nullçš„ç±»å‹


#### undefined
> undefinedç±»å‹åªåŒ…å«ä¸€ä¸ªå¯èƒ½å€¼ï¼Œå³undefinedå€¼ã€‚undefinedç±»å‹ä½¿ç”¨undefinedå…³é”®å­—æ ‡è¯†

```ts

const foo: undefined = undefined;
```



#### null

> nullç±»å‹åªåŒ…å«ä¸€ä¸ªå¯èƒ½å€¼ï¼Œå³nullå€¼ã€‚nullç±»å‹ä½¿ç”¨nullå…³é”®å­—æ ‡è¯†

```ts
const foo: null = null;
```

#### strictNullChecks

##### æ˜¯ä»€ä¹ˆ
> tsconfig.jsonä¸­ä»2.0ç‰ˆæœ¬å¢åŠ äº†è¿™ä¸ªç¼–è¯‘é€‰é¡¹. ç”¨æ¥è¿›è¡Œä¸¥æ ¼çš„undefinedå’Œnullç±»å‹çš„ç±»å‹æ£€æŸ¥.
> é»˜è®¤ä¸å¼€å¯, æ­¤æ—¶é™¤å°¾ç«¯ç±»å‹å¤–çš„æ‰€æœ‰ç±»å‹éƒ½æ˜¯Nullableç±»å‹, æ‰€æœ‰ç±»å‹éƒ½èƒ½æ¥å—undefinedå€¼å’Œnullå€¼, å³å…è®¸å°†å…¶å®ƒç±»å‹çš„å€¼èµ‹å€¼ä¸ºnullæˆ–undefined.

```ts

/**
* --strictNullChecks = false
*/

let m1: boolean = undefined
let m2: string = undefined

let n1: boolean = null
let n2: string = null
```


##### å­˜åœ¨çš„é—®é¢˜
> æ— æ³•æ£€æŸ¥å‡ºç©ºå¼•ç”¨çš„é”™è¯¯

```ts
/**
* --strictNullChecks = false
*/

let foo: string = undefined //æ­£ç¡®, å¯ä»¥é€šè¿‡ç±»å‹æ£€æŸ¥

foo.length //è¿è¡Œæ—¶, å°†äº§ç”Ÿç±»å‹é”™è¯¯

//è¿è¡Œç»“æœ
// Error: TypeError: Cannot read property 'length' of undefined
```

**å¦‚ä½•è§£å†³?**
> å¯ç”¨â€œ--strictNullChecksâ€ç¼–è¯‘é€‰é¡¹, undefinedå€¼å’Œnullå€¼ä¸å†èƒ½å¤Ÿèµ‹å€¼ç»™ä¸ç›¸å…³çš„ç±»å‹, é™¤äº†è‡ªèº«ç±»å‹, è¿˜å…è®¸èµ‹å€¼ç»™é¡¶ç«¯ç±»å‹, åŒæ—¶undefinedç±»å‹ä¹Ÿå…è®¸èµ‹å€¼ç»™voidç±»å‹.


```ts
/**
* --strictNullChecks = true
*/


let m1: void = undefined

let m2: any = undefined
let m3: unknown = undefined

let n2: any = null
let n3: unknown = null


//ä¸¤è€…äº’æ¢ä½¿ç”¨ä¼šæŠ¥é”™
const foo: undefined = null //ç¼–è¯‘é”™è¯¯, ç±»å‹nullä¸èƒ½èµ‹å€¼ç»™ç±»å‹undefined
const bar: null = undeifned //ç¼–è¯‘é”™è¯¯, ç±»å‹undeifned .....
```


### void

#### æ˜¯ä»€ä¹ˆ
> voidç±»å‹è¡¨ç¤ºæŸä¸ªå€¼ä¸å­˜åœ¨ï¼Œè¯¥ç±»å‹ç”¨ä½œ**å‡½æ•°çš„è¿”å›å€¼ç±»å‹**. åœ¨å…¶å®ƒåœ°æ–¹ä½¿ç”¨voidç±»å‹æ˜¯æ— æ„ä¹‰çš„.
> å½“å¯ç”¨äº†`--strictNullChecks`æ—¶, åªå…è®¸å°†undefinedèµ‹å€¼ç»™voidç±»å‹


```ts
function log(msg: string): void {
	console.log(msg)
}
```


```ts
// --strictNullChecks = true

// æ­£ç¡®
function foo(): void {
	return undefined
}

// é”™è¯¯
function bar(): void {
	return null
}


// --strictNullChecks = false
// æ­£ç¡®
function foo(): void {
	return undefined
}
//æ­£ç¡®
function bar(): void {
	return null
}
```



### æšä¸¾ç±»å‹

> [TypeScript: Handbook - Enums](https://www.typescriptlang.org/docs/handbook/enums.html)

#### èƒŒæ™¯

> ä¸ºäº†è§£å†³ç¨‹åºä¸­é‡‡ç”¨æ•°å€¼æˆ–å­—ç¬¦ä¸²åˆ¤æ–­æ—¶å€™å‡ºç°çš„**å¯è¯»æ€§å·®å’Œå˜é‡åˆ†å¸ƒæ•£ä¹±**çš„é—®é¢˜,å¯ä»¥å¼•å…¥æšä¸¾æ¥ä»£æ›¿æ•°å€¼ç±»å‹æˆ–å­—ç¬¦ä¸²ç±»å‹.
>
> æšä¸¾ç±»å‹å˜é‡é€šå¸¸ç”¨äºé›†ä¸­å®šä¹‰å’Œç®¡ç†ä¸€ç»„ç›¸å…³çš„å¸¸é‡ï¼Œä¾¿äºåœ¨å…¶ä»–åœ°æ–¹å¼•ç”¨. 
>
> TSæ”¯æŒæ•°å€¼æšä¸¾å’Œå­—ç¬¦ä¸²æšä¸¾.


#### æ˜¯ä»€ä¹ˆ
> æšä¸¾ç±»å‹ç”±**é›¶ä¸ª**æˆ–**å¤šä¸ªæšä¸¾æˆå‘˜**æ„æˆï¼Œæ¯ä¸ªæšä¸¾æˆå‘˜éƒ½æ˜¯ä¸€ä¸ªå‘½åçš„å¸¸é‡ã€‚
> æ˜¯åŸå§‹ç±»å‹;
> é€šè¿‡`enum`å…³é”®å­—å®šä¹‰

```ts
enumb Season {
	Spring,
	Summer,
	Fall,
	Winter
}
```

#### åˆ†ç±»
æŒ‰ç…§æšä¸¾æˆå‘˜çš„ç±»å‹å¯ä»¥å°†æšä¸¾ç±»å‹åˆ’åˆ†ä¸ºä»¥ä¸‹ä¸‰ç±»ï¼š
* æ•°å€¼å‹æšä¸¾
* å­—ç¬¦ä¸²æšä¸¾
* å¼‚æ„å‹æšä¸¾



#### æšä¸¾å¸¦æ¥çš„å¥½å¤„:

* æšä¸¾èƒ½æä¾›æ¸…æ™°çš„æç¤ºåŠå€¼
* å¯¹äºæ•°å€¼ç±»å‹çš„å€¼,å¯ä»¥è‡ªåŠ¨ç´¯åŠ å€¼

åœ¨JSä¸­é€šè¿‡å¯¹è±¡æ–¹å¼å®šä¹‰å¸¸é‡,å¯ä»¥èµ·åˆ°æ³¨é‡Šä½œç”¨.

```js
const userLevelCode = {
  Visitor: 10001,
  NonVIPUser: 10002,
  VIPUser: 10003,
  Admin: 10010,
  // ... 
}



fetchUserInfo({
  // ...
  // åç»­ç»´æŠ¤è€…ï¼šè¿™åˆ°åº•æ˜¯ä¸ªå•¥ï¼Ÿï¼Ÿ
  userCode: 10001
})

fetchUserInfo({
  // ...
  // åç»­ç»´æŠ¤è€…ï¼šå“¦ï¼Œè¿™é‡Œè¦ç»™è®¿å®¢ç”¨æˆ·å•Š
  userCode: userLevelCode.Visitor
})

```

åœ¨TSä¸­æä¾›äº†ä¸€ä¸ªæ›´å¥½çš„å®šä¹‰å¸¸é‡çš„æ–¹å¼: æšä¸¾.

```ts
enum UserLevelCode {
  Visitor = 10001,
  NonVIPUser = 10002,
  VIPUser = 10003,
  Admin = 10010,
  // ... 
}

```




#### æ•°å€¼æšä¸¾

##### æè¿°

* æ•°å€¼æšä¸¾æ˜¯æ•°å€¼ç±»å‹çš„å­ç±»å‹, å› æ­¤å¯ä»¥å°†æ•°å€¼å‹æšä¸¾ç±»å‹èµ‹å€¼ç»™numberç±»å‹; æ³¨æ„, numberç±»å‹ä¹Ÿèƒ½èµ‹å€¼ç»™æšä¸¾ç±»å‹, å³ä½¿numberç±»å‹çš„å€¼ä¸åœ¨æšä¸¾æˆå‘˜å€¼çš„åˆ—è¡¨ä¸­
* æ•°å€¼å‹æšä¸¾æˆå‘˜éƒ½è¡¨ç¤ºä¸€ä¸ªå…·ä½“çš„æ•°å­—. å¦‚æœåœ¨å®šä¹‰æšä¸¾æ—¶æ²¡æœ‰è®¾ç½®æšä¸¾æˆå‘˜çš„å€¼ï¼Œé‚£ä¹ˆTypeScriptå°†è‡ªåŠ¨è®¡ç®—æšä¸¾æˆå‘˜çš„å€¼, è®¡ç®—è§„åˆ™æ˜¯ç¬¬ä¸€ä¸ªæˆå‘˜çš„å€¼ä¸º0, å…¶åæ¯ä¸ªåœ¨å‰ä¸€ä¸ªåŸºç¡€ä¸ŠåŠ 1.
* æ•°å€¼æšä¸¾å¯ä»¥æ··å…¥è®¡ç®—æˆå‘˜å’Œå¸¸é‡æˆå‘˜. ç®€å•è¯´,æ²¡æœ‰åˆå§‹åŒ–çš„æšä¸¾è¦ä¹ˆæ’åœ¨ç¬¬ä¸€ä½,è¦ä¹ˆæ’åœ¨åˆç”¨æ•°å€¼å¸¸é‡æˆ–å…¶å®ƒå¸¸é‡æšä¸¾æˆå‘˜åˆå§‹åŒ–ä¹‹å.


##### å®šä¹‰åŠè®¿é—®

```ts
enum Direction {
	Up,
	Down,
	Left,
	Right
}

const direction: Direction = Direction.Up
```

```ts
enum MonthOfYear {
  January,
  February,
  March,
  April,
  May,
  ... //çœç•¥åç»­ä»£ç 
}

let month: MonthOfYear = MonthOfYear.March
console.log(month); //2

//èµ‹å€¼ç»™æ•°å€¼ç±»å‹
const month2: number = MonthOfYear.January

//æ•°å€¼ç±»å‹èµ‹å€¼ç»™æšä¸¾ç±»å‹
const month3: MonthOfYear = 10;
```

åœ¨æ²¡æœ‰æ˜¾å¼åœ°ç»™å„ä¸ªæšä¸¾æˆå‘˜èµ‹å€¼çš„æƒ…å†µä¸‹ï¼Œæšä¸¾ä¸­çš„ç¬¬ä¸€ä¸ªæˆå‘˜å°†ä»0å¼€å§‹å–å€¼ï¼Œè€Œä¸‹ä¸€ä¸ªæˆå‘˜ä¼šåœ¨ä¸Šä¸€ä¸ªæˆå‘˜å–å€¼çš„åŸºç¡€ä¸ŠåŠ 1.

å½“ç„¶,ä¹Ÿå¯ä»¥æ˜¾å¼èµ‹å€¼.

```ts
enum MonthOfYear {
  January = 1,
  February,    //2
  March = 10,
  April,       //11
  May,
  ... //çœç•¥åç»­ä»£ç 
}

let month: MonthOfYear = MonthOfYear.March
console.log(month); //3
```



**æšä¸¾å¦‚ä½•è§£å†³åˆ†æ”¯åˆ¤æ–­ä¸­å¯è¯»æ€§å·®çš„é—®é¢˜?**

```ts
enum UserType {
  Admin,
  VIP,
  Normal,
  Guest
}

//åšåˆ†æ”¯åˆ¤æ–­æ—¶
if (userType === UserType.Admin) {
  //..
} else if (userType === UserType.VIP || userType == UserType.Normal) {
  //...
} else if (userType === UserType.Guest) {
  //...
}
```























#### å­—ç¬¦ä¸²æšä¸¾

> å­—ç¬¦ä¸²æšä¸¾çš„å®šä¹‰æ–¹å¼å’Œæ•°å€¼æšä¸¾ç±»ä¼¼ï¼Œä½†åŒºåˆ«åœ¨äºå„ä¸ªæˆå‘˜éœ€è¦æ˜¾å¼åœ°èµ‹å€¼ä¸ºå­—ç¬¦ä¸².
>
> å­—ç¬¦ä¸²æšä¸¾æˆå‘˜å¿…é¡»ä½¿ç”¨**å­—ç¬¦ä¸²å­—é¢é‡**æˆ–**å¦ä¸€ä¸ªå­—ç¬¦ä¸²æšä¸¾æˆå‘˜**æ¥åˆå§‹åŒ–ã€‚

```ts
enum MonthOfYear {
    January = "1æœˆ",
    February = "2æœˆ",
    March = "3æœˆ",
    April = "4æœˆ",
    May = "5æœˆ",
    ...//çœç•¥åç»­ä»£ç 
}
ã€€
let month: MonthOfYear = MonthOfYear.March;
console.log(month); //3æœˆ

enum Direction {
    Up = 'UP',
    Down = 'DOWN',
    Left = 'LEFT',
    Right = 'RIGHT',

    U = Up,
    D = Down,
    L = Left,
    R = Right,
}
```



##### ä¸å­—ç¬¦ä¸²çš„å…³ç³»

å­—ç¬¦ä¸²æšä¸¾å¯ä»¥èµ‹å€¼ç»™å­—ç¬¦ä¸²,ä½†æ˜¯åè¿‡æ¥ä¸è¡Œ,ä¼šäº§ç”ŸæŠ¥é”™.

```ts
enum Direction {
    Up = 'UP',
    Down = 'DOWN',
    Left = 'LEFT',
    Right = 'RIGHT',
}

const diretion: string = Direction.Up

const direction2: Direction = 'UP'; //ç¼–è¯‘é”™è¯¯
```





#### æ…ç”¨çš„æšä¸¾å½¢å¼



#### å¸¸é‡æšä¸¾æˆå‘˜å’Œè®¡ç®—æšä¸¾æˆå‘˜

æ ¹æ®æšä¸¾æˆå‘˜çš„å€¼å¯ä»¥å°†æšä¸¾æˆå‘˜åˆ’åˆ†ä½å¦‚ä¸‹ä¸¤ç±»:

* å¸¸é‡æšä¸¾æˆå‘˜
* è®¡ç®—æšä¸¾æˆå‘˜

#### å¸¸é‡æšä¸¾æˆå‘˜

ç¬¦åˆçš„å‡ ç§æƒ…å†µ,éƒ½æ˜¯å¸¸é‡æšä¸¾æˆå‘˜:

* æ²¡æœ‰æ˜¾å¼å£°æ˜åˆå§‹å€¼,ä¸”æ˜¯ç¬¬ä¸€ä¸ªæšä¸¾æˆå‘˜
* ä¸æ˜¯ç¬¬ä¸€ä¸ªæšä¸¾æˆå‘˜, ä½†æ˜¯å‰ä¸€ä¸ªæšä¸¾æˆå‘˜çš„ç±»å‹æ˜¯æ•°å€¼å‹.
* æšä¸¾æˆå‘˜çš„å€¼æ˜¯**å¸¸é‡æšä¸¾è¡¨è¾¾å¼**

##### å¸¸é‡æšä¸¾è¡¨è¾¾å¼

> æ˜¯TSè¡¨è¾¾å¼çš„å­é›†,èƒ½å¤Ÿåœ¨ç¼–è¯‘é˜¶æ®µè¢«æ±‚å€¼.

å…·ä½“è§„åˆ™:

* å¯ä»¥æ˜¯: æ•°å­—å­—é¢é‡,å­—ç¬¦ä¸²å­—é¢é‡å’Œä¸åŒ…å«æ›¿æ¢å€¼çš„æ¨¡æ¿å­—é¢é‡;
* å¯ä»¥æ˜¯: å¯¹å‰é¢å®šä¹‰çš„å¸¸é‡æšä¸¾æˆå‘˜çš„å¼•ç”¨;
* å¯ä»¥æ˜¯ç”¨åˆ†ç»„è¿ç®—ç¬¦åŒ…å›´èµ·æ¥çš„å¸¸é‡æšä¸¾è¡¨è¾¾å¼
* å¯ä»¥ä½¿ç”¨ä¸€å…ƒè¿ç®—ç¬¦`+, -, ~`, æ“ä½œæ•°å¿…é¡»ä¸ºå¸¸é‡æšä¸¾è¡¨è¾¾å¼.
* å¯ä»¥ä½¿ç”¨äºŒå…ƒè¿ç®—ç¬¦`+,-,*, **, /, %, <<, >>, >>>, &, |, ^`, ä¸¤ä¸ªæ“ä½œæ•°å¿…é¡»ä¸ºå¸¸é‡æšä¸¾è¡¨è¾¾å¼



ok,è®©æˆ‘ä»¬æ¥çœ‹ä¸‹ä¾‹å­å§:

```ts
enum Foo {
  A=0,
  B=`B`,
  C='C',
  D=A,
}

enum Bar {
  A=-1,
  B=1+2,
  C=(4/2)*3
}
```



```ts
let a = 1;
enum Foo {
  A,
  B=`${a}` //æ˜¾å¼æŠ¥é”™: Type 'string' is not assignable to type 'number' as required for computed enum member values.ts(18033)
}

//
enum Foo2 {
  A:string, //An enum member name must be followed by a ',', '=', or '}'.ts(1357)
}
```



#### è®¡ç®—æšä¸¾æˆå‘˜

##### æ˜¯ä»€ä¹ˆ

> é™¤å¸¸é‡æšä¸¾æˆå‘˜ä¹‹å¤–çš„å…¶ä»–æšä¸¾æˆå‘˜éƒ½å±äºè®¡ç®—æšä¸¾æˆå‘˜

```ts

enum Foo {
  A="a".lnegth,
  B=Math.pow(2,3)
}
```





#### ä½¿ç”¨ç¤ºä¾‹(é™ä½è€¦åˆåº¦)

æšä¸¾è¡¨ç¤ºä¸€ç»„æœ‰é™å…ƒç´ çš„é›†åˆ,å¹¶é€šè¿‡æšä¸¾æˆå‘˜åæ¥å¼•ç”¨é›†åˆä¸­çš„å…ƒç´ . æœ‰æ—¶, ç¨‹åºå¹¶ä¸å…³å¿ƒæšä¸¾æˆå‘˜å€¼, åœ¨è¿™ç§æƒ…å†µä¸‹,è®©TSè‡ªåŠ¨è®¡ç®—æšä¸¾æˆå‘˜å€¼æ˜¯å¾ˆæ–¹ä¾¿. 

ç¨‹åºä¸ä¾èµ–æšä¸¾æˆå‘˜å€¼æ—¶,å¯ä»¥é™ä½ä»£ç çš„è€¦åˆåº¦,ä½¿å…¶æ˜“äºæ‰©å±•. ä¾‹å¦‚,æƒ³ç»™Directionæšä¸¾æ·»åŠ ä¸€ä¸ªåä¸ºNoneçš„æšä¸¾æˆå‘˜æ¥è¡¨ç¤ºæœªçŸ¥æ–¹å‘ã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼ŒNoneåº”ä½œä¸ºç¬¬ä¸€ä¸ªæšä¸¾æˆå‘˜,åŒæ—¶å…¶å®ƒæšä¸¾æˆå‘˜çš„å€¼ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–, ç”±äºmoveå‡½æ•°è¡Œä¸ºä¸ç›´æ¥ä¾èµ–æšä¸¾æˆå‘˜çš„å€¼,å› æ­¤è¿™æ¬¡ä¿®æ”¹å¯¹å·²æœ‰åŠŸèƒ½ä¸ä¼šäº§ç”Ÿä»»ä½•å½±å“.

```ts
enum Direction {
  up,
  down,
  left,
  right
}

function move(direction: Direction) {
  switch(direction) {
    case Direction.up:
      console.log('up')
      break
    case Direction.down:
      console.log('down')
      break
    case Direction.left:
      console.log('left')
      break
    case Direction.right:
      console.log('right')
      break
  }
}

move(Direction.up)   //up
move(Direction.down) //down


//
```





#### è”åˆæšä¸¾ç±»å‹(Union enums types)

##### æ˜¯ä»€ä¹ˆ

> å½“æšä¸¾ç±»å‹ä¸­çš„æ‰€æœ‰æˆå‘˜éƒ½æ˜¯å­—é¢é‡æšä¸¾æˆå‘˜æ—¶ï¼Œè¯¥æšä¸¾ç±»å‹æˆäº†è”åˆæšä¸¾ç±»å‹ã€‚

å®˜ç½‘ä¸Šçš„æè¿°: 'æœ‰ä¸€ç§ç‰¹æ®Šçš„å¸¸é‡æšä¸¾æˆå‘˜ç±»å‹, å…¶ä¸ä¼šè¢«è®¡ç®—å€¼. å­—é¢é‡æšä¸¾æˆå‘˜æ˜¯æ²¡æœ‰åˆå§‹åŒ–å€¼çš„å¸¸é‡æšä¸¾æˆå‘˜æˆ–æ˜¯æœ‰å€¼ä¸”åˆå§‹åŒ–æ˜¯å¦‚ä¸‹å‡ ç§æƒ…å†µçš„: 

* ä»»æ„å­—ç¬¦ä¸²å­—é¢é‡
* ä»»æ„æ•°å€¼å­—é¢é‡
* ä½¿ç”¨äº†ä¸€å…ƒå‡å·çš„ä»»æ„æ•°å€¼å­—é¢é‡.

`è¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦å›å¿†ä¸‹ä¸ç¬¦åˆæ¡ä»¶çš„æšä¸¾æˆå‘˜å€¼æœ‰: äºŒå…ƒè¡¨è¾¾å¼/å˜é‡/å‡½æ•°è°ƒç”¨/å¼•ç”¨çš„ä¹‹å‰æšä¸¾æˆå‘˜/`

å½“æšä¸¾ä¸­æ‰€æœ‰æˆå‘˜å…·æœ‰å­—é¢é‡æšä¸¾å€¼æ—¶,ä¼šäº§ç”Ÿå¦‚ä¸‹è¯­ä¹‰:

* **æšä¸¾æˆå‘˜ä¹Ÿä¼šæˆä¸ºä¸€ç§ç±»å‹**

* **æšä¸¾ç±»å‹è‡ªèº«ä¼šæˆä¸ºæ¯ä¸ªæšä¸¾æˆå‘˜çš„ä¸€ç§å¹¶é›†**(å°±æ˜¯è”åˆç±»å‹)

```ts
// æšä¸¾æˆå‘˜ä¹Ÿæ˜¯ä¸€ç§ç±»å‹

enum ShapeKind {
  Circle,
  Square
}

interface Circle {
  kind: ShapeKind.Circle,
  radius: number
}

interface Square {
  kind: ShapeKind.Square,
  radius: number
}

let c: Circle {
  kind: ShapeKind.Square,
  // 
  radius: 100
}
```





##### è”åˆæšä¸¾æˆå‘˜ç±»å‹

> å®šä¹‰, 

è”åˆæšä¸¾æˆå‘˜ç±»å‹æ˜¯è”åˆæšä¸¾ç±»å‹çš„å­ç±»å‹,å› æ­¤å¯ä»¥å°†æˆå‘˜ç±»å‹èµ‹å€¼ç»™è”åˆæšä¸¾ç±»å‹.

```ts
enum Direction {
  up,
  down
}

const up: Direction.up = Direction.up
const direction: Direction = up
```



##### è”åˆæšä¸¾ç±»å‹

> å®šä¹‰, æ˜¯ç”±æ‰€æœ‰è”åˆæšä¸¾æˆå‘˜ç±»å‹æ„æˆçš„è”åˆç±»å‹

```ts
enum Direction {
  left,
  down,
  right,
  left
}

type UnionDirectionType = Direction.up | Direction.down | Direction.right | Direction.left
```





#### åœ¨è¿è¡Œæ—¶

åœ¨è¿è¡Œæ—¶,æšä¸¾ä»¥å¯¹è±¡å½¢å¼å­˜åœ¨. 

```ts
enum E {
  X,
  Y,
  Z,
}
 
function f(obj: { X: number }) {
  return obj.X;
}
 
// Works, since 'E' has a property named 'X' which is a number.
f(E);
```



#### åœ¨ç¼–è¯‘æ—¶

> ä½¿ç”¨`keyof typeof`è·å–è¡¨ç¤ºæ‰€æœ‰æšä¸¾é”®ä¸ºå­—ç¬¦ä¸²çš„ç±»å‹.

```ts
enum LogLevel {
  ERROR,
  WARN,
  INFO,
  DEBUG,
}
 
/**
 * This is equivalent to:
 * type LogLevelStrings = 'ERROR' | 'WARN' | 'INFO' | 'DEBUG';
 */
type LogLevelStrings = keyof typeof LogLevel;
 
function printImportant(key: LogLevelStrings, message: string) {
  const num = LogLevel[key];
  if (num <= LogLevel.WARN) {
    console.log("Log level key is:", key);
    console.log("Log level value is:", num);
    console.log("Log level message is:", message);
  }
}
printImportant("ERROR", "This is a message");
```







##### `const`æšä¸¾







##### Ambient enums(åŒ…è£¹æšä¸¾?)



#### å¯¹è±¡ vs. æšä¸¾

> åœ¨tsä¸­,å¦‚æœä¸€ä¸ªå¯¹è±¡ä½¿ç”¨`as const`,ä½ å¯èƒ½éƒ½ä¸éœ€è¦æšä¸¾äº†. æ­¤å¤„å¯¹è±¡æ˜¯å¸¸é‡å¯¹è±¡.

å¸¸é‡å¯¹è±¡ç›¸å¯¹æšä¸¾æ¥è¯´: åˆ›å»ºçš„å¯¹è±¡æ›´è½»å·§; ä¸éœ€è¦ç±»å‹è½¬æ¢; è¿è¡Œå¼€é”€æ›´å°.





**ç”Ÿäº§æ¡ˆä¾‹:**

```ts
const ApiEndpoints = {
  Users: '/api/users',
  Posts: '/api/posts',
  Comments: '/api/comments'
} as const;

// typeof ApiEndpoints[keyof typeof ApiEndpoints] è·å–å¯¹è±¡æ‰€æœ‰å¯èƒ½çš„å€¼çš„ç±»å‹, ä¹Ÿå°±æ˜¯æœ€ç»ˆç»“æœæ˜¯: '/api/users'|'/api/posts'|'/api/comments'
function fetchData(endpoint: typeof ApiEndpoints[keyof typeof ApiEndpoints]) { 
  return fetch(endpoint);
}

// å®‰å…¨åœ°ä½¿ç”¨ï¼Œåªèƒ½ä¼ å…¥é¢„å®šä¹‰çš„ç«¯ç‚¹
fetchData(ApiEndpoints.Users);


//typeof
const ApiEndpoints = {
  Users: '/api/users',
  Posts: '/api/posts'
} as const;

// typeof ApiEndpoints çš„ç±»å‹æ˜¯ {
//   readonly Users: "/api/users";
//   readonly Posts: "/api/posts";
// }

// typeof ApiEndpoints[keyof typeof ApiEndpoints] è·å–æ‰€æœ‰å€¼çš„è”åˆç±»å‹
type EndpointUrls = typeof ApiEndpoints[keyof typeof ApiEndpoints];
// ç»“æœæ˜¯ "/api/users" | "/api/posts"
```





















### å¼•ç”¨ç±»å‹çš„æ ‡æ³¨

æ•°ç»„ç±»å‹æœ‰ä¸¤ç§æ ‡æ³¨æ–¹æ³•:
> è¿™ä¸¤ç§æ–¹å¼æ²¡æœ‰æ˜æ˜¾çš„åŒºåˆ«ï¼Œè·å¾—çš„ç±»å‹æç¤ºéƒ½æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼Œä»…ä»…å–å†³äºä½ æƒ³æŠŠæ•°ç»„æˆå‘˜çš„ç±»å‹å†™åœ¨å‰è¿˜æ˜¯åã€‚
* `Array<æ•°ç»„ç±»å‹>`
* `æ•°ç»„ç±»å‹[]`

```ts
const userName1: string[] = [];
const userName1: Array<string> = [];
```

Setç±»å‹å’ŒMapç±»å‹å’Œæ•°ç»„ç±»å‹æ ‡æ³¨æœ‰ç‚¹ç±»ä¼¼.
```ts

const set = new Set<number>();

set.add(1);
set.add('2'); // X ç±»å‹â€œstringâ€çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹â€œnumberâ€çš„å‚æ•°ã€‚

const map = new Map<number, string>();

map.set(1, '1');
map.set('2', '2'); // X ç±»å‹â€œstringâ€çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹â€œnumberâ€çš„å‚æ•°ã€‚

```




å¯¹è±¡ç±»å‹æ ‡æ³¨:
ä½¿ç”¨æ¥å£(interface)è¿›è¡Œæ ‡æ³¨:
```ts
interface User {
	userName: string,
	userAge: number,
	userMarried: boolean
}

const user: User = {
	userName: 'test', 
	userAge: 20, 
	userMarried: false,
}
```



#### è¿›é˜¶ç±»å‹


##### æ¥å£ç±»å‹
* æ¥å£çš„å±æ€§ç±»å‹å¯ä»¥æ˜¯ä»»æ„æœ‰æ•ˆçš„ç±»å‹ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ¥å£
* æ¥å£åŠ ä¸Šæ•°ç»„ç±»å‹,å¯ä»¥æè¿°ä¸€ä¸ªæˆå‘˜æ˜¯å¯¹è±¡çš„æ•°ç»„ç±»å‹
* å¯é€‰å±æ€§ä½¿ç”¨`?`å½“ä½œå¯é€‰æ ‡è®°

```ts
interface JobModel {
  // ...
}

interface Job {
  currentModel: JobModel;
}

interface User {
  userJob: Job;
}

```

```ts
const userList: User[] = [
  {
    userName: 'test',
    userAge: 20,
    userMarried: false,
  },
  {
    userName: 'test',
    userAge: 20,
    userMarried: false,
  },
  {
    userName: 'test',
    userAge: 20,
    userMarried: false,
  },
];

```


```ts
// è¿™é‡Œçš„é—®å·æ„å‘³ç€ï¼ŒuserJob è¢«æ ‡è®°æˆäº†ä¸€ä¸ªå¯é€‰çš„å±æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´å˜é‡å³ä½¿ä¸å…·æœ‰ userJob å±æ€§ï¼Œä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ç¬¦åˆäº† User ç±»å‹ï¼š

interface User {
  userName: string;
  userAge: number;
  userMarried: boolean;
  userJob?: string;
}


const user: User = {
  userName: 'test',
  userAge: 20,
  userMarried: false,
};

```



## å¼•ç”¨ç±»å‹

### å¯¹è±¡ç±»å‹

#### æ¦‚è¿°
> TSæä¾›äº†å¤šç§å®šä¹‰å¯¹è±¡ç±»å‹çš„æ–¹å¼. ä¸‹é¢ä»‹ç»3ç§åŸºæœ¬çš„å¯¹è±¡ç±»å‹

#### 3ç§åŸºæœ¬å¯¹è±¡ç±»å‹
* Object(é¦–å­—æ¯å¤§å†™)
* object(é¦–å­—æ¯å°å†™)
* å¯¹è±¡ç±»å‹å­—é¢é‡

#### Objectç±»å‹
è¿™æ˜¯TSç§çš„ä¸€ç§ç±»å‹, ä¸æ˜¯JSä¸­çš„Object()æ„é€ å‡½æ•°,ä¹Ÿä¸æ˜¯å®ƒçš„ç±»å‹.

TSä¸­å¯¹`Object()`æ„é€ å‡½æ•°çš„å®šä¹‰:
```ts
interface ObjectConstructor {
	readonly prototype: Object;
	//çœç•¥
}

declare var Object: ObjectConstructor;
```

ä¸Šé¢å¯ä»¥çœ‹åˆ°:
* â€œObject()â€æ„é€ å‡½æ•°çš„ç±»å‹æ˜¯ObjectConstructorç±»å‹è€Œä¸æ˜¯Objectç±»å‹ï¼Œå®ƒä»¬æ˜¯ä¸åŒçš„ç±»å‹ã€‚
* "Object.prototype"å±æ€§çš„ç±»å‹ä¸ºObjectç±»å‹


è®©æˆ‘ä»¬äº†è§£ä¸€ä¸‹, Objectç±»å‹çš„å®šä¹‰:
```ts
// æ¥æº<TypeScriptå…¥é—¨ä¸å®è·µ> 5.11.1

interface Object {
	/**
	* the initial value of Object.prototype.constructor is the standard build-in Object constructor.
	*
	*/
	constructor: Function;

	toString(): string;

	toLocalString(): string;

	valueOf(): Object;

	isPrototypeOf(v:Object): boolean;

	prototypeIsEnumerable(v:PropertyKey): boolean;
}
```

ç±»å‹å…¼å®¹æ€§:
å› ä¸ºJSä¸­æœ‰å°è£…(boxing)æ“ä½œ, æ‰€ä»¥åœ¨TSä¸­,é™¤äº†nullå’Œundefined,ä»»æ„ç±»å‹å‡å¯èµ‹å€¼ç»™Objectç±»å‹.
```ts
let obj: Object;

//right
obj = {x:0}
obj = true
obj = 1
obj = 'hi'

//error
obj = null
obj = undefined
```

å¸¸è§é”™è¯¯:
æ—¢ç„¶æ˜¯å¯¹è±¡åŸå‹çš„ç±»å‹,åœ¨å¼€å‘ä¸­å°±ä¸èƒ½åº”ç”¨è¿™ä¸ªç±»å‹.TSä¸­æ˜ç¡®æŒ‡å‡ºä¸åº”è¯¥ä½¿ç”¨æ­¤ç±»å‹,åº”ä½¿ç”¨object(å°å†™)æ¥ä»£æ›¿.


#### å®ä¾‹

##### 1.è¡¨ç¤º1ä¸ªç©ºå¯¹è±¡
```ts
const nullObj = {[index:string]: never}
```

ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ä½¿ç”¨`{}`æ¥è¡¨ç¤ºç©ºå¯¹è±¡å‘¢?
* `{}`å¹¶ä¸ä¸¥æ ¼è¡¨ç¤ºâ€œç©ºå¯¹è±¡". åœ¨TSä¸­, å…¶è¡¨ç¤ºä¸€ä¸ªå…·æœ‰é›¶ä¸ªå·²çŸ¥å±æ€§, ä½†å¯èƒ½**åŒ…å«ä»»æ„æœªçŸ¥å±æ€§**çš„å¯¹è±¡
* 

```ts
const obj: {} = {a:1}; //åˆæ³•, **åŒ…å«ä»»æ„æœªçŸ¥å±æ€§**çš„å¯¹è±¡
```



### å‡½æ•°ç±»å‹




### æ¥å£ç±»å‹



#### æ³¨æ„äº‹é¡¹
##### 1. æ¥å£å’Œåˆ«åçš„åŒºåˆ«
* ç±»å‹åˆ«åä¸èƒ½é‡æ–°å¼€æ”¾æ¥æ–°å¢æ–°å±æ€§, è€Œæ¥å£å¯ä»¥. ç±»å‹åˆ«åé€šè¿‡äº¤é›†æ¥æ–°å¢å±æ€§.
* ä¸¤è€…å¾ˆåƒ,åŸºæœ¬ä¸Šå¯ä»¥è‡ªç”±é€‰æ‹©ä½¿ç”¨



### æ•°ç»„ç±»å‹

#### å£°æ˜çš„å‡ ç§æ–¹å¼

```ts
// æ–¹å¼1ï¼šç±»å‹æ³¨è§£
const articles: ArticleType[] = [];

// æ–¹å¼2ï¼šæ³›å‹æ³¨è§£
const articles: Array<ArticleType> = [];

// æ–¹å¼3ï¼šç±»å‹æ–­è¨€ï¼ˆä¸å¤ªæ¨èï¼‰
const articles = <ArticleType[]>[];
// æˆ–
const articles = [] as ArticleType[];

// åœ¨ Vue3 çš„ ref ä¸­ä½¿ç”¨
const articleInfo = ref({
  // æ–¹å¼1
  articles: [] as ArticleType[],
  // æˆ–æ–¹å¼2
  categories: [] as Array<CategoryType>
});
```

### å…ƒç»„ç±»å‹

> é€šå¸¸ç”¨äºè¡¨ç¤ºé•¿åº¦è¾ƒå›ºå®šçš„ç±»å‹,å¹¶å¯åˆ†åˆ«æŒ‡å®šæ¯ä¸ªå…ƒç´ çš„ç±»å‹.

#### å…ƒç»„çš„å£°æ˜å’Œè¯»å†™
```ts
let å˜é‡åç§°: [ç±»å‹1,ç±»å‹2,...,ç±»å‹n] = [å€¼1,å€¼2,...,å€¼n]
```
å¯ä»¥è®¾ç½®ä¸ºåªè¯»å…ƒç»„
```ts
let å˜é‡åç§°: readonly[] = [ç±»å‹1,ç±»å‹2,...,ç±»å‹n] = [å€¼1,å€¼2,...,å€¼n]
```


#### å…ƒç»„ä¸­çš„å¯é€‰å…ƒç´ å’Œå‰©ä½™å…ƒç´ 
> åœ¨å£°æ˜å…ƒç»„æ—¶,å°†å…ƒç»„å°¾éƒ¨çš„ä¸€äº›å…ƒç´ å£°æ˜ä¸ºå¯é€‰å…ƒç´ ,å¯¹è¿™äº›å…ƒç´ å¯ä»¥ä¸è®¾ç½®åˆå§‹å€¼.

```ts
let å˜é‡åç§°: [ç±»å‹1,ç±»å‹2,...,å¯é€‰ç±»å‹1?,å¯é€‰ç±»å‹2?,...] = [åˆå§‹å€¼åˆ—è¡¨]

//å®ä¾‹
let tumple1 = [number, number, string?, number? ] = [100,200]; //ä¸ä¼šç¼–è¯‘é”™è¯¯
```

> è®¾ç½®å¯é€‰å…ƒç´ ä¾ç„¶ä¼šé™å®šå…ƒç»„çš„æœ€å°é•¿åº¦åŠæœ€å¤§é•¿åº¦ã€‚å¦‚æœå…ƒç»„å°¾éƒ¨çš„å…ƒç´ æ•°é‡ä¸ç¡®å®šï¼Œå¯ä»¥ä½¿ç”¨å‰©ä½™å…ƒç´ è¡¨ç¤ºã€‚å‰©ä½™å…ƒç´ çš„å£°æ˜æ–¹å¼å¦‚ä¸‹ï¼Œåªéœ€åœ¨å…ƒç»„ç±»å‹å£°æ˜å°¾éƒ¨åŠ ä¸Šâ€œ...ç±»å‹[â€‹]â€‹â€å³å¯ã€‚

```ts
let å˜é‡åç§°: [ç±»å‹1,ç±»å‹2,...,ç±»å‹n,...ç±»å‹[]] = [åˆå§‹å€¼åˆ—è¡¨];
```

> å¯é€‰å…ƒç´ å’Œå‰©ä½™å…ƒç´ å¯ä»¥æ··åˆä½¿ç”¨ï¼Œä½†å¯é€‰å…ƒç´ å¿…é¡»ä½äºä¸­é—´ï¼Œå‰©ä½™å…ƒç´ å¿…é¡»ä½äºæœ€åã€‚

```ts
let tuple1: [number, boolean?, ...string[]] = [1];
tuple1 = [1, true];
tuple1 = [1, true, "a", "b", "c"];
```

#### å…ƒç»„çš„æ–¹æ³•
> å…ƒç»„æœ¬è´¨ä¸Šæ˜¯æ•°ç»„,æ•°ç»„æ‰€æœ‰çš„æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨,ä½†ä¸å»ºè®®ä½¿ç”¨ä»»ä½•æ–¹æ³•,å› ä¸ºä½¿ç”¨è¿™äº›æ–¹æ³•ä¼šä½¿å…ƒç»„ç»•è¿‡ç¼–è¯‘æ£€æŸ¥.

```ts
let tuple2: [string, number, boolean] = ["a", 1, true];
//ä»¥ä¸‹ä»£ç å°†æ‰§è¡ŒæˆåŠŸï¼Œæ‰§è¡Œåå…ƒç»„ä¸º ["a", 1, true,4]
tuple2.push(4);
//ä»¥ä¸‹2å¥ä»£ç å°†æ‰§è¡ŒæˆåŠŸï¼Œæ‰§è¡Œåå…ƒç»„ä¸º [2, 1, true,4]
tuple2.shift();
tuple2.unshift(2);
```



#### å…ƒç»„çš„é•¿åº¦

TSç¼–è¯‘å™¨èƒ½å¤Ÿè¯†åˆ«å‡ºå…ƒç»„çš„é•¿åº¦å¹¶å……åˆ†åˆ©ç”¨æ”¹ä¿¡æ¯æ¥è¿›è¡Œç±»å‹æ£€æŸ¥. å½“å…ƒç»„ä¸­æœ‰å¯é€‰å…ƒç´ æ—¶,TSå¯ä»¥æ„é€ å‡ºä¸€ä¸ªç”±æ•°å­—å­—é¢é‡ç±»å‹æ„æˆçš„è”åˆç±»å‹æ¥è¡¨ç¤ºå…ƒç»„çš„é•¿åº¦.

```ts
let num:[number,number?,number?] = [1,2,3];
let len = num.length; // lençš„ç±»å‹æ˜¯è”åˆç±»å‹: 1|2|3
len = 4; //æŠ¥é”™, ç±»å‹ä¸å…¼å®¹
```



#### å…ƒç»„ä¸æ•°ç»„çš„å…³ç³»

å…ƒç»„æ˜¯æ•°ç»„çš„å­ç±»å‹, åªè¯»å…ƒç»„ç±»å‹æ˜¯åªè¯»æ•°ç»„ç±»å‹çš„å­ç±»å‹. åœ¨èµ‹å€¼æ“ä½œæ—¶,å…è®¸å°†å…ƒç»„ç±»å‹èµ‹å€¼ç»™ç±»å‹å…¼å®¹çš„å…ƒç»„ç±»å‹å’Œæ•°ç»„ç±»å‹.

åªè¯»å…ƒç»„ç±»å‹åªå…è®¸èµ‹å€¼ç»™åªè¯»æ•°ç»„ç±»å‹.

```ts
const:[number,number] = [0,0]
const rt: readonly[number,number] = [0,0]

let a:number[] = t;

let ra:readonly number[];

ra = t
ra = rt;
```


#### å…ƒç»„è½¬æ¢ä¸ºè”åˆç±»å‹

å…ƒç»„ç±»å‹é€‚ç”¨è§£æ„ç¬¦å·,å°±èƒ½ç›´æ¥è½¬æ¢ä¸ºè”åˆç±»å‹ ???
```ts

```





### å‡½æ•°ç±»å‹

#### å‡½æ•°å£°æ˜ä¸å‡½æ•°è¡¨è¾¾å¼ç±»å‹æè¿°
```ts
function sum(a: number, b: number): number {
  return a + b;
}

const sum = function(a: number, b: number): number {
  return a + b;
};

```


#### å‡½æ•°è¡¨è¾¾å¼çš„å¦ä¸€ç§ç±»å‹æè¿°
ä½¿ç”¨å˜é‡ç±»å‹æ ‡æ³¨çš„æ–¹å¼(`const sum:å‡½æ•°ç±»å‹=...`)æ¥æ ‡æ³¨å‡½æ•°è¡¨è¾¾å¼ç±»å‹çš„.

1. æ­é…ç±»å‹åˆ«å
2. ä½¿ç”¨å˜é‡ç±»å‹æ ‡æ³¨æ–¹å¼ç»™å‡½æ•°è¡¨è¾¾å¼è¿›è¡Œç±»å‹æ ‡æ³¨
```ts
type Sum = (a: number, b: number) => number;

const sum: Sum = function(a,b) {
	return a + b;
}
```


#### å‡½æ•°è¿”å›å€¼ void vs undefined
> åœ¨ 5.1 ç‰ˆæœ¬ä¹‹å‰è¿”å›å€¼ç±»å‹æ ‡æ³¨ä¸º undefinedï¼Œå°±éœ€è¦æœ‰æ˜¾å¼çš„ return è¯­å¥.åœ¨ä¹‹åï¼ŒTS å¯¹è¿™ä¸ªä¸ç¬¦ç›´è§‰çš„é—®é¢˜è¿›è¡Œäº†ä¿®æ­£ï¼Œå³å…è®¸äº† undefined ä½œä¸ºæ— æ˜¾å¼ return è¯­å¥å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œä½†è€ƒè™‘åˆ°å‘å¸ƒæ—¶é—´è¾ƒæ™šï¼Œå› æ­¤è¿˜æ˜¯æœ‰å¿…è¦äº†è§£è¿™ä¸ªé—®é¢˜çš„ã€‚

```ts

// 5.1ä¹‹å‰ è¿”å›undefinedç±»å‹,éœ€è¦æ˜¾å¼ä½¿ç”¨return; 5.1ç‰ˆæœ¬ä¹‹å,æ— éœ€æ˜¾å¼ä½¿ç”¨return
function handle(): undefined {
	//....
	return;
}

// voidè¡¨ç¤ºå‡½æ•°æ²¡æœ‰è¿”å›å€¼
function handler1(): void {};
```



#### å‡½æ•°é‡è½½
> æ˜¯å‡½æ•°é‡è½½çš„æ¦‚å¿µï¼Œå®ƒæŒ‡çš„å°±æ˜¯æ ¹æ®ä¸åŒçš„å…¥å‚åŒ¹é…ä¸åŒçš„å®é™…é€»è¾‘ï¼Œå®ç°ä¸€ä¸ªå‡½æ•°åèµ°å¤©ä¸‹ã€‚ä½†æ˜¯å‚æ•°åç§°å› ä¸ºå…¥å‚ç±»å‹çš„å¤šæ ·,æ— æ³•æè¿°æ¸…æ¥š.æ‰€ä»¥TSæ”¯æŒäº†ç±»å‹å±‚é¢çš„é‡è½½.

```js

function sum(x, y) {
  if (typeof x === 'number' && typeof y === 'number') {
    return x + y;
  } else if (Array.isArray(x) && typeof y === 'number') {
    return x.map((num) => num + y);
  } else if (typeof x === 'number' && Array.isArray(y)) {
    return y.map((num) => num + x);
  } else if (Array.isArray(x) && Array.isArray(y)) {
    if (x.length !== y.length) {
      throw new Error('Arrays must have the same length');
    }
    return x.map((num, index) => num + y[index]);
  } else {
    throw new Error('Invalid arguments');
  }
}

console.log(sum(2, 3)); // 5
console.log(sum([1, 2, 3], 4)); // [5, 6, 7]
console.log(sum(5, [1, 2, 3])); // [6, 7, 8]
console.log(sum([1, 2, 3], [4, 5, 6])); // [5, 7, 9]
console.log(sum('a', 'b')); // Error: Invalid arguments
console.log(sum([1, 2, 3], [4, 5])); // Error: Arrays must have the same length

```

```js
// å‡½æ•°å…¥å‚
function sum(numberOrArray, numberOrArray) { }

```


```ts
// å‡½æ•°é‡è½½

function sum(base: number, incre: number): number;
function sum(baseArray: number[], incre: number): number[];
function sum(incre: number, baseArray: number[]): number[];
function sum(baseArray: number[], increArray: number[]): number[];
function sum(x: number | number[], y: number | number[]): number | number[] {
  if (typeof x === 'number' && typeof y === 'number') {
    return x + y;
  } else if (Array.isArray(x) && typeof y === 'number') {
    return x.map((num) => num + y);
  } else if (typeof x === 'number' && Array.isArray(y)) {
    return y.map((num) => num + x);
  } else if (Array.isArray(x) && Array.isArray(y)) {
    if (x.length !== y.length) {
      throw new Error('Arrays must have the same length');
    }
    return x.map((num, index) => num + y[index]);
  } else {
    throw new Error('Invalid arguments');
  }
}

```

> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨æ ‡æ³¨äº†æ¯ä¸€ç§å¯èƒ½çš„é‡è½½çš„æ–¹å¼ä»¥åï¼Œåœ¨æœ€åé‚£ä¸ªå®é™…å®ç°çš„å‡½æ•°ç±»å‹æ ‡æ³¨é‡Œï¼Œæˆ‘ä»¬éœ€è¦æ ‡æ³¨å„ä¸ªå‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ï¼Œä½¿ç”¨ä¸Šé¢æ‰€æœ‰é‡è½½å¯èƒ½å‡ºç°çš„ç±»å‹ç»„æˆçš„è”åˆç±»å‹ã€‚ä½†å®é™…ä¸Šè¿™æœ€åä¸€ä¸ªå‡½æ•°ç±»å‹æ ‡æ³¨å¹¶ä¸ä¼šè¢«è°ƒç”¨æ–¹çœ‹åˆ°ï¼Œåœ¨åŒ¹é…åˆ°å¯¹åº”çš„è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿè·å–åˆ°ä¸å‚æ•°ç»„åˆå®Œå…¨åŒ¹é…çš„æç¤ºä¸ç±»å‹ä¿éšœï¼š



> TypeScript ä¸­çš„å‡½æ•°é‡è½½è¿˜æ˜¯å±äº**ä¼ªé‡è½½**ï¼Œå®ƒåªèƒ½åœ¨ç±»å‹å±‚é¢å¸®ä½ å®ç°é‡è½½çš„æ•ˆæœï¼Œè€Œå®é™…çš„é€»è¾‘è¿è¡Œï¼Œç”±äº JavaScript ä¸æ”¯æŒï¼Œå®ƒä¹Ÿå°±æŸæ‰‹æ— ç­–äº†ã€‚çœŸæ­£çš„å‡½æ•°é‡è½½åº”è¯¥æ˜¯ç›´æ¥å®šä¹‰å¤šä¸ªåŒåçš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°çš„å†…éƒ¨é€»è¾‘æ˜¯ä»…æœåŠ¡ä¸€å¥—å‚æ•°ç»„åˆçš„ï¼Œæ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ç”¨ Java æ”¹å†™ï¼š

```java
public class Calculator {
    public int add(int x, int y) {
        return x + y;
    }

    public int[] add(int[] x, int y) {
        // çœç•¥å†…éƒ¨å®ç°
    }

    public int[] add(int x, int[] y) {
        // çœç•¥å†…éƒ¨å®ç°
    }

    public int[] add(int[] x, int[] y) {
        // çœç•¥å†…éƒ¨å®ç°
    }

    public static void main(String[] args) {
        Calculator calculator = new Calculator();
        // è‡ªåŠ¨æ ¹æ®å…¥å‚ç±»å‹åˆ†å‘åˆ°å¯¹åº”çš„æ–¹æ³•
        System.out.println(calculator.add(2, 3)); // 5
        System.out.println(Arrays.toString(calculator.add(new int[]{1, 2, 3}, 4))); // [5, 6, 7]
        System.out.println(Arrays.toString(calculator.add(5, new int[]{1, 2, 3}))); // [6, 7, 8]
        System.out.println(Arrays.toString(calculator.add(new int[]{1, 2, 3}, new int[]{4, 5, 6}))); // [5, 7, 9]
    }
}

```



### Class



#### é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡



#### ä¸¤ç§æ–¹å¼çš„æ¯”è¾ƒ

> ä½ å¯ä»¥è®¤ä¸ºå®ƒä»¬æ˜¯å®ç°åŒä¸€ç§æ•ˆæœçš„ä¸åŒæ‰‹æ®µè€Œå·²ã€‚
>
> * æ¯”å¦‚ç±»æ¯”åˆ°åšä¸€é”…é»„ç„–é¸¡ï¼Œ
>   * é¢å‘å¯¹è±¡è¦æ±‚:ä½ åˆ†åˆ«å»ºç«‹é¸¡è‚‰å¯¹è±¡ã€åœŸè±†å¯¹è±¡ã€é’æ¤’å¯¹è±¡ã€é”…å¯¹è±¡ç­‰ç­‰ï¼Œè¿™äº›å¯¹è±¡æºå¸¦ç€è‡ªå·±çš„ä¿¡æ¯ï¼Œåªè¦å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·å°±æ˜¯ä¸€é“èœã€‚
>   * é¢å‘è¿‡ç¨‹çš„èŒƒå¼åˆ™æ˜¯ï¼ŒæŒ‰ç…§é¡ºåºé€æ­¥å®Œæˆè¿™é“èœï¼Œä¾æ¬¡å¤‡èœã€èµ·é”…çƒ§æ²¹ã€ç…ç‚’ã€ç„–ç­‰ç­‰ã€‚
> * é¢å‘å¯¹è±¡å¼ºè°ƒå¯¹è±¡çš„ç»„åˆäº¤äº’; é¢å‘è¿‡ç¨‹å¼ºè°ƒç¨‹åºçš„æ‰§è¡Œæµç¨‹
> * å‡½æ•°ä¸ Classï¼Œåˆ†åˆ«æ˜¯é¢å‘è¿‡ç¨‹å’Œé¢å‘å¯¹è±¡è¿™ä¸¤ç§ç¼–ç¨‹èŒƒå¼ä¸­çš„åº•å±‚å®ç°ä¾èµ–ã€‚
>
> 



#### é¢å‘å¯¹è±¡

Classç±»å¦‚ä½•ä½“ç°é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹?

* å°è£…æ€§:  å®ƒå°†ä¸€ä¸ªå¯¹è±¡ç›¸å…³çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•å°è£…åœ¨ Class å†…éƒ¨ï¼Œä¾›å¤–ç•Œè¿›è¡Œäº¤äº’
* ç»§æ‰¿

| ç‰¹æ€§   | é¢å‘å¯¹è±¡                                                     | é¢å‘è¿‡ç¨‹                           |
| ------ | ------------------------------------------------------------ | ---------------------------------- |
| å°è£…æ€§ | ä¸€ä¸ªå¯¹è±¡ç›¸å…³çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•å°è£…åœ¨ Class å†…éƒ¨ï¼Œä¾›å¤–ç•Œè¿›è¡Œäº¤äº’ | éœ€è¦é€šè¿‡ä¸€ä¸ªä¸ªå˜é‡å’Œå‡½æ•°æ¥è¿›è¡Œç»´æŠ¤ |
| ç»§æ‰¿æ€§ | å®ç°ç»§æ‰¿                                                     |                                    |



```js
// å°è£…æ€§


// å‡½æ•°å®ç°
const person1 = {
  name: 'Linbudu',
  age: 18
}

const getPersonDesc = (person) => {
  return `${person.name} at ${person.age} years old`;
}


// ç±»classå®ç°
class Person {
  name;
  age;

  constructor(personName, personAge) {
    this.name = personName;
    this.age = personAge;
  }
  
  getDesc(): string {
    return `${this.name} at ${this.age} years old`;
  }
}

// å®ä¾‹
const person1 = new Person("Linbudu", 18);
const person2 = new Person("Charles", 20);

person1.name; // Linbudu
person1.getDesc(); // Linbudu at 18 years old


// ç»§æ‰¿
class School {}

class Student extends Person {
  grade: number;
  school: School;
}

class Job {}

class Worker extends Person {
  salary: number;
  job: Job;
}

```



#### classä¸­ç±»å‹æè¿°

##### åŸºæœ¬ä»‹ç»

```ts
class Person {
  name: string;
  age: number;

  constructor(personName: string, personAge: number) {
    this.name = personName;
    this.age = personAge;
  }

  getDesc(): string {
    return `${this.name} at ${this.age} years old`;
  }
}

const person = new Person("Linbudu", 18);

console.log(person.getDesc()); // Linbudu at 18 years old

```



#### ç±»ä¸­çš„é‡è½½

```ts
class Person {
  feedPet(catFood: CatFood): void;
  feedPet(dogFood: DogFood): void;
  feedPet(rabbitFood: RabbitFood): void;
  feedPet(food: CatFood | DogFood | RabbitFood): void {}
}

```





#### ä½œä¸ºå·¥å…·æ–¹æ³•çš„å‘½åç©ºé—´

ä¾‹å¦‚,å¯èƒ½ä¼šåœ¨ utils æ–‡ä»¶å¤¹ä¸‹å°è£…å¾ˆå¤šé€šç”¨çš„å‡½æ•°,æœè¿™äº›å·¥å…·æ–¹æ³•éƒ½æ”¾ç½®åœ¨ä¸€ä¸ªæ–‡ä»¶å†…éƒ¨ï¼Œé‚£ä½¿ç”¨èµ·æ¥å°±å¯èƒ½æ˜¾å¾—æ··ä¹±.å¯ä»¥è€ƒè™‘ä½¿ç”¨ Class ï¼Œå°†ä¸€æ‰¹åŠŸèƒ½ç±»ä¼¼çš„æ–¹æ³•æ”¶æ‹¢åˆ°ä¸€ä¸ª Class å†…éƒ¨ï¼š

```ts
// utilæ–‡ä»¶ æ˜¾å¾—æ··ä¹±

export function isSameDate(){ } // åˆ¤æ–­ä¸¤ä¸ªæ—¥æœŸæ˜¯å¦æ˜¯åŒä¸€å¤©

export function diffDate(){ } // åˆ¤æ–­ä¸¤ä¸ªæ—¥æœŸçš„å·®å€¼

export function getRandomInt(){ } // è·å–éšæœºæ•´æ•°

// ...


// utilæ–‡ä»¶ ä½¿ç”¨classå‘½ä»¤ç©ºé—´
export class DateUtils {
  static isSameDate(){ }  // é™æ€æˆå‘˜
  static diffDate(){ }
}

export class NumberUtils { }
export class UserListUtils { }
// ...



//å¯¼å…¥æ–‡ä»¶å¹¶ä½¿ç”¨
import { DateUtils } from './utils';

DateUtils.isSameDate();

```







## any unknow ç±»å‹æ–­è¨€

### any

> åœ¨æˆ‘ä»¬ä¸çŸ¥é“å¯¹ä¸€ä¸ªå˜é‡æä¾›ä½•ç§ç±»å‹æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ any ç±»å‹æ¥ä½œä¸ºä¸´æ—¶æ€§çš„è¿‡æ¸¡æ–¹æ¡ˆ
>
> any ç±»å‹ = ä¸‡èƒ½ç±»å‹ + æ”¾å¼ƒç±»å‹æ£€æŸ¥

```ts
let x: any;

function myFunc(param: any): any { ... }

const myArray: any[] = [1, "hello", true];

let myObject: any = { prop1: "hello", prop2: 123 };

```



### unknow

> unknowç±»å‹ = ä¸‡èƒ½ç±»å‹ + ä¿ç•™ç±»å‹æ£€æŸ¥

```ts
function myFunc(param: unknown) {
  // ...
}

myFunc({});
myFunc([]);
myFunc(true);

```



### ç±»å‹æ–­è¨€

å®ƒèƒ½å¤Ÿä¿®æ”¹ä¸€ä¸ªå˜é‡çš„ç±»å‹â€”â€”æ— è®ºæ˜¯TSè‡ªå·±æ¨å¯¼çš„ï¼Œè¿˜æ˜¯ä½ æ‰‹åŠ¨æ ‡æ³¨çš„ã€‚



#### å°†éå…·ä½“ç±»å‹æ–­è¨€ä¸ºå…·ä½“ç±»å‹

```ts
// unknowç±»å‹æŠ¥é”™

function myFunc(param: unknown) {
  param.forEach((element) => {}); // X â€œparamâ€çš„ç±»å‹ä¸ºâ€œæœªçŸ¥â€ã€‚
}

// ä½¿ç”¨ç±»å‹æ–­è¨€è§£å†³unknowç±»å‹æŠ¥é”™çš„é—®é¢˜
function myFunc(param: unknown) {
  (param as unknown[]).forEach((element) => {});
}

```



```ts
// ç¬¬äºŒä¸ªæ–­è¨€æ›´èƒ½ä½“ç°æ–­è¨€çš„æ„ä¹‰: 

function myFunc(param: unknown) {
  (param as number[]).forEach((element) => {
    element = element + 1;
  });
}

function myFunc(param: unknown) {
  (param as unknown[]).forEach((element) => {
    element = (element as number) + 1;
  });
}

```





#### å°†å…·ä½“ç±»å‹æ–­è¨€ä¸ºéå…·ä½“ç±»å‹

å°†ä¸€ä¸ªæ‹¥æœ‰å…·ä½“ç±»å‹çš„å˜é‡æ–­è¨€åˆ° any / unknown ç±»å‹ï¼š

```ts
const str: string = "linbudu";

(str as any).handler().result.prop; // ...

```

> ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è¿™ä¹ˆåšï¼Ÿå› ä¸ºå¾ˆå¤šæ—¶å€™ï¼Œä½ é¢ä¸´çš„é¡¹ç›®ä¸­å¹¶ä¸ä¼šæ˜¯å®Œå…¨æ²¡æœ‰ç±»å‹å®šä¹‰çš„ï¼Œè¿™äº›å˜é‡å¯èƒ½æœ€å¼€å§‹ä¹Ÿæ˜¯è¢«ç»´æŠ¤è€…ç²¾å¿ƒè®¾è®¡äº†ç±»å‹çš„ï¼Œä½†éšç€é¡¹ç›®çš„ä¸æ–­è¿­ä»£å’Œç»´æŠ¤è€…çš„æ›´æ›¿ï¼Œå®ƒä»¬æ‰æ—¥æ¸å¹´ä¹…å¤±ä¿®ï¼Œå¯¼è‡´ä½ åœ¨ä½¿ç”¨è¿™äº›å˜é‡æ—¶éœ€è¦é¢å¯¹å¤§é‡çš„ç±»å‹æŠ¥é”™ã€‚æ‰€ä»¥è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è¯·å‡ºç±»å‹æ–­è¨€ï¼Œå…ˆå°†å…¶æ–­è¨€åˆ°ä¸€ä¸ªä¸‡èƒ½ç±»å‹ï¼Œç„¶åå°±é‡å¤æˆ‘ä»¬ä¸Šé¢å­¦ä¹ çš„ï¼Œéšç€ä¸€æ­¥æ­¥è°ƒç”¨ä¸æ–­å®Œå–„ç±»å‹ï¼Œç„¶åæœ€åå›å¤´è¡¥å…¨çš„è¿‡ç¨‹ã€‚



#### ç±»å‹æ–­è¨€å®è·µ

```ts
interface IUser {
  name: string;
  job?: IJob;
}

interface IJob {
  title: string;
}

const user: IUser = {
  name: 'foo',
  job: {
    title: 'bar',
  },
};

const { name, job = {} } = user;

const { title } = job; // ç±»å‹â€œ{}â€ä¸Šä¸å­˜åœ¨å±æ€§â€œtitleâ€ã€‚

```

ç”±äºæˆ‘ä»¬åœ¨ç¬¬ä¸€æ¬¡è§£æ„èµ‹å€¼æ—¶ï¼Œä¸º job æä¾›äº†ä¸€ä¸ªç©ºå¯¹è±¡ä½œä¸ºé»˜è®¤å€¼ï¼ŒTypeScript ä¼šè®¤ä¸ºæ­¤æ—¶ job çš„ç±»å‹å°±æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ç¬¬äºŒæ¬¡è§£æ„èµ‹å€¼æ—¶ï¼Œå°±æ— æ³•ä» job ä¸Šè·å¾— title å±æ€§äº†ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¬¬ä¸€æ¬¡è§£æ„èµ‹å€¼æ—¶å°†è¿™ä¸ªç©ºå¯¹è±¡æ–­è¨€åˆ°é¢„æœŸçš„ç±»å‹ï¼š

```ts
const { name, job = {} as IJob } = user;

const { title } = job;

```


ä¸€äº›å®ä¾‹
```ts
<any Object>
(Object as any)
```

## ç±»å‹åˆ«å,è”åˆç±»å‹,äº¤å‰ç±»å‹



### ç±»å‹åˆ«å

åœ¨ TypeScript ä¸­ï¼Œç±»å‹åˆ«åèµ·åˆ°çš„å°±æ˜¯å˜é‡(å¼•ç”¨,å¤ç”¨)çš„ä½œç”¨ï¼Œå®ƒå¯ä»¥å­˜å‚¨ä¸€ä¸ªç±»å‹ï¼Œåç»­ä½ å¯ä»¥ç›´æ¥å¼•ç”¨å®ƒå³å¯ã€‚

#### ä½¿ç”¨åœºæ™¯

##### 1.å¼•ç”¨å¤ç”¨

```ts
type Handler = () => void;

const handler1: Handler = () => {};
const handler2: Handler = () => {};

```

##### 2.æ›¿æ¢æ¥å£,å®ç°å¯¹å¯¹è±¡ç±»å‹çš„å¤ç”¨

```ts
type User =  {
  userName: string;
  userAge: number;
  userMarried: boolean;
  userJob?: string;
}

const user: User = { /* ... */ }

```



### è”åˆç±»å‹

#### è¯­æ³•

å®šä¹‰ä¸€ä¸ªè”åˆç±»å‹ï¼Œéœ€è¦ä½¿ç”¨ç±»å‹åˆ«åæ¥å­˜æ”¾ï¼š

```ts
//è¯­æ³•

A | B | C

// å®šä¹‰
type PossibleType = string | number | boolean;

// ä½¿ç”¨

let foo: PossibleType = 'lin';
foo = 599;
foo = true;

```





#### è”åˆç±»å‹å’Œå­—ç¬¦ä¸²ç±»å‹çš„å…³ç³»
- `string` æ˜¯ä¸€ä¸ªåŸºç¡€ç±»å‹ï¼Œä»£è¡¨æ‰€æœ‰å¯èƒ½çš„å­—ç¬¦ä¸²å€¼
- ä»»ä½•å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹ï¼ˆå¦‚ `'a'`ï¼‰éƒ½æ˜¯ `string` çš„å­ç±»å‹
- ä»»ä½•å­—ç¬¦ä¸²å­—é¢é‡çš„è”åˆç±»å‹ï¼ˆå¦‚ `'a' | 'b' | 'c'`ï¼‰ä¹Ÿæ˜¯ `string` çš„å­ç±»å‹



#### ä½¿ç”¨åœºæ™¯

è”åˆç±»å‹å¯¹å…¶ä¸­çš„ç±»å‹æˆå‘˜å¹¶æ²¡æœ‰é™åˆ¶ï¼Œä½ å¯ä»¥æ··åˆåŸå§‹ç±»å‹ï¼Œå­—é¢é‡ç±»å‹ï¼Œå‡½æ•°ç±»å‹ï¼Œå¯¹è±¡ç±»å‹ç­‰ç­‰ç­‰ç­‰ã€‚è€Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæœ€å¸¸è§çš„åº”è¯¥æ˜¯**å­—é¢é‡è”åˆç±»å‹**ï¼Œå®ƒè¡¨ç¤ºä¸€ç»„ç²¾ç¡®çš„å­—é¢é‡ç±»å‹ï¼š

##### å­—é¢é‡è”åˆç±»å‹

```ts

type Status = 'success' | 'failure';
type Code = 200 | 404 | 502;

```



##### æ¥å£è”åˆç±»å‹

```ts
interface VisitorUser {}
interface CommonUser {}
interface VIPUser {}
interface AdminUser {}

type User = VisitorUser | CommonUser | VIPUser | AdminUser;

const user: User = {
  // ...ä»»æ„å®ç°ä¸€ä¸ªç»„æˆçš„å¯¹è±¡ç±»å‹
}

```












### å­—é¢é‡ç±»å‹

#### æ˜¯ä»€ä¹ˆ

> å­—é¢é‡ç±»å‹æ˜¯å’ŒåŸå§‹ç±»å‹ä»¥åŠå¯¹è±¡ç±»å‹å¯¹åº”çš„.å¯ä»¥å°†**å­—é¢é‡ç±»å‹**ä½œä¸ºæ ‡æ³¨ç±»å‹. ç›¸æ¯”å®ƒä»¬å¯¹åº”çš„åŸå§‹ç±»å‹ï¼Œèƒ½å¤Ÿæä¾›æ›´ç²¾ç¡®çš„ç±»å‹ä¿¡æ¯ä¸ç±»å‹æç¤º.



å°†å˜é‡ç±»å‹çº¦æŸåœ¨å‡ ä¸ªç‰¹å®šçš„å­—ç¬¦ä¸²å€¼ä¹‹é—´.è¡¨è¾¾â€œè¿™ä¸ªå˜é‡æ˜¯å­—ç¬¦ä¸²ç±»å‹â€å’Œâ€œè¿™ä¸ªå˜é‡åªèƒ½æ˜¯'xxx'è¿™ä¸ªå­—ç¬¦ä¸²â€è¿™ä¸¤ä¸ªæ¦‚å¿µ.

```ts
type Status = 'success' | 'failure'; // ç»„æˆStatus çš„è¿™ä¸¤ä¸ªâ€œå€¼â€ï¼Œå…¶å®å°±æ˜¯å­—é¢é‡ç±»å‹
type Code = 200 | 404 | 502;

const literalString: 'linbudu' = 'linbudu';
const literalNumber: 599 = 599;
const literalBoolean: true = true;
const literalObject: { name: 'linbudu' } = { name: 'linbudu' };
const literalArray: [1, 2, 3] = [1, 2, 3];

```



#### booleanå­—é¢é‡ç±»å‹
#### stringå­—é¢é‡ç±»å‹
##### ç›¸å…³ç–‘é—®

###### 1.å…¶lengthå±æ€§çš„ç±»å‹ä¸ºä»€ä¹ˆæ˜¯number,è€Œéåƒæ•°ç»„(å…ƒç»„)ä¸€æ ·è¿”å›çš„æ˜¯æ•°å€¼å­—é¢é‡?
* åŠ¨æ€æ€§: å­—ç¬¦ä¸²åœ¨è¿è¡Œæ—¶é•¿åº¦å¯å˜ï¼ŒTypeScript æ— æ³•é™æ€æ¨æ–­æ‰€æœ‰å­—ç¬¦ä¸²çš„å­—é¢é‡é•¿åº¦
* è®¾è®¡é™åˆ¶ï¼šå³ä½¿ä½ ä½¿ç”¨å­—é¢é‡ç±»å‹å­—ç¬¦ä¸²ï¼ˆå¦‚ "hello"ï¼‰ï¼Œå®ƒçš„ length å±æ€§ä»ä¼šè¢«æ¨æ–­ä¸º numberï¼Œå› ä¸º TypeScript æ²¡æœ‰ä¸ºå­—ç¬¦ä¸²å­—é¢é‡å®ç°é•¿åº¦å­—é¢é‡ç±»å‹æ¨æ–­


é—®é¢˜: å¦‚ä½•åœ¨tsä¸­è·å–å­—ç¬¦ä¸²çš„é•¿åº¦
* æ³›å‹T ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥èµ‹å€¼ä½ç©ºæ•°ç»„. TypeScript åœ¨å¤„ç†æ³›å‹å‚æ•°æ—¶ï¼Œä¼šå…ˆæ£€æŸ¥ç±»å‹çº¦æŸï¼ˆextendsï¼‰ï¼Œç„¶åæ‰è€ƒè™‘é»˜è®¤å€¼ã€‚


#### æ•°å­—å­—é¢é‡ç±»å‹

#### æšä¸¾æˆå‘˜å­—é¢é‡ç±»å‹



### äº¤å‰ç±»å‹

äº¤å‰ç±»å‹çš„æœ¬è´¨ï¼Œå…¶å®å°±æ˜¯è¡¨ç¤ºä¸€ä¸ªåŒæ—¶æ»¡è¶³è¿™äº›å­ç±»å‹æˆå‘˜çš„ç±»å‹ï¼Œæ‰€ä»¥å¦‚æœä½ äº¤å‰ä¸¤ä¸ªå¯¹è±¡ç±»å‹ï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªæ–°çš„ç±»å‹å†…éƒ¨åˆå¹¶äº†è¿™ä¸¤ä¸ªå¯¹è±¡ç±»å‹. ä½¿ç”¨`&`å®ç°äº¤å‰ç±»å‹.

```ts
interface UserBasicInfo {}
interface UserJobInfo {}
interface UserFamilyInfo {}

type UserInfo = UserBasicInfo & UserJobInfo & UserFamilyInfo;

// ç±»å‹åˆ«åUserInfoè¡¨ç¤º,éœ€è¦å®ç°3ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§.
```



æ³¨æ„äº‹é¡¹:

äº¤å‰ç±»å‹ç»“æœä¸º`never`ç±»å‹(æ²¡æœ‰ä»»ä½•æ„ä¹‰çš„ç±»å‹)

```ts
type Test = string & number; // never ç±»å‹

```



#### ä½¿ç”¨

##### äº¤å‰ç±»å‹å’Œè”åˆç±»å‹åŒæ—¶ä½¿ç”¨

å…ˆäº¤å‰å†è”åˆ

```ts
// ä¼ªä»£ç 
type Reward = (FE & React) | (OutstandingAuthors & PostLastMonth);

```

å…ˆè”åˆå†äº¤å‰

```ts
type UnionIntersection = (1 | 2 | 3) & (1 | 2); // 1 | 2
```



## æ¡ä»¶ç±»å‹

### ç®€è¿°
> æ¡ä»¶ç±»å‹ä¸æ¡ä»¶è¡¨è¾¾å¼ç±»ä¼¼ï¼Œå®ƒè¡¨ç¤ºä¸€ç§éå›ºå®šçš„ç±»å‹ã€‚æ¡ä»¶ç±»å‹èƒ½å¤Ÿæ ¹æ®æ¡ä»¶åˆ¤æ–­ä»å¯é€‰ç±»å‹ä¸­é€‰æ‹©å…¶ä¸€ä½œä¸ºç»“æœç±»å‹ã€‚

### è¯­æ³•
```ts
T extends U ? X : Y
```

**è§£é‡Š:**
* Tã€Uã€Xå’ŒYå‡è¡¨ç¤ºä¸€ç§ç±»å‹ã€‚
* è‹¥ç±»å‹Tèƒ½å¤Ÿèµ‹å€¼ç»™ç±»å‹Uï¼Œåˆ™æ¡ä»¶ç±»å‹çš„ç»“æœä¸ºç±»å‹Xï¼Œå¦åˆ™æ¡ä»¶ç±»å‹çš„ç»“æœä¸ºç±»å‹Yã€‚
* æ¡ä»¶ç±»å‹çš„ç»“æœç±»å‹åªå¯èƒ½ä¸ºç±»å‹Xæˆ–è€…ç±»å‹Y

**å®ä¾‹**
æ¡ä»¶ç±»å‹é€šå¸¸ä¸ç±»å‹å‚æ•°ç»“åˆä½¿ç”¨
```ts
type TypeName<T> = T extends string 
	? 'string'
	: T extends number
	? 'number'
	: T extends boolean
	? 'boolean'
	: T extends undefined
	? 'undefined'
	: T extends Function
	? 'function'
	: 'object'


type T0 = TypeName<'a'> // 'string'
type T1 = TypeName<0> //'number'
type T2 = TypeName<1> //'boolean'
type T3 = TypeName<string[]> //'object'
```


### åˆ†å¸ƒå¼æ¡ä»¶ç±»å‹
#### æ˜¯ä»€ä¹ˆ
> åœ¨æ¡ä»¶ç±»å‹`T extends U ? X : Y`ä¸­ï¼Œå¦‚æœç±»å‹Tæ˜¯ä¸€ä¸ª**è£¸ï¼ˆNakedï¼‰ç±»å‹å‚æ•°**ï¼Œé‚£ä¹ˆè¯¥æ¡ä»¶ç±»å‹ä¹Ÿç§°ä½œåˆ†å¸ƒå¼æ¡ä»¶ç±»å‹

#### è£¸ç±»å‹å‚æ•°
> ä»å­—é¢ä¸Šç†è§£ï¼Œè£¸ç±»å‹å‚æ•°æ˜¯æŒ‡è£¸éœ²åœ¨å¤–çš„æ²¡æœ‰ä»»ä½•è£…é¥°çš„ç±»å‹å‚æ•°ã€‚å¦‚æœç±»å‹å‚æ•°ä¸æ˜¯å¤åˆç±»å‹çš„ç»„æˆéƒ¨åˆ†è€Œæ˜¯ç‹¬ç«‹å‡ºç°ï¼Œé‚£ä¹ˆè¯¥ç±»å‹å‚æ•°ç§°ä½œè£¸ç±»å‹å‚æ•°ã€‚

##### å®ä¾‹
> ä¾‹å¦‚ï¼Œåœ¨ä¸‹ä¾‹çš„`T0<T>`ç±»å‹ä¸­ï¼Œç±»å‹å‚æ•°Tæ˜¯è£¸ç±»å‹å‚æ•°.
> ä½†æ˜¯åœ¨`T1<T>`ç±»å‹ä¸­ï¼Œç±»å‹å‚æ•°Tä¸æ˜¯è£¸ç±»å‹å‚æ•°ï¼Œå› ä¸ºå®ƒæ˜¯å…ƒç»„ç±»å‹çš„ç»„æˆéƒ¨åˆ†ã€‚å› æ­¤ï¼Œç±»å‹`T0<T>`æ˜¯åˆ†å¸ƒå¼æ¡ä»¶ç±»å‹ï¼Œè€Œç±»å‹`T1<T>`åˆ™ä¸æ˜¯åˆ†å¸ƒå¼æ¡ä»¶ç±»å‹

```ts
type T0<T> = T extends string ? true : false; //Tæ˜¯è£¸ç±»å‹å‚æ•°

type T1<T> = [T] extends [string] ? true : false; //Tæ˜¯éè£¸ç±»å‹å‚æ•°
```


#### åˆ†å¸ƒå¼è¡Œä¸º
> å¦‚æœå®é™…ç±»å‹å‚æ•°Tä¸ºè”åˆç±»å‹ï¼Œé‚£ä¹ˆä¼šå°†åˆ†å¸ƒå¼æ¡ä»¶ç±»å‹å±•å¼€ä¸ºç”±å­æ¡ä»¶ç±»å‹æ„æˆçš„è”åˆç±»å‹ã€‚

```ts
T extends U ? X : Y
```

å¦‚æœå®é™…ç±»å‹å‚æ•°Tæ˜¯è”åˆç±»å‹â€œA | Bâ€â€‹ï¼Œé‚£ä¹ˆåˆ†å¸ƒå¼æ¡ä»¶ç±»å‹ä¼šè¢«å±•å¼€ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š
```ts
T === A | B

T extends U ? X : Y
  === (A extends U ? X : Y) | (B extends U ? X : Y)
```

æ³¨æ„: booleanç±»å‹æ˜¯è”åˆç±»å‹: `true | false`


#### å®ä¾‹

##### è¿‡æ»¤è”åˆç±»å‹

èƒŒæ™¯çŸ¥è¯†:
* è”åˆç±»å‹`U = U0 | U1`ä¸­, å¦‚æœU1æ˜¯U0çš„å­ç±»å‹,é‚£ä¹ˆè”åˆç±»å‹å¯è¡¨ç¤ºä¸º`U = U0`
* neveræ˜¯å°¾ç«¯ç±»å‹, å½“neverä¸å…¶å®ƒç±»å‹ç»„åˆæˆè”åˆç±»å‹æ—¶,å¯ä»¥ç›´æ¥ä»è”åˆç±»å‹ä¸­æ¶ˆæ‰never. `T | never = T`

æ•…:
ä»è”åˆç±»å‹ä¸­è¿‡æ»¤æ‰ç‰¹å®šçš„ç±»å‹
```ts
type Exclude<T, U> = T extends U ? never : T
```

æ•…:
è¯¥ç±»å‹èƒ½å¤Ÿä»è”åˆç±»å‹Tä¸­æŒ‘é€‰ç¬¦åˆæ¡ä»¶çš„ç±»å‹
```ts
type Extract<T, U> = T extends U ? T : never
```

å¦‚æœâ€œExclude<T, U>â€ç±»å‹ä¸­çš„ç±»å‹å‚æ•°Uä¸ºè”åˆç±»å‹â€œnull | undefinedâ€â€‹ï¼Œé‚£ä¹ˆâ€œExclude<T, U>â€ç±»å‹å°±è¡¨ç¤º*ä»è”åˆç±»å‹Tä¸­å»é™¤nullç±»å‹å’Œundefinedç±»å‹*ï¼Œä¹Ÿå°±æ˜¯å°†ç±»å‹Tè½¬æ¢ä¸ºä¸€ä¸ªéç©ºç±»å‹ã€‚
æ•…,
åˆ›å»ºä¸€ä¸ªéç©ºç±»å‹`NonNullable<T>`
```ts
type NonNullable<T> = T extends null | undefined ? never : T

type NonNullable<T> = Exclude<T, null | undefined>;
```



#### é¿å…åˆ†å¸ƒå¼è¡Œä¸º
>å­˜åœ¨æŸäº›åœºæ™¯ï¼Œè¦ç¦ç”¨åˆ†å¸ƒå¼æ¡ä»¶ç±»å‹çš„åˆ†å¸ƒå¼è¡Œä¸ºã€‚
   è¿™å°±éœ€è¦å°†åˆ†å¸ƒå¼æ¡ä»¶ç±»å‹è½¬æ¢ä¸ºéåˆ†å¸ƒå¼æ¡ä»¶ç±»å‹ã€‚
ä¸€ç§å¯è¡Œçš„æ–¹æ³•æ˜¯å°†åˆ†å¸ƒå¼æ¡ä»¶ç±»å‹ä¸­çš„è£¸ç±»å‹å‚æ•°ä¿®æ”¹ä¸ºéè£¸ç±»å‹å‚æ•°ï¼Œè¿™å¯ä»¥é€šè¿‡å°†extendsä¸¤ä¾§çš„ç±»å‹åŒ…è£¹åœ¨å…ƒç»„ç±»å‹ä¸­æ¥å®ç°ã€‚


```ts
//å°†å¦‚ä¸‹åˆ†å¸ƒå¼æ¡ä»¶ç±»å‹å˜æˆéåˆ†å¸ƒå¼æ¡ä»¶ç±»å‹

type CT<T> = T extends string ? true : false;
type T = CT<string | number>; // boolean


type CT<T> = [T] extends [string] ? true : false
type T = CT<string | number>
```



### inferå…³é”®å­—

#### ä½¿ç”¨ä»‹ç»
æ¡ä»¶ç±»å‹è¯­æ³•:
```ts
T extends U ? X : Y
```
åœ¨extendsè¯­å¥ä¸­ç±»å‹Uçš„ä½ç½®ä¸Šå…è®¸ä½¿ç”¨inferå…³é”®å­—æ¥å®šä¹‰å¯æ¨æ–­çš„ç±»å‹å˜é‡ï¼Œå¯æ¨æ–­çš„ç±»å‹å˜é‡åªå…è®¸åœ¨æ¡ä»¶ç±»å‹çš„trueåˆ†æ”¯ä¸­å¼•ç”¨ï¼Œå³ç±»å‹Xçš„ä½ç½®ä¸Šä½¿ç”¨ã€‚
```ts
T extends infer U ? U : Y
```

#### å®ä¾‹
##### 1.å¯ä»¥ä½¿ç”¨æ¡ä»¶ç±»å‹å’Œinferç±»å‹å˜é‡æ¥è·å–æŸä¸ªå‡½æ•°çš„è¿”å›å€¼ç±»å‹ã€‚
```ts
type ReturnType<T extends (...args: any) => any> = T extends (...args: any) => infer R
```

##### 2.æ¡ä»¶ç±»å‹ä¸­å®šä¹‰å¤šä¸ªinferå£°æ˜

2-1. å¤šä¸ªinferå®šä¹‰äº†åŒä¸€ä¸ªæ¨æ–­ç±»å‹å˜é‡U
```ts
// å­˜åœ¨ä¸¤ä¸ªinferå£°æ˜ï¼Œå®ƒä»¬å®šä¹‰äº†åŒä¸€ä¸ªæ¨æ–­ç±»å‹å˜é‡Uï¼š
type CT<T> = T extends {a: infer U; b: infer U} ? U : never;

type T = CT<{a: string; b: number}> // string | number
```

TSå…è®¸æˆ‘ä»¬é€šè¿‡å¤šæ¬¡ä½¿ç”¨ `infer` æ¥æ”¶é›†å’Œåˆå¹¶å¤šä¸ªç›¸å…³çš„ç±»å‹, æ‰€ä»¥è™½ç„¶éƒ½æ˜¯Uç±»å‹,ä½†æ˜¯ç»“æœæ˜¯è”åˆç±»å‹.

2-2. åœ¨å¤šä¸ªinferå£°æ˜ä¸­ä¹Ÿå¯ä»¥å®šä¹‰ä¸åŒçš„æ¨æ–­ç±»å‹å˜é‡
```ts

type CT<T> = 02 T extends { a: infer M; b: infer N } ? [M, N] : never; 

type T = CT<{ a: string; b: number }>; // [string, number]
```



##### 3.infer ä¸extendsè”åˆä½¿ç”¨








## æ³›å‹

> ã€Œæ³›å‹ã€ï¼Œå…¶å®æœ¬è´¨å°±æ˜¯ç±»å‹ä¸–ç•Œä¸­çš„å‚æ•°ã€‚å‚æ•°ä¸è¿”å›å€¼ç±»å‹çš„å…³è”æ—¶ï¼Œæ‰ä½¿ç”¨æ³›å‹ã€‚

### æ³›å‹åœ¨ç±»å‹åˆ«åä¸­

> Status å°±åƒä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå£°æ˜äº†è‡ªå·±æœ‰ä¸€ä¸ªå‚æ•° Tï¼Œå³æ³›å‹ï¼Œå¹¶ä¼šå°†è¿™ä¸ªå‚æ•° T åˆå¹¶åˆ°è‡ªå·±å†…éƒ¨çš„è”åˆç±»å‹ä¸­ã€‚

```ts
type Status = 'success' | 'failure' | 'pending';

type Status<T> = 'success' | 'failure' | 'pending' | T;
type CompleteStatus = Status<'offline'>;

```



### æ³›å‹åœ¨å‡½æ•°ä¸­

èƒŒæ™¯:

å¦‚æœä¸€ä¸ªå‡½æ•°,å…¥å‚å’Œå‡ºå‚çš„ç±»å‹ä¸€è‡´,åº”è¯¥æ€ä¹ˆå†™å‘¢?

```ts
function fn(a: string|number): string|number {}
```

è¿™ç§å†™æ³•å°±ä¼šé¢ä¸´ä¸¤ä¸ªé—®é¢˜:

* è”åˆç±»å‹æ— æ³•ä¸€ä¸€å¯¹åº”
* ç±»å‹å¢å¤šä»¥å,éå¸¸ä¸å®ç”¨

è¿™ä¸ªæ—¶å€™å°±éœ€è¦æ³›å‹.

```ts
function fn<T>(a: T): T {}
```

#### 3ä¸ªTçš„ä½œç”¨

1. ç¬¬ä¸€ä¸ª`<T>`æ˜¯å£°æ˜æ³›å‹
2. ç¬¬2å’Œç¬¬3ä¸ªTæ˜¯æ™®é€šçš„ç±»å‹æ ‡æ³¨

#### å¤šä¸ªæ³›å‹

å‡½æ•°ä¸­å¤šä¸ªå…¥å‚ç±»å‹.

```ts
function fn<T1, T2, T3>(a: T1, b: T2, c: T3): T1 {}
```





## ç±»å‹å£°æ˜: è®©JSå’ŒTSèåˆå¾—å†ç´§å¯†ä¸€äº›

ä½“ç°åœ¨3ä¸ªæ–¹é¢:

* å‰æœŸæ•°ä»¥ç™¾ä¸‡è®¡çš„npmåŒ…,å¯ä»¥é€šè¿‡`ç±»å‹å£°æ˜`æ¥å®ç°ç±»å‹æç¤º,è€Œä¸éœ€è¦æ–°å‘å¸ƒä¸€ä¸ªç‰ˆæœ¬
  * ç±»å‹å£°æ˜åœ¨TSä¸­éœ€è¦ä¸“é—¨çš„`.d.ts`æ–‡ä»¶æ¥ä¹¦å†™, è¿™é‡Œçš„`d`å°±æ˜¯declarationçš„æ„æ€
* æ¨¡å—ç±»å‹å£°æ˜
  * å¯ä»¥ä¸ºJS/TS,åŠéJS/TSç±»å‹æ–‡ä»¶æä¾›ç±»å‹å£°æ˜
* å˜é‡ç±»å‹å£°æ˜

```ts
//npmåŒ…çš„ç±»å‹å£°æ˜çš„ä¸¤ç§æ–¹å¼

1.ä¸€ç§æ˜¯å°†ç±»å‹å£°æ˜åŒ…å«åœ¨åŒ…å†…, ä¾‹å¦‚axios
2.ä¸€ç§æ˜¯å°†ç±»å‹å£°æ˜æä¾›åœ¨åŒ…å¤–, ä¾‹å¦‚@types/lodash, é‡Œé¢æ˜¯`xxx.d.ts`
```



```ts

// æ¨¡å—ç±»å‹å£°æ˜

declare module "lodash" {
  camelCase(string?: string): string;
  capitalize(string?: string): string;
  endsWith(string?: string): string;
  // ...
}


// css module
// CSS modules
type CSSModuleClasses = { readonly [key: string]: string }

declare module '*.module.css' {
  const classes: CSSModuleClasses
  export default classes
}
declare module '*.module.scss' {
  const classes: CSSModuleClasses
  export default classes
}
declare module '*.module.sass' {
  const classes: CSSModuleClasses
  export default classes
}
// ...

```



```ts
// å˜é‡ç±»å‹å£°æ˜
declare var window: Windos & typeof globalThis;

interface Window {
  //....
}
```


## å…³é”®å­—

### é‡æ˜ å°„è¯­æ³•

> `[P in keyof T as ... ]`

ä¼šä¿ç•™åŸå§‹ç±»å‹çš„æ‰€æœ‰ä¿®é¥°ç¬¦






## å†…ç½®å·¥å…·ç±»å‹

> å¯¹äºå†…ç½®æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯ä¸€æ‰¹è¯­è¨€å±‚é¢æä¾›äº†çš„é€šç”¨å·¥å…·æ–¹æ³•ï¼Œè¿˜æ˜¯ä»¥ JavaScript ä¸ºä¾‹ï¼Œå†…ç½®æ–¹æ³•æ—¢åŒ…æ‹¬äº†æˆ‘ä»¬å¯ä»¥é€šè¿‡å…¶å®ƒæ–¹æ³•æ¨¡æ‹Ÿçš„ `Array.prototype.map`ï¼Œä¹ŸåŒ…æ‹¬ `Function()` è¿™æ ·åªèƒ½ç”±åº•å±‚å¼•æ“å®ç°çš„éƒ¨åˆ†ã€‚è€Œ JavaScript ä¸­çš„å†…ç½®æ–¹æ³•æ˜¯ç”¨æ¥æ“ä½œå€¼çš„ï¼ŒTypeScript çš„å†…ç½®æ–¹æ³•æ˜¯ç”¨æ¥æ“ä½œç±»å‹çš„ã€‚
>
> **TypeScript å†…ç½®äº†ä¸€æ‰¹ç®€å•çš„å·¥å…·ç±»å‹ï¼Œå®ƒä»¬å°±æ˜¯ç±»å‹åˆ«åçš„ä½¿ç”¨æ–¹å¼ï¼ŒåŒæ—¶åœ¨å…¨å±€å¯ç”¨ï¼Œæ— éœ€å¯¼å…¥**



å¯¹è±¡ç±»å‹çš„å¤„ç†æ˜¯å†…ç½®å·¥å…·ç±»å‹ä¸­å æ¯”è¾ƒå¤§çš„éƒ¨åˆ†,ä¾‹å¦‚Partial, Required, Readonly, Record, Pick, Omit...;é™¤æ­¤ä»¥å¤–ï¼Œé›†åˆç±»å‹ä¸å‡½æ•°ç±»å‹ä¹Ÿå æœ‰ä¸€å¸­ä¹‹åœ°ã€‚æ¯”å¦‚é›†åˆç±»å‹çš„ Exclude(å·®é›†) å’Œ Extract(äº¤é›†)ã€‚Exclude å’Œ Extract çš„ä½œç”¨ä¹Ÿæ­£æ˜¯å¦‚æ­¤ï¼Œåªè¦ä½ æŠŠè”åˆç±»å‹çœ‹æˆä¸€ä¸ªç±»å‹ç»„æˆçš„é›†åˆå°±å¥½ç†è§£äº†ã€‚å†…ç½®å·¥å…·ç±»å‹ä¸­æä¾›äº† Parameters å’Œ ReturnType è¿™ä¸¤ä¸ªç±»å‹æ¥æå–å‡½æ•°çš„å‚æ•°ç±»å‹ä¸è¿”å›å€¼ç±»å‹ï¼š

### Partial

> å·¥å…·ç±»å‹Partialï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œå¹¶**å°†è¿™ä¸ªå¯¹è±¡ç±»å‹çš„æ‰€æœ‰å±æ€§éƒ½æ ‡è®°ä¸ºå¯é€‰**ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦ä¸€ä¸ªä¸ªå°†å®ƒä»¬æ ‡è®°ä¸ºå¯é€‰å±æ€§äº†ã€‚



```ts
type User = {
  name: string;
  age: number;
  email: string;
};

type PartialUser = Partial<User>;

const user: User = {
  name: 'John Doe',
  age: 30,
  email: 'john.doe@example.com'
};

// å¯ä»¥ä¸å®ç°å…¨éƒ¨çš„å±æ€§äº†ï¼
const partialUser: PartialUser = {
  name: 'John Doe',
  age: 30
};

```



### Required

> å°†å±æ€§æ ‡è®°ä¸ºå¿…é€‰çš„ Required

```ts
type User = {
  name?: string;
  age?: number;
  email?: string;
};

type RequiredUser = Required<User>;

const user: User = {
  name: 'John Doe'
};

// ç°åœ¨ä½ å¿…é¡»å…¨éƒ¨å®ç°è¿™äº›å±æ€§äº†
const requiredUser: RequiredUser = {
  name: 'John Doe',
  age: 30,
  email: 'john.doe@example.com'
};


```



### Readonly

> ç”¨äºå°†å¯¹è±¡ç±»å‹æ‰€æœ‰å±æ€§æ ‡è®°ä¸ºåªè¯»çš„å·¥å…·ç±»å‹ Readonly

```ts
type User = {
  name: string;
  age: number;
  email: string;
};

type ReadonlyUser = Readonly<User>;

const user: User = {
  name: 'John Doe',
  age: 30,
  email: 'john.doe@example.com'
};

const readonlyUser: ReadonlyUser = {
  name: 'John Doe',
  age: 30,
  email: 'john.doe@example.com'
};

// ä¿®æ”¹ user å¯¹è±¡çš„å±æ€§
user.name = 'Jane Doe';
user.age = 25;
user.email = 'jane.doe@example.com';

// ä¿®æ”¹ readonlyUser å¯¹è±¡çš„å±æ€§
// readonlyUser.name = 'Jane Doe';  // æŠ¥é”™
// readonlyUser.age = 25;  // æŠ¥é”™
// readonlyUser.email = 'jane.doe@example.com';  // æŠ¥é”™


```



### Record

> ç”¨äºå£°æ˜ä¸€ä¸ªå†…éƒ¨å±æ€§**é”®ç±»å‹ä¸€è‡´ã€é”®å€¼ç±»å‹ä¹Ÿä¸€è‡´**çš„å¯¹è±¡ç±»å‹



```ts
type UserProps = 'name' | 'job' | 'email';

// ç­‰ä»·äºä½ ä¸€ä¸ªä¸ªå®ç°è¿™äº›å±æ€§äº†
type User = Record<UserProps, string>;

const user: User = {
  name: 'John Doe',
  job: 'fe-developer',
  email: 'john.doe@example.com'
};

```

å¯ä»¥ä½¿ç”¨ Record ç±»å‹æ¥å£°æ˜å±æ€§åè¿˜æœªç¡®å®šçš„æ¥å£ç±»å‹ï¼Œå¦‚ï¼š

```ts
type User = Record<string, string>;

const user: User = {
  name: 'John Doe',
  job: 'fe-developer',
  email: 'john.doe@example.com',
  bio: 'Make more interesting things!',
  type: 'vip',
  // ...
};

```



### Pick

> Pick ç±»å‹æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œä»¥åŠä¸€ä¸ªå­—é¢é‡ç±»å‹ç»„æˆçš„è”åˆç±»å‹ï¼Œè¿™ä¸ªè”åˆç±»å‹åªèƒ½æ˜¯ç”±å¯¹è±¡ç±»å‹çš„å±æ€§åç»„æˆçš„ã€‚å®ƒä¼šå¯¹è¿™ä¸ªå¯¹è±¡ç±»å‹è¿›è¡Œè£å‰ªï¼Œåªä¿ç•™ä½ ä¼ å…¥çš„å±æ€§åç»„æˆçš„éƒ¨åˆ†ï¼š

```ts
type User = {
  name: string;
  age: number;
  email: string;
  phone: string;
};

// åªæå–å…¶ä¸­çš„ name ä¸ age ä¿¡æ¯
type UserBasicInfo = Pick<User, 'name' | 'age'>;

const user: User = {
  name: 'John Doe',
  age: 30,
  email: 'john.doe@example.com',
  phone: '1234567890'
};

const userBasicInfo: UserBasicInfo = {
  name: 'John Doe',
  age: 30
};

```





### Omit

> Omit ç±»å‹å°±æ˜¯ Pick ç±»å‹çš„å¦ä¸€é¢ï¼Œå®ƒçš„å…¥å‚å’Œ Pick ç±»å‹ä¸€è‡´ï¼Œä½†æ•ˆæœå´æ˜¯ç›¸åçš„â€”â€”å®ƒä¼šç§»é™¤ä¼ å…¥çš„å±æ€§åçš„éƒ¨åˆ†ï¼Œåªä¿ç•™å‰©ä¸‹çš„éƒ¨åˆ†ä½œä¸ºæ–°çš„å¯¹è±¡ç±»å‹ï¼š

```ts
type User = {
  name: string;
  age: number;
  email: string;
  phone: string;
};

// åªç§»é™¤ phone å±æ€§
type UserWithoutPhone = Omit<User, 'phone'>;

const user: User = {
  name: 'John Doe',
  age: 30,
  email: 'john.doe@example.com',
  phone: '1234567890'
};

const userWithoutPhone: UserWithoutPhone = {
  name: 'John Doe',
  age: 30,
  email: 'john.doe@example.com'
};


```



### Exclude

> ä»£è¡¨å·®é›†çš„ Excludeï¼Œå®ƒèƒ½å¤Ÿä»ä¸€ä¸ªç±»å‹ä¸­ç§»é™¤å¦ä¸€ä¸ªç±»å‹ä¸­ä¹Ÿå­˜åœ¨çš„éƒ¨åˆ†ï¼š

```ts
type UserProps = 'name' | 'age' | 'email' | 'phone' | 'address';
type RequiredUserProps = 'name' | 'email';

// OptionalUserProps = UserProps - RequiredUserProps
type OptionalUserProps = Exclude<UserProps, RequiredUserProps>;

const optionalUserProps: OptionalUserProps = 'age'; // 'age' | 'phone' | 'address';

```



### Extract

> ç”¨äºæå–å¦ä¸€ä¸ªç±»å‹ä¸­ä¹Ÿå­˜åœ¨çš„éƒ¨åˆ†ï¼Œå³äº¤é›†ï¼š

```ts
type UserProps = 'name' | 'age' | 'email' | 'phone' | 'address';
type RequiredUserProps = 'name' | 'email';

type RequiredUserPropsOnly = Extract<UserProps, RequiredUserProps>;

const requiredUserPropsOnly: RequiredUserPropsOnly = 'name'; // 'name' | 'email';


```



### Paramters  ReturnType

```ts
type Add = (x: number, y: number) => number;

type AddParams = Parameters<Add>; // [number, number] ç±»å‹
type AddResult = ReturnType<Add>; // number ç±»å‹

const addParams: AddParams = [1, 2];
const addResult: AddResult = 3;

```



### typeof
> [TypeScript: Documentation - Typeof Type Operator](https://www.typescriptlang.org/docs/handbook/2/typeof-types.html#handbook-content)

#### æ˜¯ä»€ä¹ˆ
> refer to theÂ _type_Â of a variable or property:

```ts
const addHandler = (x: number, y: number) => x + y;

type Add = typeof addHandler; // (x: number, y: number) => number;

type AddParams = Parameters<Add>; // [number, number] ç±»å‹
type AddResult = ReturnType<Add>; // number ç±»å‹

const addParams: AddParams = [1, 2];
const addResult: AddResult = 3;

```

#### æ³¨æ„äº‹é¡¹
* åªèƒ½ç”¨åœ¨å˜é‡æˆ–å±æ€§ä¸Š
* åœ¨åŸºæœ¬ç±»å‹ä¸Šä½¿ç”¨ç”¨å¤„ä¸å¤§,ä¸€èˆ¬å¤šæ˜¯å’Œå…¶å®ƒæ“ä½œç¬¦ç»„åˆä½¿ç”¨

```ts

```
### Awaited

> å¯¹äºå¼‚æ­¥å‡½æ•°ç±»å‹ï¼Œæå–å‡ºçš„è¿”å›å€¼ç±»å‹æ˜¯ä¸€ä¸ª `Promise<string>` è¿™æ ·çš„ç±»å‹ï¼Œå¦‚æœæˆ‘æƒ³æå– Promise å†…éƒ¨çš„ string ç±»å‹å‘¢ï¼Ÿè´´å¿ƒçš„ TypeScript ä¸ºä½ å‡†å¤‡äº† Awaited ç±»å‹ç”¨äºè§£å†³è¿™æ ·çš„é—®é¢˜ï¼š

```ts
const promise = new Promise<string>((resolve) => {
  setTimeout(() => {
    resolve("Hello, World!");
  }, 1000);
});

type PromiseInput = Promise<string>;
type AwaitedPromiseInput = Awaited<PromiseInput>; // string

```



```ts
// å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡
async function getPromise() {
  return new Promise<string>((resolve) => {
    setTimeout(() => {
      resolve("Hello, World!");
    }, 1000);
  });
}

type Result = Awaited<ReturnType<typeof getPromise>>; // string ç±»å‹

```

### ç±»å‹æŸ¥è¯¢


### ç±»å‹æ–­è¨€



### ç±»å‹ç»†åŒ–



## ç±»å‹ä½“æ“

### åˆ¤æ–­ç±»å‹æ˜¯å¦ç›¸åŒ
```ts
//æœ€ä½³æ–¹æ¡ˆ
// åˆ©ç”¨äº† TypeScript åœ¨é€†å˜ä½ç½®ï¼ˆå‡½æ•°å‚æ•°ï¼‰çš„ä¸¥æ ¼ç±»å‹æ£€æŸ¥ï¼Œèƒ½ç²¾ç¡®è¯†åˆ«ç±»å‹å·®å¼‚ã€‚
type IsEqual<T,U> = 
	(<G>() => G extends T ? 1 : 2) extends
	(<G>() => G extends U ? 1 : 2)
	? true
	: false;

// æ–¹æ¡ˆ2
// æ£€æŸ¥Â `T`Â å’ŒÂ `U`Â æ˜¯å¦äº’ä¸ºå­ç±»å‹ã€‚è‹¥Â `T extends U`Â ä¸”Â `U extends T`ï¼Œè¿”å›Â `true`ã€‚é€šè¿‡åŒ…è£…æˆå…ƒç»„é¿å…æ¡ä»¶ç±»å‹åˆ†å¸ƒï¼Œä½†ä»…éªŒè¯ç»“æ„å…¼å®¹æ€§ã€‚
type IsEqual<T,U> = 
	[T] extends [U]
	? [u] extends [T] ? true : false
	: false;
```


æœ€ä½³æ–¹æ¡ˆå¤„ç†èŒƒå›´:(äº†è§£)
* å¤„ç†anyä¸å…·ä½“ç±»å‹
* è¯†åˆ«ä¿®é¥°ç¬¦å·®å¼‚
* è”åˆç±»å‹é¡ºåºæ— å…³æ€§
* å‡½æ•°ç±»å‹ç²¾ç¡®åˆ¤æ–­








## æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹

> TS ä¸­æä¾›äº†â€œæ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹â€è¿™ä¹ˆä¸€ä¸ªèƒ½åŠ›ï¼Œç±»ä¼¼äºæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œå®ƒå¯ä»¥å®ç°å¯¹å­—é¢é‡ç±»å‹çš„è®¡ç®—ï¼Œä»¥åŠæ‰¹é‡ç”Ÿæˆå­—ç¬¦ä¸²ç±»å‹çš„èƒ½åŠ›



### ä½¿ç”¨

> æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹çš„è¯­æ³•å’Œæ¨¡æ¿å­—ç¬¦ä¸²å®Œå…¨ä¸€è‡´ï¼ŒåŒ…æ‹¬å®šä¹‰ä¸å†…éƒ¨çš„è®¡ç®—æ’æ§½ï¼š

```ts
type Name = 'linbudu';

// "Hi, linbudu"
type Greeting = `Hi, ${Name}`;

```



> **æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹å¯ä»¥æä¾›æ›´ä¸ºç²¾ç¡®çš„å­—ç¬¦ä¸²ç±»å‹ç»“æ„æè¿°**ï¼Œæ¯”å¦‚æ­¤å‰ï¼Œæˆ‘ä»¬æ— æ³•æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ»¡è¶³ `1.2.3` è¿™æ ·ç»“æ„çš„ç‰ˆæœ¬å·æ ¼å¼ï¼š

```ts
type Version = string;

const v1: Version = '1.1.0';
const v2: Version = '1.0'; // æ²¡æœ‰æ£€æŸ¥å‡ºä¸ç¬¦åˆé¢„æœŸç»“æ„

```

```ts
type Version = `${number}.${number}.${number}`;

const v1: Version = '1.1.0';
const v2: Version = '1.0'; // æŠ¥é”™ï¼šç±»å‹ "1.0" ä¸èƒ½èµ‹å€¼ç»™ç±»å‹ `${number}.${number}.${number}`
const v3: Version = 'a.0.0'; // æŠ¥é”™ï¼šç±»å‹ "a.0" ä¸èƒ½èµ‹å€¼ç»™ç±»å‹ `${number}.${number}.${number}`

```



> å³å½“ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹ä¸­çš„æ’æ§½ä¼ å…¥äº†è”åˆç±»å‹æ—¶ï¼Œè¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹ä¼šè‡ªåŠ¨è¢«æ‰©å±•ä¸ºä½¿ç”¨æ‰€æœ‰è”åˆç±»å‹çš„ç»„åˆã€‚

```ts
type Brand = 'iphone' | 'xiaomi' | 'honor';

type SKU = `${Brand}`; // "iphone" | "xiaomi" | "honor"

```

å¤šä¸ªæ’æ§½éƒ½è¢«ä¼ å…¥äº†è”åˆç±»å‹

```ts
type Brand = 'iphone' | 'xiaomi' | 'honor';
type Memory = '16G' | '64G';
type ItemType = 'official' | 'second-hand';

type SKU = `${Brand}-${Memory}-${ItemType}`;

```



### æ¡ä»¶ç±»å‹

åŸºç¡€æ¡ä»¶ç±»å‹
```ts
type IsString<T> = T extends string ? true :false
```

è”åˆç±»å‹åˆ†é…æ¡ä»¶ç±»å‹
```ts
type ToArray<T> = T extends any ? T[] : never;

// ä½¿ç”¨è”åˆç±»å‹æ¥åˆ†é….  ç­‰ä»·äºstring[] | number[]
type Result = ToArray<string | number>

// å¦‚æœä¸æƒ³åˆ†é…ï¼Œå¯ä»¥ç”¨æ–¹æ‹¬å·åŒ…è£¹ 
type NoDistribute<T> = [T] extends [any] ? T[] : never;
```

æ¨æ–­ç±»å‹
```ts
//æå–å‡½æ•°è¿”å›ç±»å‹
type ReturnType<T> = T extends (...args: any[]) => infer  R ? R : never;

//æå–æ•°ç»„å…ƒç´ ç±»å‹
type ElementType<T> = T extends (infer U)

//æå–Promiseå€¼ç±»å‹
type UnwrapPromise<T> = T extends Promise<infer U> ? U : T;

// ä½¿ç”¨ç¤ºä¾‹
type A = ReturnType<() => string>;          // string
type B = ElementType<number[]>;             // number
type C = UnwrapPromise<Promise<string>>;    // string
```

æ¡ä»¶ç±»å‹é“¾(å¤šé‡æ¡ä»¶)
```ts
type TypeName<T> = 
	T extends string ? 'string':
	T extends number ? 'number':
	T extends boolean ? 'boolean':
	T extends undefined ? 'undefined':
	T extends Function ? 'function':
	'object';

// ä½¿ç”¨ç¤ºä¾‹
type A = TypedName<string>   //'string'
type B = TypeName<()=>void>  //'function'
```

æ¡ä»¶ç±»å‹ä¸­çš„neverå¤„ç†
```ts
// ä»è”åˆç±»å‹ä¸­æ’é™¤æŸä¸ªç±»å‹
type Exclude<T,U> = T extends U ? never : T;

//ä½¿ç”¨ç¤ºä¾‹
type T = Exclude<string | number | boolean, bookean>
```


ç»“åˆæ˜ å°„ç±»å‹ä½¿ç”¨
```ts
//ç§»é™¤ç±»å‹ä¸­çš„æ‰€æœ‰å¯é€‰å±æ€§
type RemoveOptional<T> = {
	[K in keyof T as T[K] extends undefined ? never : K] : T[K]
}

interface User {
	name: string
	age?: number
	email?: string
}
```


é€’å½’æ¡ä»¶ç±»å‹
```ts

//æ·±åº¦readonly
type DeepReadonly<T> = {
	readonly [P in keyof T]: T[P] extends object
		? T[P] extends Function
			? T[P]
			: DeepReadonly<T[P]>
		: T[P]
}

//ä½¿ç”¨åœºæ™¯
//1.ç±»å‹å®‰å…¨çš„äº‹ä»¶å¤„ç†
type EventConfig<Events extends {kind: string}> = {
	[E in Events as E['kind']]: (event: E) => void;
}

//2æå–å¯¹è±¡ä¸­çš„å‡½æ•°ç±»å‹
type FunctionPropertyNames<T> = {
	[K in keyof T]: T[K] extends Function ? K : never
}[keyof T]
```











## ä¸€äº›é—®é¢˜

### è”åˆç±»å‹(æ•°ç»„)ä¸­çš„éå†é—®é¢˜
> [æœ€è¿‘TypeScriptå›°æƒ‘æˆ‘çš„åœ°æ–¹ | Himself65 (@himself65)](https://web.archive.org/web/20210511014518/https://www.himself65.com/ts-confuse-me/)


```ts
type MyArray = string[] | {name:string}[]

// ç›´æ¥å¯¹ç±»å‹è¿›è¡Œmapç­‰æ“ä½œæ˜¯ä¸è¡Œçš„.
function f(array: MyArray) {
	// Error:(8, 9) TS2349: This expression is not callable.
  //   Each member of the union type '(<U>(callbackfn: (value: string, index: number, array: string[]) => U, thisArg?: any) => U[]) | (<U>(callbackfn: (value: { name: string; }, index: number, array: { name: string; }[]) => U, thisArg?: any) => U[])' has signatures, but none of those signatures are compatible with each other.
	array.map(item => {
		// do something
	})
}
```

é€šè¿‡åˆ¤æ–­æ¥ç­›é€‰ç±»å‹å‘¢? è¿˜æ˜¯æŠ¥é”™
```ts

function g(array: MyArray) {
	if (typeof array[0] === 'string') {
	//```Error:(17, 11) TS2349: This expression is not callable.
    //   Each member of the union type '(<U>(callbackfn: (value: string, index: number, array: string[]) => U, thisArg?: any) => U[]) | (<U>(callbackfn: (value: { name: string; }, index: number, array: { name: string; }[]) => U, thisArg?: any) => U[])' has signatures, but none of those signatures are compatible with each other.

		array.map(item => {
			// do something
		})
	}
}
```

ä½œè€…æ‰¾åˆ°çš„æ–¹æ³•æ˜¯, é­”æ”¹è¿”å›å€¼, æˆ–è€… ç±»å‹æ–­è¨€
```ts
cosnt isStringArray = (arr: MyArray): arr is string[] => typeof arr[0] === 'string'


function h(array: MyArray) {
	if (isStringArray(array)) {
		// it workds
		array.map(item => {
			// do something
		})
	}
}



// ç±»å‹æ–­è¨€
function j(array: MyArray) {
	if (typeof array[0] === 'string') {
		(array as string[]).map(item => {
			// do something
		})
	}
}
```


### ifè¡¨è¾¾å¼çš„æ¨æ–­
> [æœ€è¿‘TypeScriptå›°æƒ‘æˆ‘çš„åœ°æ–¹ | Himself65 (@himself65)](https://web.archive.org/web/20210511014518/https://www.himself65.com/ts-confuse-me/)


```ts
let a: Array<{ name: string }>

if (true) {
    a = []
}

(() => {
    const b: any[] = a || [] 
})()
```

ä¸Šé¢ä»£ç å¯ä»¥è¿è¡Œ, å› ä¸º`a`ä¸€å®šæ˜¯`any[]`

ä½†æ˜¯ä¸‹é¢çš„è¿™ä¸ªåšæ³•å´ä¸è¡Œ
```ts
let a: Array<{ name: string }>

if ((() => true)()) {
    a = []
}

(() => {
    const b: any[] = a || [] 
})()
```





## é…ç½®TypeScript

> æŒ‰ç…§è¿™äº›é…ç½®çš„èƒ½åŠ›æ¥åˆ’åˆ†ï¼Œå¯ä»¥åˆ†ä¸º**äº§ç‰©æ§åˆ¶ã€è¾“å…¥ä¸è¾“å‡ºæ§åˆ¶ã€ç±»å‹å£°æ˜ã€ä»£ç æ£€æŸ¥**å‡ å¤§ç±»ï¼Œä½ å¹¶ä¸éœ€è¦æ¯æ¬¡åˆ›å»ºæ–°é¡¹ç›®éƒ½æŠŠå®ƒä»¬é…ç½®ä¸€éï¼ŒæŒ‰ç…§è‡ªå·±çš„å®é™…éœ€æ±‚è¿›è¡Œå¾®è°ƒå³å¯ã€‚

### äº§ç‰©æ§åˆ¶

> æ˜¯é€šå¸¸é…ç½®æœ€é¢‘ç¹çš„éƒ¨åˆ†ï¼Œä¸»è¦æ˜¯ target ä¸ module è¿™ä¸¤ä¸ªé…ç½®é¡¹ï¼Œå®ƒä»¬åˆ†åˆ«æ§åˆ¶äº§ç‰©è¯­æ³•çš„ ES ç‰ˆæœ¬ä»¥åŠä½¿ç”¨çš„æ¨¡å—ï¼ˆCommonJs / ES Moduleï¼‰

#### targeté…ç½®

```js
//åŸå§‹ä»£ç 
const arr = [1, 2, 3];

for (let i of arr) {
  console.log(i);
}

const obj = {
  a: 1,
  b: 2,
  c: 3
};

for (let key in obj) {
  console.log(key);
}


//ç¼–è¯‘æˆä¸åŒç¯å¢ƒçš„ä»£ç 
// ES6
"use strict";
const arr = [1, 2, 3];
for (let i of arr) {
    console.log(i);
}
const obj = {
    a: 1,
    b: 2,
    c: 3
};
for (let key in obj) {
    console.log(key);
}

// ES5
"use strict";
var arr = [1, 2, 3];
for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {
    var i = arr_1[_i];
    console.log(i);
}
var obj = {
    a: 1,
    b: 2,
    c: 3
};
for (var key in obj) {
    console.log(key);
}

```

å¦‚æœæˆ‘ä»¬çš„ target æŒ‡å®šäº†ä¸€ä¸ªç‰ˆæœ¬ï¼Œæ¯”å¦‚ es5ï¼Œä½†ä½ åˆå¸Œæœ›ä½¿ç”¨ es6 ä¸­æ‰æœ‰çš„ Promise è¯­æ³•ï¼Œæ­¤æ—¶å°±éœ€è¦åœ¨ lib é…ç½®é¡¹ä¸­æ–°å¢ 'es2015.promise'ï¼Œæ¥å‘Šè¯‰ TypeScript ä½ çš„ç›®æ ‡ç¯å¢ƒä¸­éœ€è¦å¯ç”¨è¿™ä¸ªèƒ½åŠ›ï¼Œå¦åˆ™å°±ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ï¼š

```ts
const handler = async () => {};

//å¼‚æ­¥å‡½æ•°æˆ–æ–¹æ³•å¿…é¡»è¿”å› â€œPromiseâ€ã€‚è¯·ç¡®ä¿å…·æœ‰å¯¹ â€œPromiseâ€ çš„å£°æ˜æˆ–åœ¨ â€œ--libâ€ é€‰é¡¹ä¸­åŒ…å«äº† â€œES2015â€ã€‚ts(2697)
```

é…ç½®æ–¹å¼å¦‚ä¸‹:

```ts
{
  "compilerOptions": {
    "lib": ["ES2015"],
    "target": "ES5"
  }
}

```



#### moduleé…ç½®

```js
export const foo = "foo";

export function bar() {
  console.log("bar");
}

// module é…ç½®ä¸º CommonJs
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.bar = exports.foo = void 0;
exports.foo = "foo";
function bar() {
    console.log("bar");
}
exports.bar = bar;


// module é…ç½®ä¸º ESNext
export const foo = "foo";

export function bar() {
  console.log("bar");
}

```



### è¾“å…¥æ§åˆ¶/è¾“å‡ºæ§åˆ¶

> åœ¨ TypeScript ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨ **include å’Œ exclude** è¿™ä¸¤ä¸ªé…ç½®é¡¹æ¥ç¡®å®šè¦åŒ…æ‹¬å“ªäº›ä»£ç æ–‡ä»¶ï¼Œå†é€šè¿‡ **outDir** é€‰é¡¹é…ç½®ä½ è¦å­˜æ”¾è¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å¤¹

```json
// é¦–å…ˆé€šè¿‡ include ï¼Œæˆ‘ä»¬æŒ‡å®šäº†è¦åŒ…æ‹¬ src ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ï¼Œå†é€šè¿‡ exclude é€‰é¡¹ï¼Œå‰”é™¤æ‰å·²ç»è¢« include è¿›å»çš„æ–‡ä»¶,
// ç„¶ååœ¨å®Œæˆç¼–è¯‘åï¼Œä½ å°±å¯ä»¥åœ¨ dist ç›®å½•ä¸‹æ‰¾åˆ°ç¼–è¯‘äº§ç‰©äº†
{
  "compilerOptions": {
    "target": "es5",
    "module": "commonjs",
    "outDir": "dist",
    "strict": true
  },
  "include": [
    "src/**/*"
  ],
  "exclude": [
    "src/generated",
    "**/*.spec.ts"
  ]
}

```

ä¸Šé¢è¯´åˆ°åœ¨ä½¿ç”¨é«˜äºå½“å‰ target æ—¶çš„è¯­æ³•ï¼Œéœ€è¦åœ¨ lib ä¸­æ˜¾å¼æ·»åŠ è¿™éƒ¨åˆ†è¯­æ³•çš„ç±»å‹å£°æ˜ï¼Œé‚£ä¹ˆå¦‚æœä½¿ç”¨äº†æ¥è‡ªå¤–éƒ¨ npm åŒ…çš„ç±»å‹å£°æ˜å‘¢ï¼Ÿåœ¨ç±»å‹å£°æ˜ä¸€èŠ‚ä¸­æˆ‘ä»¬å·²ç»å­¦åˆ°ï¼ŒTypeScript ä¼šåŠ è½½æ‰€æœ‰ node_modules ä¸­ æ‰€æœ‰ @types æ–‡ä»¶å¤¹ä¸‹çš„å£°æ˜æ–‡ä»¶ï¼Œå‡è®¾æˆ‘ä»¬çš„é¡¹ç›®ä¸­è¢«ä¸‰æ–¹ä¾èµ–å®‰è£…äº†å¤§é‡çš„ @types æ–‡ä»¶ï¼Œå¯¼è‡´ç±»å‹åŠ è½½ç¼“æ…¢æˆ–è€…å†²çªï¼Œæ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨ types é…ç½®é¡¹æ¥æ˜¾å¼æŒ‡å®šä½ éœ€è¦åŠ è½½çš„ç±»å‹å®šä¹‰ï¼š

```json
{
  "compilerOptions": {
    "types": ["node", "jest", "react"],
  }
}

```

ä»¥ä¸Šé…ç½®ä¼šåŠ è½½ `@types/node`ï¼Œ`@types/jest`ï¼Œ`@types/react` è¿™å‡ ä¸ªç±»å‹å®šä¹‰åŒ…ã€‚



### ç±»å‹ç›¸å…³é…ç½®

ç±»å‹ç›¸å…³çš„é…ç½®é¡¹ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„ç»„æˆéƒ¨åˆ†ï¼Œè¿™é‡Œæˆ‘ä»¬åªæŒ‘å‡ ä¸ªä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ã€‚

**declaration**

> æ§åˆ¶æ˜¯å¦ç”Ÿæˆ .d.ts æ–‡ä»¶ï¼Œå¦‚æœç¦ç”¨çš„è¯ä½ çš„ç¼–è¯‘äº§ç‰©å°†åªåŒ…å« JS æ–‡ä»¶ï¼Œä¸ä¹‹ç›¸å¯¹çš„æ˜¯ emitDeclarationOnlyï¼Œå¦‚æœå¯ç”¨ï¼Œåˆ™åªä¼šç”Ÿæˆ .d.ts æ–‡ä»¶ï¼Œè€Œä¸ä¼šç”Ÿæˆ JS æ–‡ä»¶ï¼Œå¦‚æœä½ ä¸¤ä¸ªéƒ½ä¸æƒ³è¦å‘¢ï¼Ÿâ€”â€”è¯·ä½¿ç”¨ noEmit ï¼å¯ç”¨åå°†ä¸ä¼šè¾“å‡º JS æ–‡ä»¶ä¸å£°æ˜æ–‡ä»¶ï¼Œä½†ç±»å‹æ£€æŸ¥èƒ½åŠ›è¿˜æ˜¯èƒ½ä¿ç•™çš„ã€‚



### ä»£ç æ£€æŸ¥

> å³ä½ çœ‹åˆ°çš„ no-XXX æ ¼å¼çš„è§„åˆ™

- **noImplicitAny**ï¼Œå½“ TypeScript æ— æ³•æ¨æ–­å‡ºä½ è¿™ä¸ªå˜é‡æˆ–è€…å‚æ•°åˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹æ—¶ï¼Œå®ƒåªèƒ½é»˜é»˜ç»™ä¸€ä¸ª any ç±»å‹ã€‚å¦‚æœä½ çš„é¡¹ç›®ç»´æŠ¤åœ°è¿˜æ¯”è¾ƒè®¤çœŸï¼Œå¯ä»¥å¯ç”¨è¿™ä¸ªé…ç½®ï¼Œæ¥æ£€æŸ¥çœ‹çœ‹ä»£ç é‡Œæœ‰æ²¡æœ‰ä»€ä¹ˆåœ°æ–¹æ˜¯é—æ¼äº†ç±»å‹æ ‡æ³¨çš„ã€‚
- **noUnusedLocals** ä¸ noUnusedParametersï¼Œç±»ä¼¼äº ESLint ä¸­çš„ `no-unused-var`ï¼Œå®ƒä¼šæ£€æŸ¥ä½ çš„ä»£ç ä¸­æ˜¯å¦æœ‰å£°æ˜äº†ä½†æ²¡æœ‰è¢«ä½¿ç”¨çš„å˜é‡/å‡½æ•°ã€‚æ˜¯å¦å¼€å¯åŒæ ·å–å†³äºä½ å¯¹é¡¹ç›®è´¨é‡çš„è¦æ±‚ï¼Œæ¯•ç«Ÿæ­£å¸¸æƒ…å†µä¸‹é¡¹ç›®ä¸­å…¶å®ä¸åº”è¯¥å‡ºç°å®šä¹‰äº†ä½†æ²¡æœ‰æ¶ˆè´¹çš„å˜é‡ï¼Œè¿™å¯èƒ½å°±æ„å‘³ç€å“ªé‡Œçš„é€»è¾‘å‡ºé”™äº†ã€‚
- **noImplicitReturns**ï¼Œå¯ç”¨è¿™ä¸ªé…ç½®é¡¹ä¼šè¦æ±‚ä½ çš„å‡½æ•°ä¸­æ‰€æœ‰åˆ†æ”¯ä»£ç å—éƒ½å¿…é¡»æœ‰æ˜¾ç¤ºçš„ return è¯­å¥ï¼Œæˆ‘ä»¬çŸ¥é“ JavaScript ä¸­ä¸å†™ return ï¼ˆå³è¿™é‡Œçš„ Implicit Returnsï¼‰å’Œåªå†™ä¸€ä¸ªç®€å•çš„ return çš„æ•ˆæœæ˜¯å®Œå…¨ä¸€è‡´çš„ï¼Œä½†ä»ç±»å‹å±‚é¢æ¥è¯´å´ä¸ä¸€è‡´ï¼Œå®ƒæ ‡å¿—ç€ä½ åˆ°åº•æ˜¯æ²¡æœ‰è¿”å›å€¼è¿˜æ˜¯è¿”å›äº†ä¸€ä¸ª undefined ç±»å‹çš„å€¼ã€‚å› æ­¤ï¼Œå¯ç”¨è¿™ä¸ªé…ç½®é¡¹å¯ä»¥è®©ä½ ç¡®ä¿å‡½æ•°ä¸­æ‰€æœ‰çš„åˆ†æ”¯éƒ½æœ‰ä¸€ä¸ªæœ‰æ•ˆçš„ return è¯­å¥ï¼Œåœ¨é‚£äº›åˆ†æ”¯å±‚å±‚åµŒå¥—çš„æƒ…å†µä¸‹å°¤å…¶å¥½ç”¨ã€‚

### ç›¸å…³æŠ¥é”™

1. [Property 'entries' does not exist on type 'ObjectConstructor'](https://stackoverflow.com/questions/45422573/property-entries-does-not-exist-on-type-objectconstructor)

```
ç±»ä¼¼å®Œæ•´æŠ¥é”™ä¿¡æ¯:
- error TS2550: Property 'assign' does not exist on type 'ObjectConstructor'. Do you need to change your target library? Try changing the 'lib' compiler option to 'es2015' or later.

```

æ ¹æ®æç¤º,éœ€è¦ä¿®æ”¹é…ç½®ä¸­libçš„å€¼ä¸ºå¯¹åº”çš„è¯­æ³•çš„ç‰ˆæœ¬å·.
**libç‰ˆæœ¬å·æœ‰å“ªäº›?**
> [TypeScript: TSConfig Reference - Docs on every TSConfig option](https://www.typescriptlang.org/tsconfig/#lib)

æ ¹æ®æ­¤ç½‘å€([JavaScript Object.assign() Method](https://www.w3schools.com/Jsref/jsref_object_assign.asp))æŸ¥çœ‹,å¯ä»¥ç¡®å®š`Object.assign`æ˜¯ES2015ç‰ˆæœ¬åŠŸèƒ½.ä½†æ˜¯tsconfigé…ç½®é¡¹targeté»˜è®¤å€¼å°±æ˜¯'es2015'

å¦‚ä½•æŸ¥çœ‹å½“å‰è¯­æ³•çš„ç‰ˆæœ¬å·?
> w3schoolæœ‰
> mdnä¸Šæ²¡æœ‰. å¯ä»¥åŠ ä¸ªæ’ä»¶é‡‡é›†ä¿¡æ¯åå±•ç¤ºåœ¨mdné¡µé¢ä¸Š

æ‰€ä»¥,æ›´æ”¹ä¸º:
```ts
//tsconfig.json
{
	"compilerOptions": {
		"target": "es2017",
		// "lib": ["es2017"]  ç¬¬ä¸€ç§æ–¹æ¡ˆ
		"lib": ["es2017.object"]  //ç¬¬äºŒç§æ–¹æ¡ˆ
	}
}

```

ä½†æ˜¯æ ¹æ®ç½‘ä¸Šçš„æ–¹æ³•,å¹¶æ²¡æœ‰ç”Ÿæ•ˆ,å³ä½¿æ¯æ¬¡æ›´æ–°åé‡å¯äº†vscode. æœ€åç”¨äº†å°†Objectæ–­è¨€æˆanyç±»å‹
```ts
interface Complex {
  // è°ƒç”¨ç­¾åï¼šå¯ä»¥ç›´æ¥ä½œä¸ºå‡½æ•°ç±»å‹
  (x: number, y: number): number;
  
  // æ–¹æ³•ç­¾åï¼šä½œä¸ºå¯¹è±¡çš„æ–¹æ³•
  calculate(a: number, b: number): number;
  
  // å±æ€§
  name: string;
}

// å®ç°ç¤ºä¾‹
let mathTool: Complex = (<any>Object).assign(
  (x: number, y: number) => x + y,
  {
    calculate(a: number, b: number) {
      return a * b;
    },
    name: "MathTool"
  }
);
```



## TSç»ƒä¹ 
> [Type-Challenges | æ±ªå›¾å—](https://wangtunan.github.io/blog/typescript/challenge.html)


