- [ ] # å‚è€ƒèµ„æ–™

1. [å¸¦ä½ å…¥é—¨å‰ç«¯å·¥ç¨‹åŒ–](https://woai3c.github.io/introduction-to-front-end-engineering/)

2. [è¢«è£å‘˜äº†ï¼Œè®°å½•ä¸‹å»å¹´åˆšå…¥èŒä¸€ä¸ªæœˆæ—¶åœ¨ç»„å†…å…³äºå‰ç«¯åŸºå»ºçš„æŠ€æœ¯åˆ†äº«](https://juejin.cn/post/7256393626682163237)
3. [ã€å‰ç«¯è§„èŒƒå…¨æ”»ç•¥ã€‘å¼€å¯é«˜æ•ˆå¼€å‘ä¹‹æ—…ï¼ESLint + Prettier + husky + lint-staged+Commitizen - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7257441221761040444) 1
4. [Eslint + Prettier + Husky + Commitlint+ Lint-staged è§„èŒƒå‰ç«¯å·¥ç¨‹ä»£ç è§„èŒƒ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7038143752036155428)  2
5. [vue3+ts+viteé¡¹ç›®ä¸­ä½¿ç”¨eslint+prettier+stylelint+huskyæŒ‡å— - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7118294114734440455)
6. [ESLint ä¹‹ä¸ Prettier é…åˆä½¿ç”¨ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6924568874700505102)
   1. [VSCode æ’ä»¶ä¹‹ ESLint - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6926456864276873230)
   2. 
https://juejin.cn/post/7239987776552714300?searchId=20230731220902DA690123535B2F045E09

# ç»Ÿä¸€è§„èŒƒ

## ä»£ç è§„èŒƒ
æ¨èä½¿ç”¨`å‰ç«¯è§„èŒƒå…¨å®¶æ¡¶` ESLint + Prettier + husky + lint-stagedã€‚

1. **eslint** ([github.com/eslint/esliâ€¦](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Feslint%2Feslint)) JavaScript ä»£ç æ£€æµ‹å·¥å…·ï¼Œæ£€æµ‹å¹¶æç¤ºé”™è¯¯æˆ–è­¦å‘Šä¿¡æ¯
2. **prettier** ([github.com/prettier/prâ€¦](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fprettier%2Fprettier)) ä»£ç è‡ªåŠ¨åŒ–æ ¼å¼åŒ–å·¥å…·ï¼Œæ›´å¥½çš„ä»£ç é£æ ¼æ•ˆæœ
3. **husky** ([github.com/typicode/huâ€¦](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Ftypicode%2Fhusky)) Git hooks å·¥å…·, å¯ä»¥åœ¨æ‰§è¡Œ git å‘½ä»¤æ—¶ï¼Œæ‰§è¡Œè‡ªå®šä¹‰çš„è„šæœ¬ç¨‹åº
4. **lint-staged** ([github.com/okonet/lintâ€¦](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fokonet%2Flint-staged)) å¯¹æš‚å­˜åŒº (git add) æ–‡ä»¶æ‰§è¡Œè„šæœ¬ æ£€æµ‹ æ ¡éªŒ
5. **Commitizen**([github.com/commitizen-â€¦](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fcommitizen-tools%2Fcommitizen)) æ£€æµ‹ git commit å†…å®¹æ˜¯å¦ç¬¦åˆå®šä¹‰çš„è§„èŒƒ
6. **eslint-config-prettier** ([github.com/prettier/esâ€¦](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fprettier%2Feslint-config-prettier%2F)) è§£å†³ eslint å’Œ prettier å†²çª





### editorconfig
> ç”±äºæ¯ä¸ªäººçš„**vsocde**ç¼–è¾‘å™¨é»˜è®¤é…ç½®å¯èƒ½ä¸ä¸€æ ·ï¼Œæ‰€ä»¥éœ€è¦åœ¨é¡¹ç›®ä¸­ä¸ºç¼–è¾‘å™¨é…ç½®ä¸‹æ ¼å¼ã€‚

#### 1.å®‰è£…vscodeæ’ä»¶EditorConfig

#### 2.é¡¹ç›®æ ¹ç›®å½•ä¸‹æ·»åŠ `.editorconfig`é…ç½®æ–‡ä»¶
è§„èŒƒæœ¬é¡¹ç›®ä¸­æ–‡ä»¶çš„ç¼©è¿›é£æ ¼ï¼Œå’Œç¼©è¿›ç©ºæ ¼æ•°ç­‰ï¼Œä¼šè¦†ç›–**vscode**çš„é…ç½®ï¼Œæ¥è¾¾åˆ°ä¸åŒç¼–è¾‘å™¨ä¸­ä»£ç é»˜è®¤è¡Œä¸ºä¸€è‡´çš„ä½œç”¨ã€‚
```js
root = true # æ§åˆ¶é…ç½®æ–‡ä»¶ .editorconfig æ˜¯å¦ç”Ÿæ•ˆçš„å­—æ®µ
â€‹
[**] # åŒ¹é…å…¨éƒ¨æ–‡ä»¶
indent_style = space # ç¼©è¿›é£æ ¼ï¼Œå¯é€‰spaceï½œtab
indent_size = 2 # ç¼©è¿›çš„ç©ºæ ¼æ•°
charset = utf-8 # è®¾ç½®å­—ç¬¦é›†
trim_trailing_whitespace = true # åˆ é™¤ä¸€è¡Œä¸­çš„å‰åç©ºæ ¼
insert_final_newline = true # è®¾ä¸ºtrueè¡¨ç¤ºä½¿æ–‡ä»¶ä»¥ä¸€ä¸ªç©ºç™½è¡Œç»“å°¾
end_of_line = lf
â€‹
[**.md] # åŒ¹é…mdæ–‡ä»¶
trim_trailing_whitespace = false
```





### ESLint

1.é¡¹ç›®ä¸­å®‰è£…ESLint

```bash
npm i ESLint -D
```

2.å¿«é€Ÿæ„å»ºeslinté…ç½®æ–‡ä»¶

```bash
npm init @eslint/config
#or
npm create @eslint/config
```

å‚è€ƒå¦‚ä¸‹æ“ä½œ:

![](https://jsd.cdn.zzko.cn/gh/aotushi/image-hosting@master/documentation/.6h1jkl2i4i80.webp)



æ‰§è¡Œå®Œæˆåï¼Œè‡ªåŠ¨ç”Ÿæˆ eslint é…ç½®æ–‡ä»¶(è§„åˆ™ä¸åŒæ–‡ä»¶ç±»å‹ä¸åŒ)`.eslintrc.* `, å¯åœ¨ `.eslintrc.js` ä¸­é…ç½® rules å®šä¹‰æ ¡éªŒè§„åˆ™

```json
 rules: {
   indent: ['error', 4], // ç”¨äºæŒ‡å®šä»£ç ç¼©è¿›çš„æ–¹å¼ï¼Œè¿™é‡Œé…ç½®ä¸ºä½¿ç”¨å››ä¸ªç©ºæ ¼è¿›è¡Œç¼©è¿›ã€‚
   'linebreak-style': [0, 'error', 'windows'], // ç”¨äºæŒ‡å®šæ¢è¡Œç¬¦çš„é£æ ¼ï¼Œè¿™é‡Œé…ç½®ä¸ºä½¿ç”¨ Windows é£æ ¼çš„æ¢è¡Œç¬¦ï¼ˆ\r\nï¼‰ã€‚
   quotes: ['error', 'single'], // ç”¨äºæŒ‡å®šå­—ç¬¦ä¸²çš„å¼•å·é£æ ¼ï¼Œè¿™é‡Œé…ç½®ä¸ºä½¿ç”¨å•å¼•å·ä½œä¸ºå­—ç¬¦ä¸²çš„å¼•å·ã€‚
   semi: ['error', 'always'], //ç”¨äºæŒ‡å®šæ˜¯å¦éœ€è¦åœ¨è¯­å¥æœ«å°¾æ·»åŠ åˆ†å·ï¼Œè¿™é‡Œé…ç½®ä¸ºå¿…é¡»å§‹ç»ˆæ·»åŠ åˆ†å·ã€‚
   '@typescript-eslint/no-explicit-any': ['off'] // ç”¨äºé…ç½® TypeScript ä¸­çš„ "any" ç±»å‹çš„ä½¿ç”¨è§„åˆ™ï¼Œè¿™é‡Œé…ç½®ä¸ºå…³é—­ç¦æ­¢æ˜¾å¼ä½¿ç”¨ "any" ç±»å‹çš„æ£€æŸ¥ã€‚
    }
```





### prettier

prettier æ˜¯ä¸€ä¸ªä»£ç æ ¼å¼åŒ–å·¥å…·ã€‚prettier ä¸ä¸Šè¿° husky å’Œ lint-staged æ­é…ä½¿ç”¨ï¼Œå¯ä»¥åœ¨æäº¤ä»£ç ä¹‹å‰è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ã€‚

**1.å®‰è£…**

```bash
npm i prettier eslint-config-prettier eslint-plugin-prettier -D
```

- eslint-config-prettier ï¼šå…³é—­eslintä¸­ä¸prettierç›¸äº’å†²çªçš„è§„åˆ™ã€‚
- eslint-plugin-prettier : å…è®¸eslintç”¨prettieræ ¼å¼åŒ–ä»£ç çš„èƒ½åŠ›ã€‚ å®‰è£…ä¾èµ–å¹¶ä¿®æ”¹.eslintrcæ–‡ä»¶

**2.é…ç½®æ–‡ä»¶ .prettierrc.***

æ ¹ç›®å½•ä¸‹æ–°å»º `.prettierrc.js` æ–‡ä»¶ï¼Œå¹¶å®šä¹‰ä½ æƒ³è¦çš„ä»£ç æ ·å¼ï¼Œå…·ä½“é€‰é¡¹å¯ä»¥å‚è€ƒ [prettier æ–‡æ¡£](https://link.juejin.cn/?target=https%3A%2F%2Fprettier.io%2Fdocs%2Fen%2Foptions.html)ã€‚ 

```js
module.exports = {
    semi: true,//å¼ºåˆ¶åœ¨è¯­å¥æœ«å°¾ä½¿ç”¨åˆ†å·ã€‚
    trailingComma: 'none',//ä¸å…è®¸åœ¨å¤šè¡Œç»“æ„çš„æœ€åä¸€ä¸ªå…ƒç´ æˆ–å±æ€§åæ·»åŠ é€—å·ã€‚
    singleQuote: true,//ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·æ¥å®šä¹‰å­—ç¬¦ä¸²ã€‚
    printWidth: 120,//æŒ‡å®šæ¯è¡Œä»£ç çš„æœ€å¤§å­—ç¬¦å®½åº¦ï¼Œè¶…è¿‡è¿™ä¸ªå®½åº¦çš„ä»£ç å°†è¢«æ¢è¡Œ
    tabWidth: 4//æŒ‡å®šä¸€ä¸ªåˆ¶è¡¨ç¬¦ï¼ˆTabï¼‰ç­‰äºå¤šå°‘ä¸ªç©ºæ ¼ã€‚
};
```





**3.é…ç½®æ–‡ä»¶ eslintrc.***

åœ¨ `.eslintrc.js` æ–‡ä»¶ä¸­ï¼Œåœ¨`extends`é…ç½®åŸºç¡€ä¸Šï¼Œè¿½åŠ å†…å®¹

```json
// .eslintrc
{
   //  
 - "extends": ["eslint:recommended"] // åŸå…ˆé…ç½®
 + "extends": ["eslint:recommended",  "prettier"] // æ·»åŠ é…ç½®
  // å…¶ä½™çš„é…ç½®
}
```

åŒç†ï¼Œä¹Ÿåœ¨å…¶`plugins` é…ç½®åŸºç¡€ä¸Šï¼Œè¿½åŠ  `prettier`

```json
"plugins": [
        "@typescript-eslint",
        "react",
  			"prettier" // æ·»åŠ prettieræ’ä»¶
    ],
```





**4.é…ç½®lint-staged**(å¦‚æœå·²ç»å®‰è£…äº†lint-stage)

åœ¨ lint-staged çš„é…ç½®ä¸­æ·»åŠ  `"prettier --write"`ï¼Œä¾‹å¦‚ï¼š

```json
{
  "lint-staged": {
    // src/**/*.{js,jsx,ts,tsx} æ ¡éªŒæš‚å­˜åŒºã€æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶ç±»å‹
    // æ ¡éªŒå‘½ä»¤ï¼Œæ‰§è¡Œ eslint ã€prettier 
    "src/**/*.{js,jsx,ts,tsx}": [
      "prettier --write",
      "eslint --fix"
    ]
  }
}
```

å½“ä½ è¿›è¡Œ GIT æäº¤æ“ä½œæ—¶ï¼Œlint-staged å°†è‡ªåŠ¨è¿è¡Œ prettier æ¥æ ¼å¼åŒ–ç¬¦åˆè§„åˆ™çš„æ–‡ä»¶ã€‚





### gitè§„èŒƒ

å·¥å…·æ¦‚å†µ:

* husky æ“ä½œgité’©å­çš„å·¥å…·
* lint-staged æœ¬åœ°æš‚å­˜ä»£ç æ£€æŸ¥å·¥å…·
* commitlint commitä¿¡æ¯æ ¡éªŒå·¥å…·
* commitizen è¾…åŠ©commitä¿¡æ¯,



### husky

husky æ˜¯ä¸€ä¸ª Git é’©å­ï¼ˆGit hooksï¼‰å·¥å…·ï¼Œå®ƒå¯ä»¥è®©ä½ åœ¨ Git äº‹ä»¶å‘ç”Ÿæ—¶æ‰§è¡Œè„šæœ¬ï¼Œè¿›è¡Œä»£ç æ ¼å¼åŒ–ã€æµ‹è¯•ç­‰æ“ä½œã€‚

å¸¸è§çš„é’©å­

- `pre-commit`ï¼šåœ¨æ‰§è¡Œ Git `commit` å‘½ä»¤ä¹‹å‰è§¦å‘ï¼Œç”¨äºåœ¨æäº¤ä»£ç å‰è¿›è¡Œä»£ç æ£€æŸ¥ã€æ ¼å¼åŒ–ã€æµ‹è¯•ç­‰æ“ä½œã€‚
- `commit-msg`ï¼šåœ¨æäº¤æ¶ˆæ¯ï¼ˆcommit messageï¼‰è¢«åˆ›å»ºåï¼Œä½†æäº¤æ“ä½œå°šæœªå®Œæˆä¹‹å‰è§¦å‘ï¼Œç”¨äºæ ¡éªŒæäº¤æ¶ˆæ¯çš„æ ¼å¼å’Œå†…å®¹ã€‚
- `pre-push`ï¼šåœ¨æ‰§è¡Œ Git `push` å‘½ä»¤ä¹‹å‰è§¦å‘ï¼Œç”¨äºåœ¨æ¨é€ä»£ç å‰è¿›è¡Œé¢å¤–æ£€æŸ¥ã€æµ‹è¯•ç­‰æ“ä½œã€‚

å…·ä½“çš„ä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š

#### 1.å®‰è£…

> æ³¨æ„ï¼éœ€è¦åœ¨ .git æ–‡ä»¶åŒç›®å½•ä¸‹å®‰è£… huskyï¼Œå¦åˆ™æ— æ³•è¯†åˆ«ç¯å¢ƒå¯¼è‡´å®‰è£…å¤±è´¥ï¼

1.é¡¹ç›®æ ¹ç›®å½•ä¸‹å®‰è£…husky

```bash
npm i husky -D
```

2.å¯ç”¨gité’©å­

```bash
npm pkg set scripts.prepare="husky install"
```

å®‰è£…æˆåŠŸåä¼šåœ¨package.jsonæ–‡ä»¶ä¸­çš„scriptä¸­ç”Ÿæˆå‘½ä»¤

> æ³¨æ„ï¼å¦‚ä¸ºè‡ªåŠ¨ç”Ÿæˆéœ€æ‰‹åŠ¨æ·»åŠ ï¼Œå°†ä»¥ä¸‹å†…å®¹ç²˜è´´åˆ° package.json æ–‡ä»¶ä¸­

```json
// package.json
{
  "scripts": {
    "prepare": "husky install"
  }
}
```

3.åˆ›å»ºhuskyç›®å½•

```bash
npm run prepare
```

æ‰§è¡ŒæˆåŠŸåï¼Œé¡¹ç›®ä¸­ç”Ÿæˆä¸€ä¸ª .husky ç›®å½•

![](https://jsd.cdn.zzko.cn/gh/aotushi/image-hosting@master/documentation/image.7lekrr6hsx40.webp)





#### 2.åˆ›å»ºGitæŒ‚é’©

åœ¨gitæäº¤ä¹‹å‰è¿›è¡Œeslintè¯­æ³•æ ¡éªŒ

**1.åˆ›å»ºé’©å­è„šæœ¬æ–‡ä»¶**

```bash
npx husky add .husky/pre-commit 'npx lint-staged'
```

æ‰§è¡ŒæˆåŠŸï¼Œ.husky ç›®å½•å¤šå‡ºä¸€ä¸ª pre-commit æ–‡ä»¶. 

`window`ç”µè„‘è¾“å…¥åï¼Œå¯èƒ½ä¼šæŠ¥é”™å¦‚ä¸‹:

```bash
Usage:
  husky install [dir] (default: .husky)
  husky uninstall
  husky set|add <file> [cmd]
```

è§£å†³æ–¹å¼ï¼Œåˆ é™¤ "npx lint-staged" é‡æ–°æ‰§è¡Œ

```bash
npx husky add .husky/commit-msg
```



**2.é…ç½®ä»£ç æ£€æµ‹**

git æäº¤å‰ï¼Œæ‰§è¡Œ pre-commit é’©å­è„šæœ¬ï¼Œè¿›è¡Œæ ¡éªŒä»£ç è¯­æ³•ã€æ ¼å¼ä¿®å¤ç­‰æ“ä½œã€‚

2.1 æ‰“å¼€ pre-commit æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```bash
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"
```

2.2 ä¸‹æ–¹ä»£ç æ·»åŠ åˆ° pre-commit æ–‡ä»¶ä¸­ã€‚`lint-staged`æ¨¡å—ï¼Œ ç”¨äºå¯¹ git æš‚å­˜åŒºæ£€æµ‹

```bash
npx --no-install lint-staged
```

> `npx --no-install lint-staged` æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œç”¨äºåœ¨ä¸å®‰è£… lint-staged çš„æƒ…å†µä¸‹è¿è¡Œè¯¥å·¥å…·ã€‚`npx --no-install` å‘½ä»¤ç”¨äºä»è¿œç¨‹ä¸‹è½½å¹¶æ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤ã€‚



### lint-statged

- ä½œç”¨ï¼šlint-staged å¯ä»¥è®©ä½ åœ¨ Git æš‚å­˜ï¼ˆstagedï¼‰åŒºåŸŸä¸­çš„æ–‡ä»¶ä¸Šè¿è¡Œè„šæœ¬ï¼Œé€šå¸¸ç”¨äºåœ¨æäº¤å‰å¯¹ä»£ç è¿›è¡Œæ ¼å¼åŒ–ã€é™æ€æ£€æŸ¥ç­‰æ“ä½œã€‚
- ä½¿ç”¨æ–¹å¼ï¼šä½ å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ lint-staged é…åˆ husky é’©å­æ¥æ‰§è¡Œé’ˆå¯¹æš‚å­˜æ–‡ä»¶çš„è„šæœ¬ã€‚å…·ä½“çš„ä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š

**1.å®‰è£…**

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… lint-stagedï¼š

```bash
npm install lint-staged -D
```



**2.æ·»åŠ é…ç½®**

åœ¨package.jsonæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®:

```json
{
  "lint-staged": {
    // src/**/*.{js,jsx,ts,tsx} æ ¡éªŒæš‚å­˜åŒºã€æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶ç±»å‹
    // æ ¡éªŒå‘½ä»¤ï¼Œæ‰§è¡Œ eslint ã€prettier 
    "src/**/*.{js,jsx,ts,tsx}": [
      "prettier --write",
      "eslint --fix"
    ]
  }
}
```

- `"src/**/*.{js,jsx,ts,tsx}"` æ˜¯æŒ‡å®šè¦é’ˆå¯¹çš„æš‚å­˜æ–‡ä»¶æ¨¡å¼ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„é¡¹ç›®éœ€æ±‚æ¥é…ç½®ã€‚
- `["prettier --write","eslint --fix"]`ä¸ºæ ¡éªŒå‘½ä»¤ï¼Œå¯æ‰§è¡Œ eslint ã€prettier ç­‰è§„åˆ™





### commitizen

å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºä»¥ä¸€è‡´çš„æ–¹å¼ç¼–å†™è§„èŒƒçš„æäº¤æ¶ˆæ¯ã€‚åœ¨ä½¿ç”¨Commitizenä¹‹å‰ï¼Œä½ éœ€è¦å®‰è£…CommitizenåŠå…¶é€‚é…å™¨ã€‚

#### cz-conventional-changelog

æ˜¯Commitizençš„ä¸€ä¸ªé€‚é…å™¨ï¼Œå®ƒå®ç°äº†ç¬¦åˆçº¦å®šå¼æäº¤ï¼ˆConventional Commitsï¼‰è§„èŒƒçš„æäº¤æ¶ˆæ¯ã€‚è¯¥è§„èŒƒå®šä¹‰äº†æäº¤æ¶ˆæ¯çš„æ ¼å¼å’Œç»“æ„ï¼Œå¹¶æ¨èäº†ä¸€äº›å¸¸ç”¨çš„æäº¤ç±»å‹å’ŒèŒƒå›´ã€‚



**1.å®‰è£…**

```bash
npm i commitizen cz-conventional-changelog -D
```



**2.é…ç½®**

åœ¨ `package.json` ä¸­æ·»åŠ ä¸€ä¸ª `config.commitizen` çš„å­—æ®µï¼Œå¹¶è®¾ç½®å®ƒçš„å€¼ä¸º `cz-conventional-changelog`ã€‚ ç¤ºä¾‹å¦‚ä¸‹ï¼š

```json
"config": {
  "commitizen": {
    "path": "cz-conventional-changelog"
  }
}
```

åœ¨ `package.json` ä¸­çš„ `scripts` å­—æ®µä¸­æ·»åŠ ä¸€ä¸ª `commit` çš„å‘½ä»¤ã€‚ ç¤ºä¾‹å¦‚ä¸‹ï¼š

```json
"scripts": {
  "commit": "git-cz"
}
```



**3.æäº¤ä»£ç **

è¿™å°†å…è®¸ä½ ä½¿ç”¨ `npm run commit` æˆ– `yarn commit` å‘½ä»¤æ¥è¿›è¡Œäº¤äº’å¼çš„æäº¤ã€‚

ä¾‹å¦‚:

```bash
git add .      //æäº¤
npm run commit //å¼€å§‹äº¤äº’å¼æäº¤


```

é€‰æ‹©æäº¤ç±»å‹

```bash
? Select the type of change that you're committing: (Use arrow keys)
> feat:     A new feature //æ–°åŠŸèƒ½
  fix:      A bug fix //é”™è¯¯ä¿®å¤
  docs:     Documentation only changes //ä»…æ–‡æ¡£æ›´æ”¹
  style:    [æ ·å¼]Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)
  refactor: [é‡æ„] A code change that neither fixes a bug nor adds a feature
  perf:     A code change that improves performance
  test:     Adding missing tests or correcting existing tests
```

æ ¹æ®æç¤ºå¡«å†™å†…å®¹,,å¯é€‰æ‹©ç©ºæ ¼è·³è¿‡

```bash
? What is the scope of this change // æ­¤æ›´æ”¹çš„èŒƒå›´æ˜¯ä»€ä¹ˆ
? Write a short, imperative tense description of the change//ã€å¿…å¡«ã€‘ ç®€çŸ­çš„æè¿°è¿™ä¸ªå˜åŒ–
? Provide a longer description of the change//æä¾›å˜æ›´çš„è¯¦ç»†è¯´æ˜ï¼š
? Are there any breaking changes? //æœ‰ä»€ä¹ˆçªç ´æ€§çš„å˜åŒ–å—ï¼Ÿã€y/nã€‘
? Does this change affect any open issues? (y/N) //æ­¤æ›´æ”¹æ˜¯å¦ä¼šå½±å“ä»»ä½•æ‚¬è€Œæœªå†³çš„é—®é¢˜ï¼ˆæ˜¯/å¦ï¼‰

// å®Œæˆæäº¤ï¼Œè¾“å‡ºæ‰“å°æ—¥å¿—ï¼š
[master 2cf55e0] docs: ä¿®æ”¹commitzenæ–‡æ¡£
 1 file changed, 2 insertions(+), 2 deletions(-)
```

å½“ä½ å®Œæˆæäº¤æ¶ˆæ¯åï¼ŒCommitizen ä¼šè‡ªåŠ¨ç”Ÿæˆç¬¦åˆè§„èŒƒçš„æäº¤æ¶ˆæ¯ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ° Git commit ä¸­ã€‚ æ ¹æ® `cz-conventional-changelog` çš„è§„èŒƒï¼Œæäº¤æ¶ˆæ¯éœ€è¦åŒ…æ‹¬ç±»å‹ï¼ˆtypeï¼‰ã€èŒƒå›´ï¼ˆscopeï¼‰ã€ç®€çŸ­çš„æè¿°ï¼ˆsubjectï¼‰å’Œå¯é€‰çš„è¯¦ç»†æè¿°ï¼ˆbodyï¼‰ã€‚





### é…ç½®vscode

åœ¨vscode è®¾ç½®é‡Œé¢é…ç½® ç‚¹å‡»Vscodeçš„è®¾ç½®=>å·¥ä½œåŒº=>æ–‡æœ¬ç¼–è¾‘å™¨, é€‰æ‹©`Format On Save`.



<hr>

ä»¥ä¸Šæ˜¯vue2é¡¹ç›®æ•´ä½“é…ç½®,å¦‚æœæˆ‘åªæƒ³é…ç½®æœ¬åœ°çš„æ ¼å¼åŒ–,å¯¹æäº¤ä¸åšè¿‡å¤šé™åˆ¶çš„è¯,åº”è¯¥æ€ä¹ˆåš?

[ä½¿ç”¨ ESLintã€Prettier å’Œ Stylelint æ¥è§„èŒƒä»£ç  - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7258831031728717881?searchId=20230731220902DA690123535B2F045E09)








## Webé¡¹ç›®å¸¸ç”¨çš„éæºç æ–‡ä»¶æ¨¡æ¿
> [Web é¡¹ç›®å¸¸ç”¨çš„éæºç æ–‡ä»¶æ¨¡æ¿ | çº¸é£æœº ğŸŒ  åšå®¢](https://paperplane.cc/p/fde6fdac6f13/)


### `.editorconfig`

### `.gitignore`

### `.npmrc`

### `.package.json`

### `tsconfig.json`

### `.prettierrc`

### `.eslintrc`

### `.bacelrc`


### Webpacké…ç½®æ¨¡æ¿




## å·¥ç¨‹åŒ–å®è·µ


### 1.ä»£ç è§„èŒƒ

#### 1.æ˜¯ä»€ä¹ˆ
åœ¨ä¸€ä¸ªå‰ç«¯é¡¹ç›®ä¸­,å¯ä»¥å°†ä»£ç è§„èŒƒåˆ†ä¸ºä»¥ä¸‹å‡ ç±»:
* å‘½åè§„èŒƒ
* æ ¼å¼è§„èŒƒ
* ç›®å½•è§„èŒƒ
* æ³¨é‡Šè§„èŒƒ
* ç±»å‹è§„èŒƒ


#### 2åˆ¶å®šè§„èŒƒ
##### å‘½åè§„èŒƒ
å‘½åè§„èŒƒæ˜¯æœ€åŸºç¡€çš„ä»£ç è§„èŒƒ,æœ‰ä»¥ä¸‹é›†ä¸­é€šç”¨çš„å‘½åè§„èŒƒ:
* ä¸‹åˆ’çº¿å‘½å: å¦‚`user_name`
* ä¸­åˆ’çº¿å‘½å: å¦‚`user-name`
* å°é©¼å³°å‘½å: å¦‚`userName`
* å¤§é©¼å³°å‘½å: å¦‚`UserName`

æ¨èä¸€å¥—é€‚åˆå¤§å¤šæ•°å‰ç«¯é¡¹ç›®çš„è§„èŒƒ
* å˜é‡,å±æ€§,å‚æ•°: ä¸‹åˆ’çº¿å‘½å
* å‡½æ•°: å°é©¼å³°å‘½å
* ç±»å‹,ç±»å‹: å¤§é©¼å³°å‘½å
* æ–‡ä»¶,æ–‡ä»¶å¤¹: ä¸­åˆ’çº¿å‘½å


##### æ ¼å¼è§„èŒƒ
> æŒ‡çš„æ˜¯ä»£ç ä¸­ä½¿ç”¨åŸºæœ¬ç¬¦å·å’Œç»„ç»‡ä»£ç çš„è§„èŒƒ.

æœ‰å¦‚ä¸‹å‡ ç§:
* ä»£ç ç»“å°¾æ˜¯å¦ä½¿ç”¨åˆ†å·
* å­—ç¬¦ä¸²ä½¿ç”¨å•å¼•å·è¿˜æ˜¯åŒå¼•å·
* ç¼©è¿›çš„ç©ºæ ¼æ˜¯2è¿˜æ˜¯4..
* å­—ç¬¦ä¹‹é—´çš„ç©ºæ ¼æ˜¯1ä¸ªè¿˜æ˜¯?
* å®½åº¦è¶…è¿‡800æ—¶,æ˜¯å¦è‡ªåŠ¨æ¢è¡Œ
* ä»£ç ä¸­çš„è¿ç»­ç©ºè¡Œæœ€å¤šä¸ºå¤šå°‘è¡Œ

##### ç›®å½•è§„èŒƒ
æ˜¯æŒ‡é¡¹ç›®ä¸­ç›®å½•ç»“æ„çš„è§„èŒƒ.å¯ä»¥å°†é¡¹ç›®åšå¦‚ä¸‹åˆ’åˆ†:
```md
src æºç ç›®å½•
 - assets èµ„æºç›®å½•
 - components å…¬å…±ç»„ä»¶ç›®å½•
 - pages é¡µé¢ç›®å½•
 - stores çŠ¶æ€ç®¡ç†ç›®å½•
 - router è·¯ç”±ç›®å½•
 - request è¯·æ±‚ç›®å½•
 - styles å…¨å±€æ ·å¼ç›®å½•
 - utils å·¥å…·ç›®å½•
config æ„å»ºé…ç½®ç›®å½•
public é™æ€èµ„æºç›®å½•
dist æ„å»ºåçš„ä»£ç ç›®å½•
node_modules ç¬¬ä¸‰æ–¹npmåŒ…ç›®å½•
```


##### æ³¨é‡Šè§„èŒƒ
jsæ³¨é‡Š: å•è¡Œæ³¨é‡Š,å¤šè¡Œæ³¨é‡Š,å‡½æ•°æ³¨é‡Š

```js
// å‡½æ•°æ³¨é‡Š
/**
* @desc å‡½æ•°æè¿°
* @params å‡½æ•°å‚æ•°
* @callback å›è°ƒå‡½æ•°
* @return å‡½æ•°è¿”å›å€¼
*
* /

```


htmlæ³¨é‡Šå’Œvue.jsæ³¨é‡Š:
vueæ³¨é‡Šéµå¾ªhtmlè§„åˆ™
```vue

// å¤æ‚æ¨¡å—å¯ä»¥é‡‡ç”¨å¦‚ä¸‹å½¢å¼:

<!-- [start] ç”¨æˆ·æ¨¡å— -->
<div>
	<span></span>
</div>

<!-- [end] ç”¨æˆ·æ¨¡å— -->
```


##### ç±»å‹è§„èŒƒ
æŒ‡å¦‚ä½•è®¾ç½®TSç±»å‹.æœ‰ä¸¤ä¸ªæ–¹é¢: å‘½åè§„èŒƒ, åˆ†ç»„è§„èŒƒ.
å‘½åè§„èŒƒ:
ç±»å’Œç±»å‹éƒ½æ˜¯é‡‡ç”¨å¤§é©¼å³°å‘½å, ä½†æ˜¯ç±»ä¹Ÿèƒ½å½“ä½œç±»å‹. æ‰€ä»¥ä¸å½±å“
åˆ†ç»„è§„èŒƒ:
åœ¨TSä¸­,é€šè¿‡å‘½åç©ºé—´å’Œæ¨¡å—ä¸¤ç§æ–¹æ¡ˆå®ç°.é¿å…å‡ºç°å…¨å±€çŠ¶æ€ä¸‹å‘ç”Ÿå‘½åå†²çª.



#### 3.æ£€æµ‹å’Œç»Ÿä¸€è§„èŒƒ
##### 1.æ£€æµ‹è§„èŒƒ
ä½¿ç”¨ESLintæ£€æµ‹. **ä½¿ç”¨ç‰ˆæœ¬ä¸º9.17.0**
ESLintçš„åŠŸèƒ½:
* æ£€æŸ¥ä»£ç è´¨é‡: å¦‚æ˜¯å¦å­˜åœ¨å®šä¹‰ä½†æœªç”¨çš„å˜é‡
* æ£€æŸ¥ä»£ç é£æ ¼: å¦‚æ¢è¡Œ,å¼•å·å’Œç¼©è¿›ç­‰ç›¸å…³æ ¼å¼æ˜¯å¦ç¬¦åˆè§„èŒƒ.


åœ¨è„šæ‰‹æ¶åˆ›å»ºçš„é¡¹ç›®ä¸­,ä¸€èˆ¬é»˜è®¤å®‰è£…äº†ESLint,å¦‚æœæ²¡æœ‰å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤å®‰è£…å’Œåˆå§‹åŒ–:

*1.æ ¹ç›®å½•ä¸‹å®‰è£…å¹¶åˆå§‹åŒ–*
```sh
npm init @eslint/config@latest
```

åˆå§‹åŒ–å‘½ä»¤æ˜¯äº¤äº’å¼å‘½ä»¤.æ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤åé¦–å…ˆä¼šæç¤ºå¦‚ä½•ä½¿ç”¨ESLint, æœ‰3ä¸ªå¯é€‰åŠŸèƒ½é€‰é¡¹:
* To check syntax only  ä»…æ£€æŸ¥è¯­æ³•
* To check syntax and find problems æ£€æŸ¥è¯­æ³•å’Œå‘ç°é—®é¢˜
* To check syntax, find problems, and enforce code style. æ£€æŸ¥è¯­æ³•,å‘ç°é—®é¢˜,å¼ºåˆ¶æ ¼å¼åŒ–

é€šå¸¸é€‰æ‹©ç¬¬2ä¸ªé€‰é¡¹, å¼ºåˆ¶æ ¼å¼åŒ–æˆ‘ä»¬ä¼šä½¿ç”¨å¦ä¸€æ¬¾å·¥å…·æ¥å®ç°. ä¹‹å,è¿˜æœ‰ä¸€äº›å…¶å®ƒé…ç½®, é€‰æ‹©åŸºæœ¬é…ç½®å³å¯:
* ä½¿ç”¨å“ªç§æ¨¡å—æœºåˆ¶? ESM
* ä½¿ç”¨å“ªä¸ªæ¡†æ¶? Node
* ä½¿ç”¨TypeScriptå—? 
* åœ¨å“ªé‡Œä½¿ç”¨? æµè§ˆå™¨(Browser)
* éœ€è¦å“ªç§æ ¼å¼çš„é…ç½®æ–‡ä»¶? JSON
é€‰æ‹©ä¹‹å, ESLintä¼šè‡ªåŠ¨åˆ—å‡ºéœ€è¦å®‰è£…çš„åŒ…,è¾“å…¥yeså³å¯å®‰è£…,åŒæ—¶æ ¹ç›®å½•ä¸‹ä¼šç”Ÿæˆ`.eslint.config.js`.

*2.é…ç½®æ–‡ä»¶è§£æ*
é…ç½®æ–‡ä»¶ä¸­å¯ä»¥è‡ªå®šä¹‰è§„èŒƒ,æˆ–è€…åŠ è½½æ’ä»¶ä½¿ç”¨å·²æœ‰çš„è§„èŒƒ.
æ¥çœ‹ä¸‹`.eslint.config.js`çš„å†…å®¹:
```json
import globals from "globals";
import pluginJs from "@eslint/js";
import tseslint from "typescript-eslint";


/** @type {import('eslint').Linter.Config[]} */
export default [
  {files: ["**/*.{js,mjs,cjs,ts}"]},
  {languageOptions: { globals: globals.browser }},
  pluginJs.configs.recommended,
  ...tseslint.configs.recommended,
];
```

[å®‰è£…vueç›¸å…³çš„eslint:](https://eslint.vuejs.org/)
```bash
npm i eslint-plugin-vue -D
```

```js
// .eslint.config.js

import pluginVue from 'eslint-plugin-vue'

export defualt [
	...pluginVue.configs['flat/recommended'],
]
```


*3.[è‡ªå®šä¹‰è§„èŒƒ](https://zh-hans.eslint.org/docs/latest/use/configure/rules)*
å¦‚æœè¦è‡ªå®šä¹‰è§„èŒƒ,å¯ä»¥å°†å¤šæ¡è§„åˆ™å®šä¹‰åœ¨ruleså¯¹è±¡ä¸‹,æ­¤æ—¶ä¼šè¦†ç›–é»˜è®¤çš„è§„åˆ™.
ä¾‹å¦‚,ä¸‹é¢ä¾‹å­ä¸­å°†å»é™¤æœªä½¿ç”¨çš„å˜é‡çš„é”™è¯¯.

```js
// .eslint.config.js

import globals from 'globals'
import pluginJs from '@eslint/js'
import tseslint from 'typescript-eslint'
import pluginVue from 'eslint-plugin-vue'

/** @type {import('eslint').Linter.Config[]} */
export default [
  {
    files: ['**/*.{js,mjs,cjs,ts,vue}'],
    rules: {
      'no-unused-vars': ['off', { vars: 'all' }],
      '@typescript-eslint/no-unused-vars': ['off', { vars: 'all' }],
    },
  },
  { languageOptions: { globals: globals.browser } },
  pluginJs.configs.recommended,
  ...tseslint.configs.recommended,
  ...pluginVue.configs['flat/recommended'],
]
```

ç®€ä»‹ç”¨æ³•:
* è§„åˆ™é…ç½®çš„å€¼æ˜¯ä¸€ä¸ªæ•°ç»„,è¯¥æ•°ç»„åŒ…å«2ä¸ªæ•°ç»„é¡¹.
* ç¬¬ä¸€ä¸ªæ•°ç»„é¡¹è¡¨ç¤ºé”™è¯¯çº§åˆ«,æ˜¯ä»¥ä¸‹3ä¸ªå€¼ä¹‹ä¸€:
	* "off"æˆ–0, å…³é—­è§„èŒƒéªŒè¯
	* "warn"æˆ–1, è­¦å‘Šçº§åˆ«éªŒè¯
	* "error"æˆ–2, é”™è¯¯çº§åˆ«éªŒè¯
* ç¬¬äºŒä¸ªæ•°ç»„é¡¹æ˜¯è§„èŒƒé…ç½®,åœ¨è§„èŒƒéªŒè¯æœªå…³é—­æ—¶ç”Ÿæ•ˆ,ä¸”ä¼šæ ¹æ®é”™è¯¯çº§åˆ«æç¤ºé”™è¯¯ä¿¡æ¯.

å…¶å®ƒè§„åˆ™:
> https://eslint.org/docs/latest/rules/

åˆ°è¿™ä¸€æ­¥ä¸ºæ­¢,è¿˜æ˜¯åªèƒ½é€šè¿‡åœ¨ç»ˆç«¯ä½¿ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼æ£€æŸ¥ä»£ç è§„èŒƒ. 
##### 2.ç»Ÿä¸€è§„èŒƒçš„å·¥å…·
ä½¿ç”¨prettierè¿›è¡Œä»£ç æ ¼å¼åŒ–.ä»£æ›¿ESLintçš„è§„èŒƒæ£€æŸ¥.

*1.å®‰è£…*
```bash
npm i prettier -D
```

*2.åˆ›å»º`.prettierrc.json`æ–‡ä»¶*
åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶`.prettierrc.json`æ–‡ä»¶, é…ç½®å†…å®¹å¦‚ä¸‹:
ä»¥ä¸‹æ˜¯éƒ¨åˆ†é…ç½®, prettierè¿˜æ”¯æŒé’ˆå¯¹ä¸åŒæ–‡ä»¶è®¾ç½®ä¸åŒçš„ä»£ç è§„èŒƒ, åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®`overrides`é€‰é¡¹æ¥å®ç°:
```json
// .prettierrc.json

{
  "singleQuote": true,
  "semi": false,
  "arrowParens": "avoid",
  "bracketSpacing": true,
  "jsxBracketSameLine": true,
  "requirePragma": false,
  "overrides": [
    {
      "files": ["*.json"],
      "options": {
        "parser": "json-stringify"
      }
    }
  ]
}
```


*3.æ ¼å¼åŒ–ä»£ç *
åœ¨æ§åˆ¶å°æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä»¥å, index.jsä¸­çš„æ ¼å¼å˜æˆäº†é…ç½®æ–‡ä»¶ä¸­è¦æ±‚çš„æ ¼å¼.
```bash
// index.js
npx prettier --write index.js
```

åŒæ—¶, prettierè¿˜æ”¯æŒæ‰¹é‡æ ¼å¼åŒ–æ–‡ä»¶. æ¯”å¦‚,åœ¨package.jsonä¸­é…,ä¹‹åæ‰§è¡Œ`npm run format`å°±æ ¼å¼åŒ–srcæ–‡ä»¶å¤¹ä¸‹çš„jså’Œtsæ–‡ä»¶.
```json
"sciprts": {
	"format": "prettier --write \"src/**/*.js\" \"src/**/*.ts\""
}
```


##### 3.å®‰è£…æ’ä»¶
åœ¨vscodeä¸­å®‰è£…`prettier`å’Œ`ESLint`æ’ä»¶, æ·»åŠ ç›¸å…³é…ç½®,å®ç°ä¿å­˜åè‡ªåŠ¨æ£€æŸ¥å’Œæ ¼å¼åŒ–.
*å®‰è£…æ’ä»¶prettier*
* å®‰è£…æ’ä»¶
* æ›´æ–°æ ¹ç›®å½•ä¸‹`.vscode/settings.json`ä¸­å…³äºæ ¼å¼åŒ–çš„é…ç½®ä¸ºprettier
```json
// .vscode/settings.json

  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "[javascript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[vue]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "editor.formatOnSave": true,
```

é…ç½®å®Œæˆä»¥å, ä¿å­˜æ–‡ä»¶å,å°±å¯ä»¥å‘ç°è¢«æ ¼å¼åŒ–äº†.

*å®‰è£…æ’ä»¶ESLint*
* å®‰è£…ESLintæ’ä»¶,ç‰ˆæœ¬3.0.10
* npmä¾èµ–åŒ…ESLintä¾èµ–ç‰ˆæœ¬æ˜¯9.0.17
* æ›´æ–°settings.jsonæ–‡ä»¶
```json
// .vscode/settings.json

  "eslint.useFlatConfig": true,
  "eslint.validate": [
    "javascript",
    "javascriptreact",
    "typescript",
    "typescriptreact",
    "vue"
  ],
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "always"
  },
  "eslint.format.enable": false
```
ä¿å­˜æ–‡ä»¶å, vscodeè¾“å‡ºæ å‡ºç°é”™è¯¯: 
```log
[Error - 4:01:21 PM] Request textDocument/codeAction failed.
  Message: Request textDocument/codeAction failed with message: Invalid Options:
- Unknown options: configFile
- 'configFile' has been removed. Please use the 'overrideConfigFile' option instead.
  Code: -32603 
```

æˆ‘ä»¬é€šè¿‡è¾“å‡ºç»ˆç«¯çš„é€‰é¡¹åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€å®Œæ•´çš„é”™è¯¯å†…å®¹:
```log
[Info  - 4:01:06 PM] ESLint server is starting.
[Info  - 4:01:06 PM] ESLint server running in node v20.18.1
[Info  - 4:01:06 PM] ESLint server is running.
[Info  - 4:01:07 PM] ESLint library loaded from: C:\Users\Null\Documents\jueblog-frontend\node_modules\eslint\lib\api.js
[Error - 4:01:07 PM] Request textDocument/diagnostic failed.
  Message: Request textDocument/diagnostic failed with message: Invalid Options:
- Unknown options: configFile
- 'configFile' has been removed. Please use the 'overrideConfigFile' option instead.
  Code: -32603 
[Error - 4:01:07 PM] Document pull failed for text document file:///c%3A/Users/Null/Documents/jueblog-frontend/package.json
  Message: Request textDocument/diagnostic failed with message: Invalid Options:
- Unknown options: configFile
- 'configFile' has been removed. Please use the 'overrideConfigFile' option instead.
  Code: -32603 
[Error - 4:01:07 PM] Calculating config file for file:///c%3A/Users/Null/Documents/jueblog-frontend/test.js) failed.
Error: Invalid Options:
- Unknown options: configFile
- 'configFile' has been removed. Please use the 'overrideConfigFile' option instead.
    at processOptions (C:\Users\Null\Documents\jueblog-frontend\node_modules\eslint\lib\eslint\eslint-helpers.js:843:15)
    at new ESLint (C:\Users\Null\Documents\jueblog-frontend\node_modules\eslint\lib\eslint\eslint.js:449:34)
    at O (c:\Users\Null\.vscode\extensions\dbaeumer.vscode-eslint-3.0.10\server\out\eslintServer.js:1:19181)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Object.M [as withClass] (c:\Users\Null\.vscode\extensions\dbaeumer.vscode-eslint-3.0.10\server\out\eslintServer.js:1:19777)
    at async t.workspace.getConfiguration.then.O.then.m.validate (c:\Users\Null\.vscode\extensions\dbaeumer.vscode-eslint-3.0.10\server\out\eslintServer.js:1:23728)
```

æå–ä¸€ä¸‹é”™è¯¯ä¿¡æ¯:
*  'configFile' has been removed. Please use the 'overrideConfigFile' option instead.
æ‰“å¼€vscodeçš„settingsé…ç½®(`ctrl+,` æˆ–ç‚¹å‡»é…ç½®), è¾“å…¥`eslint`, æŸ¥çœ‹eslintç›¸å…³é…ç½®:
æ‰¾åˆ°å¦‚ä¸‹é…ç½®å¹¶ç¼–è¾‘:
> ESLint: options

å°†å…¶å†…å®¹æ›´æ”¹ä¸º:
```json
Â  "eslint.options": {
Â  Â  "overrideConfigFile": "eslint.config.js"
Â  },
```

æ›´æ”¹å®Œæˆä»¥å, å°±åº”è¯¥å¯ä»¥æ˜¾ç¤ºESLintè¯­æ³•æ£€æŸ¥çš„ç»“æœäº†.

##### 4.å…±äº«æ ¼å¼åŒ–é…ç½®
åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º`.vscode/settings.json`æ–‡ä»¶, é™¤äº†é»˜è®¤å†…å®¹å¤–, å‰©ä½™å†…å®¹å°±æ˜¯ä¸Šé¢æåˆ°çš„æ·»åŠ çš„prettierå’Œeslintç›¸å…³çš„é…ç½®å†…å®¹.

### 2.gitè§„èŒƒ
#### 1.åˆ¶å®šè§„èŒƒ
gitè§„èŒƒåŒ…å«ä¸¤ä¸ªæ–¹é¢: æäº¤è§„èŒƒå’Œåˆ†æ”¯è§„èŒƒ. åˆ†æ”¯è§„èŒƒå› ä¸ºç®€å•
ä¸ºäº†æ›´ç›´è§‚åœ°çœ‹å‡ºæäº¤çš„æè¿°ä¿¡æ¯,å°†æäº¤ä¿¡æ¯æŒ‰ç…§åŠŸèƒ½åˆ’åˆ†,æ·»åŠ å›ºå®šçš„å‰ç¼€.å…¶é€šç”¨è§„èŒƒå¦‚ä¸‹:
```md
feat: æ–°å¢åŠŸèƒ½
fix: ä¿®å¤bug
perf: ä¼˜åŒ–æ€§èƒ½
refactor: é‡æ„
chore: æ‚é¡¹,å…¶å®ƒæ›´æ”¹
build: æ„å»ºç›¸å…³ä¿®æ”¹
ci: æŒç»­é›†æˆé…ç½®
style: æ ·å¼æ›´æ”¹
test: å•å…ƒæµ‹è¯•æ›´æ”¹
```

ä½¿ç”¨æ¡ˆä¾‹:
```sh
git commit -m "feat: å®Œæˆç”¨æˆ·æ¨¡å—"
```

å¦‚æœæ„Ÿè§‰è®°å¿†å…³é”®å­—ç¹ç,å¯ä»¥ä½¿ç”¨ç›¸å…³ä¾èµ–æ¥ç®€åŒ–æäº¤. ä¾‹å¦‚`cz-conventional-changelog`
* å®‰è£… `npm i cz-conventional-changelog -D`
* æ ¹ç›®å½•ä¸‹åˆ›å»º`.cvrc`æ–‡ä»¶,å¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹:
```log
{
	"path": "cz-conventional-changelog"
}
```
* æäº¤ä»£ç æ—¶å€™,å¯ä»¥ä½¿ç”¨`git cz`å‘½ä»¤æ¥ä»£æ›¿`git commit`å‘½ä»¤, æäº¤æ—¶ä¼šè§¦å‘é€‰é¡¹çš„é€‰æ‹©.



#### 2.éªŒè¯è§„èŒƒ
**git hookæ¦‚è¿°**
å¦‚ä½•æ£€æŸ¥é¡¹ç›®ç»„æˆå‘˜æäº¤çš„è§„èŒƒå‘¢? ä½¿ç”¨git hookæ¥è¿›è¡Œæ£€æŸ¥.
git hookçš„ä½œç”¨æ˜¯åœ¨gitåŠ¨ä½œå‘ç”Ÿå‰è§¦å‘è‡ªå®šä¹‰è„šæœ¬,è¿™äº›åŠ¨ä½œåŒ…æ‹¬æäº¤,åˆå¹¶å’Œæ¨é€ç­‰.å¯ä»¥åˆ©ç”¨è¿™äº›é’©å­åœ¨gitæµç¨‹çš„å„ä¸ªç¯èŠ‚å®ç°è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘.
git hookåˆ†ä¸ºå®¢æˆ·ç«¯é’©å­å’ŒæœåŠ¡ç«¯é’©å­. 

å®¢æˆ·ç«¯é’©å­ä¸»è¦æœ‰ä»¥ä¸‹4ä¸ª:
* pre-commit æäº¤ä¿¡æ¯å‰è¿è¡Œ,å¯æ£€æŸ¥æš‚å­˜åŒºçš„ä»£ç 
* prepare-commit-msg: ä¸å¸¸ä½¿ç”¨
* commit-msg: æ£€æŸ¥æäº¤ä¿¡æ¯
* post-commit: æäº¤å®Œæˆåè¿è¡Œ

æœåŠ¡ç«¯é’©å­:
* pre-receive: æ¨é€å‰çš„å„ç§æ£€æŸ¥
* post-receive: ä¸å¸¸ç”¨
* update: ä¸å¸¸ç”¨

æœ¬æ–‡é‡‡ç”¨çš„è®¿é—®å‚è€ƒäº†åœ¨çº¿[CSDNä¸Šçš„æ–‡ç« ]([Husky(husky9.xç‰ˆæœ¬é€‚é…) + Lint-staged + Commitlint + Commitizen + cz-git é…ç½® Git æäº¤è§„èŒƒ-CSDNåšå®¢](https://blog.csdn.net/weixin_51799004/article/details/138308098#comments_32893962)), é‡‡ç”¨äº†`husky+lintStaged+commitlint`æ–¹æ¡ˆ.

* huskyç”¨äºåˆ›å»ºgitå®¢æˆ·ç«¯é’©å­
* lint-stagedæ˜¯ä¸€ä¸ªåœ¨git addåˆ°æš‚å­˜åŒºçš„æ–‡ä»¶è¿è¡Œlinters(ESLint/Prettier/StyleLint)çš„å·¥å…·
* commitlintæä¾›äº†ç”¨äºæ ¡éªŒæäº¤çš„ä¿¡æ¯æ˜¯å¦ç¬¦åˆè§„èŒƒçš„å‘½ä»¤

##### 1.[huskyçš„å®‰è£…åŠé…ç½®]([Get started | Husky](https://typicode.github.io/husky/get-started.html))
**å®‰è£…**
```sh
npm i husky -D
```

**åˆå§‹åŒ–**
```bash
npx husky init
```

åˆå§‹åŒ–å‘½ä»¤ä¹‹å,
* ä¼šåœ¨æ ¹ç›®å½•ä¸‹ç”Ÿæˆ`.husky`æ–‡ä»¶å¤¹, é‡Œé¢æœ‰`'_'æ–‡ä»¶å¤¹, pre-commitæ–‡ä»¶`. pre-commitå†…å®¹æ˜¯`npm test`
* ç»™package.jsonçš„scriptsè„šæœ¬ä¸­æ·»åŠ `"prepare": "husky"`å‘½ä»¤.

å¦‚æœæˆ‘ä»¬è¿™æ—¶å€™æ‰§è¡Œgitçš„commitå‘½ä»¤çš„è¯, ä¼šæç¤ºæŠ¥é”™ä¿¡æ¯,æ²¡æœ‰æ‰¾åˆ°testå‘½ä»¤.è¿™ä¸ªåœ°æ–¹å…¶å®å¹¶ä¸ç®—ä¸€ä¸ªé”™è¯¯, å› ä¸ºæˆ‘ä»¬ä½¿ç”¨huskyéœ€è¦æ­é…å…¶å®ƒçš„ä¾èµ–.

##### 2.[lint-staged]([lint-staged/lint-staged: ğŸš«ğŸ’© â€” Run linters on git staged files](https://github.com/lint-staged/lint-staged#readme))å®‰è£…åŠé…ç½®

**å®‰è£…**
```bash
npm i -D lint-staged
```

**é…ç½®package.json**
```bash
// package.json  å…ˆæ³¨é‡Šstylelint

"scripts": {
 ....
 "lint:lint-staged": "lint-staged"
},
"lint-staged": {
	"*.{js,ts,vue}": [
		"eslint --fix",
		"prettier --write"
	],
	"*.{cjs, json}": [
		"prettier --write"
	],
	"*.{vue,html}": [
		"eslint --fix",
		"prettier --write",
		//"stylelint --fix"
	],
	"*.{scss,less,css}": [
		//"stylelint --fix",
		"prettier --write"
	],
	"*.md": [
		"prettier --write"
	]
}
```

**ä¿®æ”¹pre-commitå†…å®¹**
```
npm run lint:lint-staged
```


é…ç½®å®Œæˆä»¥å, å½“æ‰§è¡Œ`git commit -m 'xxx'`æ—¶,å°±ä¼šè§¦å‘pre-commitçš„é’©å­,è¿›è¡Œeslint,prettieråŠstylelintçš„è¯­æ³•æ£€æŸ¥å’Œæ ¼å¼åŒ–æ“ä½œ.å¦‚æœæœ‰eslintæŠ¥é”™,å°±åœ¨æ§åˆ¶å°æ‰“å°.ç­‰æ›´æ”¹å,å†æ¬¡æ‰§è¡Œ,å°†ä¼šå®Œæˆcommitçš„æ“ä½œ.

##### 3.[commitlint]([Getting started | commitlint](https://commitlint.js.org/guides/getting-started.html))å®‰è£…åŠé…ç½®

**å®‰è£…**
```bash
npm i -D @commitlint/cli, @commitlint/config-conventional
```


**é…ç½®**
æ ¹ç›®å½•ä¸‹åˆ›å»º`commitlint.config.js`æ–‡ä»¶,è¾“å…¥å¦‚ä¸‹å†…å®¹:

```bash
// commitlint.config.js

export default {
	extends: ['@commitlint/config-conventional']
}
```

**å¢åŠ é…ç½®é¡¹**
```bash
//commitlint.config.js
export default {
	extends: ['@commitlint/config-conventional'],
	rules: {
		'subject-case': [0], //subjectå¤§å°å†™ä¸åšæ ¡éªŒ
		'type-enum': [
			2,             //éªŒè¯çš„é”™è¯¯çº§åˆ«
			'always',      //åœ¨ä»€ä¹ˆæƒ…å†µä¸‹éªŒè¯, alwaysè¡¨ç¤ºä¸€ç›´éªŒè¯
			[
				'feat',
				'fix',
				'docs',
				'style',
				'refactor',
				'perf',
				'test',
				'build',
				'ci',
				'revert',
				'chore'
			]
		]
	}
}
```

è¿™é‡Œæ’ä¸€å˜´, ä½ çœ‹rulesä¸­çš„é…ç½®, æ˜¯æ ¹æ®commitçš„æ ¼å¼æ¥çš„. è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹: [[git#git commitæäº¤è§„èŒƒ]]

**é…ç½®husky+commitlint**
```bash
echo "npx --no -- commitlint --edit \$1" > .husky/commit-msg
```




##### 4.commitizen & cz-gitå®‰è£…

* commitizen: åŸºäºNode.jsçš„git commitå‘½ä»¤è¡Œå·¥å…·, è¾…åŠ©ç”Ÿæˆæ ‡å‡†åŒ–çš„commit message
* cz-git: ä¸€æ¬¾å·¥ç¨‹æ€§æ›´å¼º,è½»é‡çº§,é«˜åº¦è‡ªå®šä¹‰; ,æ ‡å‡†è¾“å‡ºæ ¼å¼çš„commitizené€‚é…å™¨.
**å®‰è£…**
```bash
npm i commitizen cz-git -D
```

**é…ç½®**
ä¿®æ”¹package.json,æ·»åŠ configç”¨æ¥æŒ‡å®šä½¿ç”¨çš„é€‚é…å™¨
```json
//package.json

{
 "sciprts": {},
 "config": {
	 "commitizen": {
		 "path": "node_modules/cz-git"
	 }
 }
}
```

cz-gitä¸commitlintè¿›è¡Œè”åŠ¨ç»™ä¸æ ¡éªŒä¿¡æ¯, æ‰€ä»¥å¯ä»¥ç¼–å†™commitlinté…ç½®æ–‡ä»¶:
```bash
// commitlint.config.js

export default {

 rules: {},
 prompt: {
    messages: {
      type: 'é€‰æ‹©è¦æäº¤çš„ç±»å‹',
      scope: 'é€‰æ‹©ä¸€ä¸ªæäº¤èŒƒå›´',
      customScope: 'é€‰æ‹©ä¸€ä¸ªæäº¤èŒƒå›´',
      subject: 'å¡«å†™ç®€çŸ­ç²¾ç‚¼çš„å˜æ›´æè¿° :\n',
      body: 'å¡«å†™æ›´åŠ è¯¦ç»†çš„å˜æ›´æè¿°(å¯é€‰)',
      breaking: 'åˆ—ä¸¾éå…¼å®¹æ€§çš„é‡å¤§çš„å˜æ›´(å¯é€‰). ä½¿ç”¨"|"æ¢è¡Œ :\n',
      footerPrefixesSelect: 'é€‰æ‹©å…³è”issueå‰ç¼€(å¯é€‰)',
      customFooterPrefix: 'å¡«å†™è‡ªå®šä¹‰issueå‰ç¼€',
      footer: 'åˆ—ä¸¾å…³è”issue(å¯é€‰) ä¾‹å¦‚: #31, #I3244 :\n',
      generatingByAI: 'æ­£åœ¨é€šè¿‡AIç”Ÿæˆä½ çš„æäº¤ç®€çŸ­æè¿°...',
      generatedSelectByAI: 'é€‰æ‹©ä¸€ä¸ªAIç”Ÿæˆçš„ç®€å•æè¿°...',
      confirmCommit: 'æ˜¯å¦ç¡®è®¤æäº¤?',
    },
    // prettier-ignore
    types: [
    { value: 'feat', name: 'ç‰¹æ€§:     æ–°å¢åŠŸèƒ½', emoji: ':sparkles:' },
    { value: 'fix', name: 'ä¿®å¤:      ä¿®å¤bug', emoji: ':bug:' },
    { value: 'docs', name: 'docs:     æ–‡æ¡£å˜æ›´', emoji: ':memo:' },
    { value: 'style', name: 'style:    ä»£ç æ ¼å¼(ä¸å½±å“ä»£ç é€»è¾‘)', emoji: ':lipstick:' },
    { value: 'refactor', name: 'refactor: é‡æ„(æ—¢ä¸å¢åŠ feature,ä¹Ÿä¸æ˜¯bugä¿®å¤)', emoji: ':recycle:' },
    { value: 'perf', name: 'perf:     æ€§èƒ½ä¼˜åŒ–', emoji: ':zap:' },
    { value: 'test', name: 'test:     æ·»åŠ æµ‹è¯•' , emoji: ':white_check_mark:'},
    { value: 'build', name: 'build:    æ‰“åŒ…' , emoji: ':construction:'},
    { value: 'ci', name: 'ci:       ä¿®æ”¹æŒç»­é›†æˆé…ç½®', emoji: ':ferris_wheel:' },
    { value: 'revert', name: 'revert:   å›é€€', emoji: ':rewind:' },
    { value: 'chore', name: 'chore:    æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜æ›´', emoji: ':hammer:' },
  ],
    useEmoji: true,
    emojiAlign: 'center',
    useAI: false,
    aiNumber: 1,
    themeColorCode: '',
    scopes: [],
    allowCustomScopes: true,
    allowEmptyScopes: true,
    customScopesAlign: 'bottom',
    customScopesAlias: 'custom',
    emptyScopesAlias: 'empty',
    upperCaseSubject: false,
    markBreakingChangeMode: false,
    allowBreakingChanges: ['feat', 'fix'],
    breaklineNumber: 100,
    breaklineChar: '|',
    skipQuestions: [],
    issuePrefixes: [
      { value: 'closed', name: 'closed: ISSUES has been processed' },
    ],
    customIssuePrefixAlign: 'top',
    emptyIssuePrefixAlias: 'skip',
    customIssuePrefixAlias: 'custom',
    allowCustomIssuePrefix: true,
    allowEmptyIssuePrefix: true,
    confirmColorize: true,
    maxHeaderLength: Infinity,
    maxSubjectLength: Infinity,
    minSubjectLength: 0,
    scopeOverrides: undefined,
    defaultBody: '',
    defaultIssues: '',
    defaultScope: '',
    defaultSubject: '',
  },
}
}
```


**æäº¤**
å› ä¸ºæ’ä»¶`commitizen`å¹¶ä¸å…¨å±€å®‰è£…çš„,æ‰€ä»¥æˆ‘ä»¬æ‰§è¡Œ`git cz`æˆ–`cz`å‘½ä»¤ä¼šå¤±è´¥. ä½†å¯ä»¥ä½¿ç”¨`npx cz`å‘½ä»¤æ¥ä»£æ›¿.

æ³¨æ„, åŸ`git commit`å‘½ä»¤ä¾ç„¶æœ‰æ•ˆ,åŒæ—¶å¦‚æœæˆ‘ä»¬ä½¿ç”¨gitå›¾å½¢åŒ–å·¥å…·ä¾‹å¦‚sourcetreeæ¥æäº¤,åˆ™æ— æ³•è§¦å‘czå‘½ä»¤. æ‰€ä»¥è¿˜æ˜¯éœ€è¦ä½¿ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼.

