## ä»‹ç»

å·¥ç¨‹åŒ–å†…å®¹åŒ…å«äº†é™¤é¡µé¢ç»„ä»¶ä¹‹å¤–çš„å…¶å®ƒä¸œè¥¿,é™¤äº†ä¸ªæ€§åŒ–çš„é¡µé¢ä¹‹å¤–å…¶å®ƒå‰©ä¸‹çš„å¯åœ¨é¡¹ç›®ç»„æˆå‘˜ä¹‹é—´ç»Ÿä¸€é…ç½®çš„å†…å®¹:

* ä»£ç è§„èŒƒ(å‘½å,æ ¼å¼,ç›®å½•,æ³¨é‡Š,ç±»å‹)
* gitè§„èŒƒ
* npm/nodeé…ç½®
* è¯·æ±‚axiosé…ç½®
* è„šæ‰‹æ¶é…ç½®(vite/webpackç­‰ç­‰)

* å¾…è¡¥å……

## å·¥ç¨‹åŒ–å®è·µ

### 1.ä»£ç è§„èŒƒ

#### 1.æ˜¯ä»€ä¹ˆ
åœ¨ä¸€ä¸ªå‰ç«¯é¡¹ç›®ä¸­,å¯ä»¥å°†ä»£ç è§„èŒƒåˆ†ä¸ºä»¥ä¸‹å‡ ç±»:
* å‘½åè§„èŒƒ
* æ ¼å¼è§„èŒƒ
* ç›®å½•è§„èŒƒ
* æ³¨é‡Šè§„èŒƒ
* ç±»å‹è§„èŒƒ


#### 2åˆ¶å®šè§„èŒƒ
##### å‘½åè§„èŒƒ
å‘½åè§„èŒƒæ˜¯æœ€åŸºç¡€çš„ä»£ç è§„èŒƒ,æœ‰ä»¥ä¸‹é›†ä¸­é€šç”¨çš„å‘½åè§„èŒƒ:
* ä¸‹åˆ’çº¿å‘½å: å¦‚`user_name`
* ä¸­åˆ’çº¿å‘½å: å¦‚`user-name`
* å°é©¼å³°å‘½å: å¦‚`userName`
* å¤§é©¼å³°å‘½å: å¦‚`UserName`

æ¨èä¸€å¥—é€‚åˆå¤§å¤šæ•°å‰ç«¯é¡¹ç›®çš„è§„èŒƒ
* å˜é‡,å±æ€§,å‚æ•°: ä¸‹åˆ’çº¿å‘½å
* å‡½æ•°: å°é©¼å³°å‘½å
* ç±»,ç±»å‹: å¤§é©¼å³°å‘½å
* æ–‡ä»¶,æ–‡ä»¶å¤¹: ä¸­åˆ’çº¿å‘½å


##### æ ¼å¼è§„èŒƒ
> æŒ‡çš„æ˜¯ä»£ç ä¸­ä½¿ç”¨åŸºæœ¬ç¬¦å·å’Œç»„ç»‡ä»£ç çš„è§„èŒƒ.

æœ‰å¦‚ä¸‹å‡ ç§:
* ä»£ç ç»“å°¾æ˜¯å¦ä½¿ç”¨åˆ†å·
* å­—ç¬¦ä¸²ä½¿ç”¨å•å¼•å·è¿˜æ˜¯åŒå¼•å·
* ç¼©è¿›çš„ç©ºæ ¼æ˜¯2è¿˜æ˜¯4..
* å­—ç¬¦ä¹‹é—´çš„ç©ºæ ¼æ˜¯1ä¸ªè¿˜æ˜¯?
* å®½åº¦è¶…è¿‡800æ—¶,æ˜¯å¦è‡ªåŠ¨æ¢è¡Œ
* ä»£ç ä¸­çš„è¿ç»­ç©ºè¡Œæœ€å¤šä¸ºå¤šå°‘è¡Œ

##### ç›®å½•è§„èŒƒ
æ˜¯æŒ‡é¡¹ç›®ä¸­ç›®å½•ç»“æ„çš„è§„èŒƒ.å¯ä»¥å°†é¡¹ç›®åšå¦‚ä¸‹åˆ’åˆ†:
```md
src æºç ç›®å½•
 - assets èµ„æºç›®å½•
 - composables å…¬å…±æ–¹æ³•ç›®å½•
 - components å…¬å…±ç»„ä»¶ç›®å½•
 - pages é¡µé¢ç›®å½•
 - router è·¯ç”±ç›®å½•
 - request è¯·æ±‚ç›®å½•
 - styles å…¨å±€æ ·å¼ç›®å½•
 - stores çŠ¶æ€ç®¡ç†ç›®å½•
 - utils å·¥å…·ç›®å½•
config æ„å»ºé…ç½®ç›®å½•
public é™æ€èµ„æºç›®å½•
dist æ„å»ºåçš„ä»£ç ç›®å½•
node_modules ç¬¬ä¸‰æ–¹npmåŒ…ç›®å½•
```


##### æ³¨é‡Šè§„èŒƒ
jsæ³¨é‡Š: å•è¡Œæ³¨é‡Š,å¤šè¡Œæ³¨é‡Š,å‡½æ•°æ³¨é‡Š

```js
// å‡½æ•°æ³¨é‡Š
/**
* @desc å‡½æ•°æè¿°
* @params å‡½æ•°å‚æ•°
* @callback å›è°ƒå‡½æ•°
* @return å‡½æ•°è¿”å›å€¼
*
* /

```


htmlæ³¨é‡Šå’Œvue.jsæ³¨é‡Š:
vueæ³¨é‡Šéµå¾ªhtmlè§„åˆ™
```vue

// å¤æ‚æ¨¡å—å¯ä»¥é‡‡ç”¨å¦‚ä¸‹å½¢å¼:

<!-- [start] ç”¨æˆ·æ¨¡å— -->
<div>
	<span></span>
</div>

<!-- [end] ç”¨æˆ·æ¨¡å— -->
```


##### ç±»å‹è§„èŒƒ
æŒ‡å¦‚ä½•è®¾ç½®TSç±»å‹.æœ‰ä¸¤ä¸ªæ–¹é¢: å‘½åè§„èŒƒ, åˆ†ç»„è§„èŒƒ.
å‘½åè§„èŒƒ:
ç±»å’Œç±»å‹éƒ½æ˜¯é‡‡ç”¨å¤§é©¼å³°å‘½å, ä½†æ˜¯ç±»ä¹Ÿèƒ½å½“ä½œç±»å‹. æ‰€ä»¥ä¸å½±å“
åˆ†ç»„è§„èŒƒ:
åœ¨TSä¸­,é€šè¿‡å‘½åç©ºé—´å’Œæ¨¡å—ä¸¤ç§æ–¹æ¡ˆå®ç°.é¿å…å‡ºç°å…¨å±€çŠ¶æ€ä¸‹å‘ç”Ÿå‘½åå†²çª.



#### 3.æ£€æµ‹å’Œç»Ÿä¸€è§„èŒƒ
##### 1.æ£€æµ‹è§„èŒƒ
ä½¿ç”¨ESLintæ£€æµ‹. **ä½¿ç”¨ç‰ˆæœ¬ä¸º9.17.0**
ESLintçš„åŠŸèƒ½:
* æ£€æŸ¥ä»£ç è´¨é‡: å¦‚æ˜¯å¦å­˜åœ¨å®šä¹‰ä½†æœªç”¨çš„å˜é‡
* æ£€æŸ¥ä»£ç é£æ ¼: å¦‚æ¢è¡Œ,å¼•å·å’Œç¼©è¿›ç­‰ç›¸å…³æ ¼å¼æ˜¯å¦ç¬¦åˆè§„èŒƒ.


åœ¨è„šæ‰‹æ¶åˆ›å»ºçš„é¡¹ç›®ä¸­,ä¸€èˆ¬é»˜è®¤å®‰è£…äº†ESLint,å¦‚æœæ²¡æœ‰å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤å®‰è£…å’Œåˆå§‹åŒ–:

*1.æ ¹ç›®å½•ä¸‹å®‰è£…å¹¶åˆå§‹åŒ–*
```sh
npm init @eslint/config@latest
```

åˆå§‹åŒ–å‘½ä»¤æ˜¯äº¤äº’å¼å‘½ä»¤.æ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤åé¦–å…ˆä¼šæç¤ºå¦‚ä½•ä½¿ç”¨ESLint, æœ‰3ä¸ªå¯é€‰åŠŸèƒ½é€‰é¡¹:
* To check syntax only  ä»…æ£€æŸ¥è¯­æ³•
* To check syntax and find problems æ£€æŸ¥è¯­æ³•å’Œå‘ç°é—®é¢˜
* To check syntax, find problems, and enforce code style. æ£€æŸ¥è¯­æ³•,å‘ç°é—®é¢˜,å¼ºåˆ¶æ ¼å¼åŒ–

é€šå¸¸é€‰æ‹©ç¬¬2ä¸ªé€‰é¡¹, å¼ºåˆ¶æ ¼å¼åŒ–æˆ‘ä»¬ä¼šä½¿ç”¨å¦ä¸€æ¬¾å·¥å…·æ¥å®ç°. ä¹‹å,è¿˜æœ‰ä¸€äº›å…¶å®ƒé…ç½®, é€‰æ‹©åŸºæœ¬é…ç½®å³å¯:
* ä½¿ç”¨å“ªç§æ¨¡å—æœºåˆ¶? ESM
* ä½¿ç”¨å“ªä¸ªæ¡†æ¶? Node
* ä½¿ç”¨TypeScriptå—? 
* åœ¨å“ªé‡Œä½¿ç”¨? æµè§ˆå™¨(Browser)
* éœ€è¦å“ªç§æ ¼å¼çš„é…ç½®æ–‡ä»¶? JSON
é€‰æ‹©ä¹‹å, ESLintä¼šè‡ªåŠ¨åˆ—å‡ºéœ€è¦å®‰è£…çš„åŒ…,è¾“å…¥yeså³å¯å®‰è£…,åŒæ—¶æ ¹ç›®å½•ä¸‹ä¼šç”Ÿæˆ`.eslint.config.js`.

*2.é…ç½®æ–‡ä»¶è§£æ*
é…ç½®æ–‡ä»¶ä¸­å¯ä»¥è‡ªå®šä¹‰è§„èŒƒ,æˆ–è€…åŠ è½½æ’ä»¶ä½¿ç”¨å·²æœ‰çš„è§„èŒƒ.
æ¥çœ‹ä¸‹`.eslint.config.js`çš„å†…å®¹:
```json
import globals from "globals";
import pluginJs from "@eslint/js";
import tseslint from "typescript-eslint";


/** @type {import('eslint').Linter.Config[]} */
export default [
  {files: ["**/*.{js,mjs,cjs,ts}"]},
  {languageOptions: { globals: globals.browser }},
  pluginJs.configs.recommended,
  ...tseslint.configs.recommended,
];
```

[å®‰è£…vueç›¸å…³çš„eslint:](https://eslint.vuejs.org/)
```bash
// å¦‚æœåœ¨åˆå§‹åŒ–æ—¶å€™é€‰æ‹©äº†vueçš„åŒ–,è¿™ä¸€æ­¥å¯ä»¥çœç•¥
npm i eslint-plugin-vue -D
```

```js
// .eslint.config.js

import pluginVue from 'eslint-plugin-vue'

export defualt [
	...pluginVue.configs['flat/recommended'],
]
```


*3.[è‡ªå®šä¹‰è§„èŒƒ](https://zh-hans.eslint.org/docs/latest/use/configure/rules)*
å¦‚æœè¦è‡ªå®šä¹‰è§„èŒƒ,å¯ä»¥å°†å¤šæ¡è§„åˆ™å®šä¹‰åœ¨ruleså¯¹è±¡ä¸‹,æ­¤æ—¶ä¼šè¦†ç›–é»˜è®¤çš„è§„åˆ™.
ä¾‹å¦‚,ä¸‹é¢ä¾‹å­ä¸­å°†å»é™¤æœªä½¿ç”¨çš„å˜é‡çš„é”™è¯¯.
åœ¨è‡ªå®šä¹‰è§„èŒƒä¸­,æˆ‘ä»¬æ·»åŠ å‘½åè§„èŒƒå’Œç›®å½•è§„èŒƒ.

```js
// .eslint.config.js

import globals from 'globals'
import pluginJs from '@eslint/js'
import tseslint from 'typescript-eslint'
import pluginVue from 'eslint-plugin-vue'

/** @type {import('eslint').Linter.Config[]} */

export default [
  { files: ['**/*.{js,mjs,cjs,ts,vue}'] },
  { languageOptions: { globals: globals.browser } },
  pluginJs.configs.recommended,
  ...tseslint.configs.recommended,
  ...pluginVue.configs['flat/essential'],
  {
    files: ['src/*.{js,ts,vue}'],
    languageOptions: { parserOptions: { parser: tseslint.parser } },

    rules: {
      //å‘½åè§„èŒƒæ£€æŸ¥
      '@typescript-eslint/naming-convention': [
        'error',
        {
          selector: ['variable', 'parameter', 'property'],
          format: ['snake_case'],
          leadingUnderscore: 'allow',
          trailingUnderscore: 'allow',
        },
        {
          selector: ['function'],
          format: ['camelCase'],
        },
        {
          selector: ['class', 'typeAlias', 'interface'],
          format: ['PascalCase'],
        },
      ],
    },
  },
]
```

ç®€ä»‹ç”¨æ³•:
* è§„åˆ™é…ç½®çš„å€¼æ˜¯ä¸€ä¸ªæ•°ç»„,è¯¥æ•°ç»„åŒ…å«2ä¸ªæ•°ç»„é¡¹.
* ç¬¬ä¸€ä¸ªæ•°ç»„é¡¹è¡¨ç¤ºé”™è¯¯çº§åˆ«,æ˜¯ä»¥ä¸‹3ä¸ªå€¼ä¹‹ä¸€:
	* "off"æˆ–0, å…³é—­è§„èŒƒéªŒè¯
	* "warn"æˆ–1, è­¦å‘Šçº§åˆ«éªŒè¯
	* "error"æˆ–2, é”™è¯¯çº§åˆ«éªŒè¯
* ç¬¬äºŒä¸ªæ•°ç»„é¡¹æ˜¯è§„èŒƒé…ç½®,åœ¨è§„èŒƒéªŒè¯æœªå…³é—­æ—¶ç”Ÿæ•ˆ,ä¸”ä¼šæ ¹æ®é”™è¯¯çº§åˆ«æç¤ºé”™è¯¯ä¿¡æ¯.

å…¶å®ƒè§„åˆ™:
> https://eslint.org/docs/latest/rules/

åˆ°è¿™ä¸€æ­¥ä¸ºæ­¢,è¿˜æ˜¯åªèƒ½é€šè¿‡åœ¨ç»ˆç«¯ä½¿ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼æ£€æŸ¥ä»£ç è§„èŒƒ. 
##### 2.ç»Ÿä¸€è§„èŒƒçš„å·¥å…·
ä½¿ç”¨prettierè¿›è¡Œä»£ç æ ¼å¼åŒ–.ä»£æ›¿ESLintçš„è§„èŒƒæ£€æŸ¥.

*1.å®‰è£…*
```bash
npm i prettier -D
```

*2.åˆ›å»º`.prettierrc.json`æ–‡ä»¶*
åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶`.prettierrc.json`æ–‡ä»¶, é…ç½®å†…å®¹å¦‚ä¸‹:
ä»¥ä¸‹æ˜¯éƒ¨åˆ†é…ç½®, prettierè¿˜æ”¯æŒé’ˆå¯¹ä¸åŒæ–‡ä»¶è®¾ç½®ä¸åŒçš„ä»£ç è§„èŒƒ, åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®`overrides`é€‰é¡¹æ¥å®ç°:
```json
// .prettierrc.json

{
  "singleQuote": true,
  "semi": false,
  "arrowParens": "avoid",
  "bracketSpacing": true,
  "jsxBracketSameLine": true,
  "requirePragma": false,
  "overrides": [
    {
      "files": ["*.json"],
      "options": {
        "parser": "json-stringify"
      }
    }
  ]
}
```


*3.æ ¼å¼åŒ–ä»£ç *
åœ¨æ§åˆ¶å°æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä»¥å, index.jsä¸­çš„æ ¼å¼å˜æˆäº†é…ç½®æ–‡ä»¶ä¸­è¦æ±‚çš„æ ¼å¼.
```bash
// index.js
npx prettier --write index.js
```

åŒæ—¶, prettierè¿˜æ”¯æŒæ‰¹é‡æ ¼å¼åŒ–æ–‡ä»¶. æ¯”å¦‚,åœ¨package.jsonä¸­é…,ä¹‹åæ‰§è¡Œ`npm run format`å°±æ ¼å¼åŒ–srcæ–‡ä»¶å¤¹ä¸‹çš„jså’Œtsæ–‡ä»¶.
```json
"sciprts": {
	"format": "prettier --write \"src/**/*.js\" \"src/**/*.ts\""
}
```


##### 3.å®‰è£…æ’ä»¶
åœ¨vscodeä¸­å®‰è£…`prettier`å’Œ`ESLint`æ’ä»¶, æ·»åŠ ç›¸å…³é…ç½®,å®ç°ä¿å­˜åè‡ªåŠ¨æ£€æŸ¥å’Œæ ¼å¼åŒ–.
*å®‰è£…æ’ä»¶prettier*
* å®‰è£…æ’ä»¶
* æ›´æ–°æ ¹ç›®å½•ä¸‹`.vscode/settings.json`ä¸­å…³äºæ ¼å¼åŒ–çš„é…ç½®ä¸ºprettier
```json
// .vscode/settings.json

  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "[javascript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[vue]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "editor.formatOnSave": true,
```

é…ç½®å®Œæˆä»¥å, ä¿å­˜æ–‡ä»¶å,å°±å¯ä»¥å‘ç°è¢«æ ¼å¼åŒ–äº†.

*å®‰è£…æ’ä»¶ESLint*
* å®‰è£…ESLintæ’ä»¶,ç‰ˆæœ¬3.0.10
* npmä¾èµ–åŒ…ESLintä¾èµ–ç‰ˆæœ¬æ˜¯9.0.17
* æ›´æ–°settings.jsonæ–‡ä»¶
```json
// .vscode/settings.json

  "eslint.useFlatConfig": true,
  "eslint.validate": [
    "javascript",
    "javascriptreact",
    "typescript",
    "typescriptreact",
    "vue"
  ],
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "always"
  },
  "eslint.format.enable": false
```
ä¿å­˜æ–‡ä»¶å, vscodeè¾“å‡ºæ å‡ºç°é”™è¯¯: 
```log
// è¿™ä¸ªé—®é¢˜å¯èƒ½éšç€æ’ä»¶ç‰ˆæœ¬å‡çº§æ¶ˆå¤±äº†

[Error - 4:01:21 PM] Request textDocument/codeAction failed.
  Message: Request textDocument/codeAction failed with message: Invalid Options:
- Unknown options: configFile
- 'configFile' has been removed. Please use the 'overrideConfigFile' option instead.
  Code: -32603 
```

æˆ‘ä»¬é€šè¿‡è¾“å‡ºç»ˆç«¯çš„é€‰é¡¹åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€å®Œæ•´çš„é”™è¯¯å†…å®¹:
```log
[Info  - 4:01:06 PM] ESLint server is starting.
[Info  - 4:01:06 PM] ESLint server running in node v20.18.1
[Info  - 4:01:06 PM] ESLint server is running.
[Info  - 4:01:07 PM] ESLint library loaded from: C:\Users\Null\Documents\jueblog-frontend\node_modules\eslint\lib\api.js
[Error - 4:01:07 PM] Request textDocument/diagnostic failed.
  Message: Request textDocument/diagnostic failed with message: Invalid Options:
- Unknown options: configFile
- 'configFile' has been removed. Please use the 'overrideConfigFile' option instead.
  Code: -32603 
[Error - 4:01:07 PM] Document pull failed for text document file:///c%3A/Users/Null/Documents/jueblog-frontend/package.json
  Message: Request textDocument/diagnostic failed with message: Invalid Options:
- Unknown options: configFile
- 'configFile' has been removed. Please use the 'overrideConfigFile' option instead.
  Code: -32603 
[Error - 4:01:07 PM] Calculating config file for file:///c%3A/Users/Null/Documents/jueblog-frontend/test.js) failed.
Error: Invalid Options:
- Unknown options: configFile
- 'configFile' has been removed. Please use the 'overrideConfigFile' option instead.
    at processOptions (C:\Users\Null\Documents\jueblog-frontend\node_modules\eslint\lib\eslint\eslint-helpers.js:843:15)
    at new ESLint (C:\Users\Null\Documents\jueblog-frontend\node_modules\eslint\lib\eslint\eslint.js:449:34)
    at O (c:\Users\Null\.vscode\extensions\dbaeumer.vscode-eslint-3.0.10\server\out\eslintServer.js:1:19181)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Object.M [as withClass] (c:\Users\Null\.vscode\extensions\dbaeumer.vscode-eslint-3.0.10\server\out\eslintServer.js:1:19777)
    at async t.workspace.getConfiguration.then.O.then.m.validate (c:\Users\Null\.vscode\extensions\dbaeumer.vscode-eslint-3.0.10\server\out\eslintServer.js:1:23728)
```

æå–ä¸€ä¸‹é”™è¯¯ä¿¡æ¯:
*  'configFile' has been removed. Please use the 'overrideConfigFile' option instead.
æ‰“å¼€vscodeçš„settingsé…ç½®(`ctrl+,` æˆ–ç‚¹å‡»é…ç½®), è¾“å…¥`eslint`, æŸ¥çœ‹eslintç›¸å…³é…ç½®:
æ‰¾åˆ°å¦‚ä¸‹é…ç½®å¹¶ç¼–è¾‘:
> ESLint: options

å°†å…¶å†…å®¹æ›´æ”¹ä¸º:
```json
Â  "eslint.options": {
Â  Â  "overrideConfigFile": "eslint.config.js"
Â  },
```

æ›´æ”¹å®Œæˆä»¥å, å°±åº”è¯¥å¯ä»¥æ˜¾ç¤ºESLintè¯­æ³•æ£€æŸ¥çš„ç»“æœäº†.

##### 4.å…±äº«æ ¼å¼åŒ–é…ç½®
åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º`.vscode/settings.json`æ–‡ä»¶, é™¤äº†é»˜è®¤å†…å®¹å¤–, å‰©ä½™å†…å®¹å°±æ˜¯ä¸Šé¢æåˆ°çš„æ·»åŠ çš„prettierå’Œeslintç›¸å…³çš„é…ç½®å†…å®¹.

### 2.gitè§„èŒƒ
#### 1.åˆ¶å®šè§„èŒƒ
gitè§„èŒƒåŒ…å«ä¸¤ä¸ªæ–¹é¢: æäº¤è§„èŒƒå’Œåˆ†æ”¯è§„èŒƒ. åˆ†æ”¯è§„èŒƒå› ä¸ºç®€å•
ä¸ºäº†æ›´ç›´è§‚åœ°çœ‹å‡ºæäº¤çš„æè¿°ä¿¡æ¯,å°†æäº¤ä¿¡æ¯æŒ‰ç…§åŠŸèƒ½åˆ’åˆ†,æ·»åŠ å›ºå®šçš„å‰ç¼€.å…¶é€šç”¨è§„èŒƒå¦‚ä¸‹:
```md
feat: æ–°å¢åŠŸèƒ½
fix: ä¿®å¤bug
perf: ä¼˜åŒ–æ€§èƒ½
refactor: é‡æ„
chore: æ‚é¡¹,å…¶å®ƒæ›´æ”¹
build: æ„å»ºç›¸å…³ä¿®æ”¹
ci: æŒç»­é›†æˆé…ç½®
style: æ ·å¼æ›´æ”¹
test: å•å…ƒæµ‹è¯•æ›´æ”¹
```

ä½¿ç”¨æ¡ˆä¾‹:
```sh
git commit -m "feat: å®Œæˆç”¨æˆ·æ¨¡å—"
```

å¦‚æœæ„Ÿè§‰è®°å¿†å…³é”®å­—ç¹ç,å¯ä»¥ä½¿ç”¨ç›¸å…³ä¾èµ–æ¥ç®€åŒ–æäº¤. ä¾‹å¦‚`cz-conventional-changelog`
* å®‰è£… `npm i cz-conventional-changelog -D`
* æ ¹ç›®å½•ä¸‹åˆ›å»º`.cvrc`æ–‡ä»¶,å¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹:
```log
{
	"path": "cz-conventional-changelog"
}
```
* æäº¤ä»£ç æ—¶å€™,å¯ä»¥ä½¿ç”¨`git cz`å‘½ä»¤æ¥ä»£æ›¿`git commit`å‘½ä»¤, æäº¤æ—¶ä¼šè§¦å‘é€‰é¡¹çš„é€‰æ‹©.



#### 2.éªŒè¯è§„èŒƒ
**git hookæ¦‚è¿°**
å¦‚ä½•æ£€æŸ¥é¡¹ç›®ç»„æˆå‘˜æäº¤çš„è§„èŒƒå‘¢? ä½¿ç”¨git hookæ¥è¿›è¡Œæ£€æŸ¥.
git hookçš„ä½œç”¨æ˜¯åœ¨gitåŠ¨ä½œå‘ç”Ÿå‰è§¦å‘è‡ªå®šä¹‰è„šæœ¬,è¿™äº›åŠ¨ä½œåŒ…æ‹¬æäº¤,åˆå¹¶å’Œæ¨é€ç­‰.å¯ä»¥åˆ©ç”¨è¿™äº›é’©å­åœ¨gitæµç¨‹çš„å„ä¸ªç¯èŠ‚å®ç°è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘.
git hookåˆ†ä¸ºå®¢æˆ·ç«¯é’©å­å’ŒæœåŠ¡ç«¯é’©å­. 

å®¢æˆ·ç«¯é’©å­ä¸»è¦æœ‰ä»¥ä¸‹4ä¸ª:
* pre-commit æäº¤ä¿¡æ¯å‰è¿è¡Œ,å¯æ£€æŸ¥æš‚å­˜åŒºçš„ä»£ç 
* prepare-commit-msg: ä¸å¸¸ä½¿ç”¨
* commit-msg: æ£€æŸ¥æäº¤ä¿¡æ¯
* post-commit: æäº¤å®Œæˆåè¿è¡Œ

æœåŠ¡ç«¯é’©å­:
* pre-receive: æ¨é€å‰çš„å„ç§æ£€æŸ¥
* post-receive: ä¸å¸¸ç”¨
* update: ä¸å¸¸ç”¨

æœ¬æ–‡é‡‡ç”¨çš„è®¿é—®å‚è€ƒäº†åœ¨çº¿[CSDNä¸Šçš„æ–‡ç« ]([Husky(husky9.xç‰ˆæœ¬é€‚é…) + Lint-staged + Commitlint + Commitizen + cz-git é…ç½® Git æäº¤è§„èŒƒ-CSDNåšå®¢](https://blog.csdn.net/weixin_51799004/article/details/138308098#comments_32893962)), é‡‡ç”¨äº†`husky+lintStaged+commitlint`æ–¹æ¡ˆ.

* huskyç”¨äºåˆ›å»ºgitå®¢æˆ·ç«¯é’©å­
* lint-stagedæ˜¯ä¸€ä¸ªåœ¨git addåˆ°æš‚å­˜åŒºçš„æ–‡ä»¶è¿è¡Œlinters(ESLint/Prettier/StyleLint)çš„å·¥å…·
* commitlintæä¾›äº†ç”¨äºæ ¡éªŒæäº¤çš„ä¿¡æ¯æ˜¯å¦ç¬¦åˆè§„èŒƒçš„å‘½ä»¤

##### 1.[huskyçš„å®‰è£…åŠé…ç½®]([Get started | Husky](https://typicode.github.io/husky/get-started.html))
**å®‰è£…**
```sh
npm i husky -D
```

**åˆå§‹åŒ–**
```bash
npx husky init
```

åˆå§‹åŒ–å‘½ä»¤ä¹‹å,
* ä¼šåœ¨æ ¹ç›®å½•ä¸‹ç”Ÿæˆ`.husky`æ–‡ä»¶å¤¹, é‡Œé¢æœ‰`'_'æ–‡ä»¶å¤¹, pre-commitæ–‡ä»¶`.  pre-commitå†…å®¹æ˜¯`npm test`
* ç»™package.jsonçš„scriptsè„šæœ¬ä¸­æ·»åŠ `"prepare": "husky"`å‘½ä»¤.

å¦‚æœæˆ‘ä»¬è¿™æ—¶å€™æ‰§è¡Œgitçš„commitå‘½ä»¤çš„è¯, ä¼šæç¤ºæŠ¥é”™ä¿¡æ¯,æ²¡æœ‰æ‰¾åˆ°testå‘½ä»¤.è¿™ä¸ªåœ°æ–¹å…¶å®å¹¶ä¸ç®—ä¸€ä¸ªé”™è¯¯, å› ä¸ºæˆ‘ä»¬ä½¿ç”¨huskyéœ€è¦æ­é…å…¶å®ƒçš„ä¾èµ–.

##### 2.[lint-staged]([lint-staged/lint-staged: ğŸš«ğŸ’© â€” Run linters on git staged files](https://github.com/lint-staged/lint-staged#readme))å®‰è£…åŠé…ç½®

**å®‰è£…**
```bash
npm i -D lint-staged
```

**é…ç½®package.json**
```bash
// package.json  å…ˆæ³¨é‡Šstylelint

"scripts": {
 ....
 "lint:lint-staged": "lint-staged"
},
"lint-staged": {
	"*.{js,ts,vue}": [
		"eslint --fix",
		"prettier --write"
	],
	"*.{cjs, json}": [
		"prettier --write"
	],
	"*.{vue,html}": [
		"eslint --fix",
		"prettier --write",
		//"stylelint --fix"
	],
	"*.{scss,less,css}": [
		//"stylelint --fix",
		"prettier --write"
	],
	"*.md": [
		"prettier --write"
	]
}
```

**ä¿®æ”¹pre-commitå†…å®¹**
```
npm run lint:lint-staged
```


é…ç½®å®Œæˆä»¥å, å½“æ‰§è¡Œ`git commit -m 'xxx'`æ—¶,å°±ä¼šè§¦å‘pre-commitçš„é’©å­,è¿›è¡Œeslint,prettieråŠstylelintçš„è¯­æ³•æ£€æŸ¥å’Œæ ¼å¼åŒ–æ“ä½œ.å¦‚æœæœ‰eslintæŠ¥é”™,å°±åœ¨æ§åˆ¶å°æ‰“å°.ç­‰æ›´æ”¹å,å†æ¬¡æ‰§è¡Œ,å°†ä¼šå®Œæˆcommitçš„æ“ä½œ.

##### 3.[commitlint]([Getting started | commitlint](https://commitlint.js.org/guides/getting-started.html))å®‰è£…åŠé…ç½®

**å®‰è£…**
```bash
npm i -D @commitlint/cli @commitlint/config-conventional
```


**é…ç½®**
æ ¹ç›®å½•ä¸‹åˆ›å»º`commitlint.config.js`æ–‡ä»¶,æ–°å¢å¦‚ä¸‹å†…å®¹:

```bash
// commitlint.config.js

export default {
	extends: ['@commitlint/config-conventional']
}
```

**å¢åŠ é…ç½®é¡¹**
```bash
//commitlint.config.js
export default {
	extends: ['@commitlint/config-conventional'],
	rules: {
		'subject-case': [0], //subjectå¤§å°å†™ä¸åšæ ¡éªŒ
		'type-enum': [
			2,             //éªŒè¯çš„é”™è¯¯çº§åˆ«
			'always',      //åœ¨ä»€ä¹ˆæƒ…å†µä¸‹éªŒè¯, alwaysè¡¨ç¤ºä¸€ç›´éªŒè¯
			[
				'feat',
				'fix',
				'docs',
				'style',
				'refactor',
				'perf',
				'test',
				'build',
				'ci',
				'revert',
				'chore'
			]
		]
	}
}
```

è¿™é‡Œæ’ä¸€å˜´, ä½ çœ‹rulesä¸­çš„é…ç½®, æ˜¯æ ¹æ®commitçš„æ ¼å¼æ¥çš„. è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹: [[git#git commitæäº¤è§„èŒƒ]]

**é…ç½®husky+commitlint**
```bash
echo "npx --no -- commitlint --edit \$1" > .husky/commit-msg
```

ä¼šåœ¨huksyæ–‡ä»¶ä¸‹ä¸‹åˆ›å»º`commit-msg`æ–‡ä»¶, å¹¶æ·»åŠ äº†å†…å®¹


##### 4.commitizen & cz-gitå®‰è£…

* commitizen: åŸºäºNode.jsçš„git commitå‘½ä»¤è¡Œå·¥å…·, è¾…åŠ©ç”Ÿæˆæ ‡å‡†åŒ–çš„commit message
* cz-git: ä¸€æ¬¾å·¥ç¨‹æ€§æ›´å¼º,è½»é‡çº§,é«˜åº¦è‡ªå®šä¹‰; ,æ ‡å‡†è¾“å‡ºæ ¼å¼çš„commitizené€‚é…å™¨.
**å®‰è£…**
```bash
npm i commitizen cz-git -D
```

**é…ç½®**
ä¿®æ”¹package.json,æ·»åŠ configç”¨æ¥æŒ‡å®šä½¿ç”¨çš„é€‚é…å™¨
```json
//package.json

{
 "sciprts": {},
 "config": {
	 "commitizen": {
		 "path": "node_modules/cz-git"
	 }
 }
}
```

cz-gitä¸commitlintè¿›è¡Œè”åŠ¨ç»™ä¸æ ¡éªŒä¿¡æ¯, æ‰€ä»¥å¯ä»¥ç¼–å†™commitlinté…ç½®æ–‡ä»¶:
```bash
// commitlint.config.js

export default {

 rules: {},
 prompt: {
    messages: {
      type: 'é€‰æ‹©è¦æäº¤çš„ç±»å‹',
      scope: 'é€‰æ‹©ä¸€ä¸ªæäº¤èŒƒå›´',
      customScope: 'é€‰æ‹©ä¸€ä¸ªæäº¤èŒƒå›´',
      subject: 'å¡«å†™ç®€çŸ­ç²¾ç‚¼çš„å˜æ›´æè¿° :\n',
      body: 'å¡«å†™æ›´åŠ è¯¦ç»†çš„å˜æ›´æè¿°(å¯é€‰)',
      breaking: 'åˆ—ä¸¾éå…¼å®¹æ€§çš„é‡å¤§çš„å˜æ›´(å¯é€‰). ä½¿ç”¨"|"æ¢è¡Œ :\n',
      footerPrefixesSelect: 'é€‰æ‹©å…³è”issueå‰ç¼€(å¯é€‰)',
      customFooterPrefix: 'å¡«å†™è‡ªå®šä¹‰issueå‰ç¼€',
      footer: 'åˆ—ä¸¾å…³è”issue(å¯é€‰) ä¾‹å¦‚: #31, #I3244 :\n',
      generatingByAI: 'æ­£åœ¨é€šè¿‡AIç”Ÿæˆä½ çš„æäº¤ç®€çŸ­æè¿°...',
      generatedSelectByAI: 'é€‰æ‹©ä¸€ä¸ªAIç”Ÿæˆçš„ç®€å•æè¿°...',
      confirmCommit: 'æ˜¯å¦ç¡®è®¤æäº¤?',
    },
    // prettier-ignore
    types: [
    { value: 'feat', name: 'ç‰¹æ€§:     æ–°å¢åŠŸèƒ½', emoji: ':sparkles:' },
    { value: 'fix', name: 'ä¿®å¤:      ä¿®å¤bug', emoji: ':bug:' },
    { value: 'docs', name: 'docs:     æ–‡æ¡£å˜æ›´', emoji: ':memo:' },
    { value: 'style', name: 'style:    ä»£ç æ ¼å¼(ä¸å½±å“ä»£ç é€»è¾‘)', emoji: ':lipstick:' },
    { value: 'refactor', name: 'refactor: é‡æ„(æ—¢ä¸å¢åŠ feature,ä¹Ÿä¸æ˜¯bugä¿®å¤)', emoji: ':recycle:' },
    { value: 'perf', name: 'perf:     æ€§èƒ½ä¼˜åŒ–', emoji: ':zap:' },
    { value: 'test', name: 'test:     æ·»åŠ æµ‹è¯•' , emoji: ':white_check_mark:'},
    { value: 'build', name: 'build:    æ‰“åŒ…' , emoji: ':construction:'},
    { value: 'ci', name: 'ci:       ä¿®æ”¹æŒç»­é›†æˆé…ç½®', emoji: ':ferris_wheel:' },
    { value: 'revert', name: 'revert:   å›é€€', emoji: ':rewind:' },
    { value: 'chore', name: 'chore:    æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜æ›´', emoji: ':hammer:' },
  ],
    useEmoji: true,
    emojiAlign: 'center',
    useAI: false,
    aiNumber: 1,
    themeColorCode: '',
    scopes: [],
    allowCustomScopes: true,
    allowEmptyScopes: true,
    customScopesAlign: 'bottom',
    customScopesAlias: 'custom',
    emptyScopesAlias: 'empty',
    upperCaseSubject: false,
    markBreakingChangeMode: false,
    allowBreakingChanges: ['feat', 'fix'],
    breaklineNumber: 100,
    breaklineChar: '|',
    skipQuestions: [],
    issuePrefixes: [
      { value: 'closed', name: 'closed: ISSUES has been processed' },
    ],
    customIssuePrefixAlign: 'top',
    emptyIssuePrefixAlias: 'skip',
    customIssuePrefixAlias: 'custom',
    allowCustomIssuePrefix: true,
    allowEmptyIssuePrefix: true,
    confirmColorize: true,
    maxHeaderLength: Infinity,
    maxSubjectLength: Infinity,
    minSubjectLength: 0,
    scopeOverrides: undefined,
    defaultBody: '',
    defaultIssues: '',
    defaultScope: '',
    defaultSubject: '',
  },
}
}
```


**æäº¤**
å› ä¸ºæ’ä»¶`commitizen`å¹¶ä¸å…¨å±€å®‰è£…çš„,æ‰€ä»¥æˆ‘ä»¬æ‰§è¡Œ`git cz`æˆ–`cz`å‘½ä»¤ä¼šå¤±è´¥. ä½†å¯ä»¥ä½¿ç”¨`npx cz`å‘½ä»¤æ¥ä»£æ›¿.

æ³¨æ„, åŸ`git commit`å‘½ä»¤ä¾ç„¶æœ‰æ•ˆ,åŒæ—¶å¦‚æœæˆ‘ä»¬ä½¿ç”¨gitå›¾å½¢åŒ–å·¥å…·ä¾‹å¦‚sourcetreeæ¥æäº¤,åˆ™æ— æ³•è§¦å‘czå‘½ä»¤. æ‰€ä»¥è¿˜æ˜¯éœ€è¦ä½¿ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼.





### 3.node&npmè§„èŒƒ

#### æ˜¯ä»€ä¹ˆ

å¼€å‘æ—¶, å¼ºåˆ¶è§„å®šä½¿ç”¨çš„nodeåŠnpmç‰ˆæœ¬

#### æ€ä¹ˆåš

##### æ–¹æ¡ˆ1-nvm

å¦‚æœä½¿ç”¨nvm,å¯ä»¥é€šè¿‡nvmé…ç½®æ–‡ä»¶è§„å®šnode&npmç‰ˆæœ¬

æ ¹æ ¹ç›®å½•ä¸‹åˆ›å»º`.nvmrc`æ–‡ä»¶,æ·»åŠ å¦‚ä¸‹å†…å®¹:
```rc
// .nvmrc  
v18.16.0
```


##### æ–¹æ¡ˆ2-é…ç½®package.json

1.é…ç½®package.jsonæ–‡ä»¶ä¸­çš„`engines`å­—æ®µæŒ‡å®šé¡¹ç›®æ‰€éœ€çš„nodeåŠnpmç‰ˆæœ¬. ç‰ˆæœ¬å¯æŒ‰ç…§nodeè§„èŒƒè¿›è¡Œæ›´æ”¹,å¯æ·»åŠ æ˜Ÿå·.
```json
//package.json  
â€‹  
{  
 Â "name": 'xxx',  
 Â "version": '0.1',  
 Â "engines": {  
 Â  Â "node": "= 18.16.0",  
 Â  Â "npm": "= 9.5.0"  
  }  
}
```


ä»¥ä¸Šå†…å®¹å¹¶ä¸ä¼šå¼ºåˆ¶ç”Ÿæ•ˆ, éœ€è¦æ­é…ä½¿ç”¨`.npmrc`æ–‡ä»¶

2.æ–°å»º`.npmrc`æ–‡ä»¶,å¹¶æ·»åŠ å†…å®¹:

```rc
//.npmrc  
â€‹  
engine-strict=true
```

å¦‚æœç‰ˆæœ¬ä¸åŒ¹é…ï¼Œ`npm install` ä¼šæŠ¥é”™ã€‚

#### æ–¹æ¡ˆ3-preinstallè„šæœ¬

åœ¨ `package.json` ä¸­ï¼Œå¯ä»¥é€šè¿‡ `preinstall` è„šæœ¬æ£€æŸ¥ Node.js å’Œ npm ç‰ˆæœ¬ã€‚

ç¤ºä¾‹ï¼š
```json
{  
 Â "scripts": {  
 Â  Â "preinstall": "node -v | grep -q 'v18.16.0' || (echo 'Error: Node.js version must be 18.16.0' && exit 1)"  
  }  
}
```


å¯ä»¥åœ¨å®‰è£…ä»¥æ¥å‰å¼ºåˆ¶æ£€æŸ¥ç‰ˆæœ¬.

#### æ–¹æ¡ˆ4-CI/CDé…ç½®

ç•¥

#### æ–¹æ¡ˆ5-è·¨å¹³å°nodeç‰ˆæœ¬ç®¡ç†å·¥å…·

[Volta](https://volta.sh/) æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„ Node.js ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå¯ä»¥é”å®šé¡¹ç›®çš„ Node.js å’Œ npm ç‰ˆæœ¬ã€‚

ç•¥

### 4.è¯·æ±‚axiosè§„èŒƒ




### 4.è„šæ‰‹æ¶è§„èŒƒ
